(this.webpackJsonpwriting_app_cra=this.webpackJsonpwriting_app_cra||[]).push([[0],{135:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var c,a,o,i,r,s,j,l=n(42),u=n(14),d=n(1),M=n.n(d),p=n(31),b=n.n(p),x=(n(135),n(8)),y=n(5),D=n(36),g=D.a.initializeApp({apiKey:"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI",authDomain:"writing-136ac.firebaseapp.com",databaseURL:"https://writing-136ac.firebaseio.com",projectId:"writing-136ac",storageBucket:"writing-136ac.appspot.com"}),O=g.firestore(),h=n(3),L=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{}),Object(h.jsx)("input",{}),Object(h.jsx)("button",{onClick:function(){D.a.auth().createUserWithEmailAndPassword("hel2lo@gai1l.com","hello123").then((function(e){var t=e.user;console.log(t),O.collection("users").doc(t.uid).set({userID:t.uid})})).catch((function(e){console.log("error signing up",e)}))},children:"Signup"})]})},N=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{}),Object(h.jsx)("input",{}),Object(h.jsx)("button",{onClick:function(){D.a.auth().signInWithEmailAndPassword("hel2lo@gai1l.com","hello123").then((function(e){console.log("signed in")})).catch((function(e){console.log(e)}))},children:"Signup"})]})},I=n(6),f=n(7),T=n(13),S=n(112),m=function(e,t,n){var c=Date.now(),a=O.collection("users").doc(e);console.log(t),void 0!==t&&a.collection("files-folders").doc(t).update({lastModified:c}).then((function(){console.log("updated")})).catch((function(e){console.log(e)})),n&&a.collection("files-folders").doc(n).update({lastModified:c}).then((function(){console.log("updated")})).catch((function(e){console.log(e),console.log(2)}))},w=n(27),z=(n(45),"CURRENT_PROJECT_ID"),C="USER_DATA",E="PROJECT_FILES",v="CURRENT_FILE_ID",A="OUTLINE_DATA",k="OUTLINE_ITEMS_DISPLAY",Y="OUTLINE_ITEMS_FOR_UPDATE",U="NOTES_DATA",P="DASHBOARD_CURRENT_SECTION",Q="ROOT_DOCS",R="LAYER_ONE_DOCS",H="LAYER_TWO_DOCS",B="LAYER_THREE_DOCS",Z="CURRENT_LAYER";function F(e){return function(t){t({type:Z,payload:e})}}function G(e){return function(t){t({type:B,payload:e})}}function J(e){return function(t){t({type:H,payload:e})}}function W(e){return function(t){t({type:R,payload:e})}}function X(e){return function(t){t({type:Q,payload:e})}}function V(e){return function(t){t({type:Y,payload:e})}}function _(e){return function(t){t({type:k,payload:e})}}var K,q,$,ee,te,ne,ce,ae,oe,ie,re,se,je,le,ue,de,Me,pe,be,xe,ye,De,ge,Oe,he,Le,Ne,Ie,fe,Te,Se,me=Object(u.b)((function(e){return{userData:e.app.userData,breadcrumbs:e.dashboard.breadcrumbs,currentLayer:e.app.currentLayer,rootDocs:e.app.rootDocs,layerOneDocs:e.app.layerOneDocs,layerTwoDocs:e.app.layerTwoDocs,layerThreeDocs:e.app.layerThreeDocs}}))((function(e){var t=Object(d.useState)(""),n=Object(y.a)(t,2),c=n[0],a=n[1],o=function(){var t;t=1===e.breadcrumbs.length?e.userData.userID:e.breadcrumbs[e.breadcrumbs.length-1].docID;var n=Date.now(),a={name:c,parentID:String(t),type:"folder",docID:String(n),lastModified:n};O.collection("users").doc(e.userData.userID).collection("files-folders").doc(String(n)).set(Object(x.a)({},a)).then((function(){console.log("folder created"),r(a),e.setIsCreateProjectModal(!1)})).catch((function(e){console.log(e)}))},i=function(t){var n;n=1===e.breadcrumbs.length?e.userData.userID:e.breadcrumbs[e.breadcrumbs.length-1].docID;var a="";!function o(){var i=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,c=0;c<12;c++)e+=t.charAt(Math.floor(Math.random()*n));return e}();O.collection("docID").where("docID","==",i).get().then((function(s){if(s.empty){a=i;var j=Date.now(),l={name:c,type:t,parentID:String(n),docID:String(a),dateCreated:j,lastModified:j};O.collection("users").doc(e.userData.userID).collection("files-folders").doc(a).set(Object(x.a)({},l)).then((function(){console.log("new file preview created"),r(l)})),"outline"===t&&(l.data=[]),"notes"!==t&&"screenplay"!==t||(l.text="");l.lastModified;var u=Object(S.a)(l,["lastModified"]);O.collection("users").doc(e.userData.userID).collection("files").doc(a).set(Object(x.a)({},u)).then((function(){console.log("new file created");var n="/writing-app/edit/".concat(t,"/").concat(a);window.open(n,"_blank")||(document.location=n),e.setIsCreateProjectModal(!1),e.projectSelectedData.docID&&m(e.userData.userID,String(e.projectSelectedData.docID))})),O.collection("docID").add({docID:a})}else o()}))}()},r=function(t){0===e.currentLayer&&e.dispatch(X([t].concat(Object(T.a)(e.rootDocs)))),1===e.currentLayer&&e.dispatch(W([t].concat(Object(T.a)(e.layerOneDocs)))),2===e.currentLayer&&e.dispatch(J([t].concat(Object(T.a)(e.layerTwoDocs)))),3===e.currentLayer&&e.dispatch(G([t].concat(Object(T.a)(e.layerThreeDocs))))};return Object(h.jsxs)(ke,{"aria-label":"create document",isOpen:e.isCreateProjectModal,onDismiss:function(){return e.setIsCreateProjectModal(!1)},children:[Object(h.jsxs)(we,{children:[Object(h.jsxs)("h1",{children:["Create new ",e.createType]}),Object(h.jsx)(ze,{label:"close rename dialog",onClick:function(){return e.setIsCreateProjectModal(!1)},children:Object(h.jsx)(Ce,{alt:"delete",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg=="})})]}),Object(h.jsx)(Ae,{autoComplete:"off",onChange:function(e){return a(e.target.value)}}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ve,{onClick:function(){return e.setIsCreateProjectModal(!1)},children:"Cancel"}),Object(h.jsx)(Ee,{onClick:function(){return"folder"===e.createType&&e.currentLayer<3?o():"folder"!==e.createType?i(e.createType):void 0},children:"Create project"})]})]})})),we=f.b.div(c||(c=Object(I.a)(["\n    display: flex;\n    justify-content: space-between;\n"]))),ze=f.b.button(a||(a=Object(I.a)(["\n    align-self: flex-end;\n"]))),Ce=f.b.img(o||(o=Object(I.a)([" \n    width: 18px;\n    height: 18px;\n"]))),Ee=f.b.button(i||(i=Object(I.a)(["\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n"]))),ve=f.b.button(r||(r=Object(I.a)(["\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 10px;\n"]))),Ae=f.b.input(s||(s=Object(I.a)(["\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n"]))),ke=Object(f.b)(w.a)(j||(j=Object(I.a)(["\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n"]))),Ye=n(52),Ue=(n(140),n(117)),Pe=n.n(Ue),Qe=Object(u.b)((function(e){return{userData:e.app.userData,currentLayer:e.app.currentLayer,rootDocs:e.app.rootDocs,layerOneDocs:e.app.layerOneDocs,layerTwoDocs:e.app.layerTwoDocs,layerThreeDocs:e.app.layerThreeDocs}}))((function(e){var t=Object(d.useState)(""),n=Object(y.a)(t,2),c=n[0],a=n[1],o=function(t){O.collection("users").doc(e.userData.userID).collection("files-folders").doc(String(e.projectSelectedData.docID)).update({name:c}).then((function(){r(),console.log("file rename successful"),e.setShowRenameModal(!1)})),"folder"!==e.projectSelectedData.type&&O.collection("users").doc(e.userData.userID).collection("files").doc(String(e.projectSelectedData.docID)).update({name:c}).then((function(){console.log("file rename successful"),s(t),e.setShowRenameModal(!1)}))},i={0:e.rootDocs,1:e.layerOneDocs,2:e.layerTwoDocs,3:e.layerThreeDocs},r=function(){var t=i[e.currentLayer];t[e.projectSelectedData.currentIndex].name=c,0===e.currentLayer&&e.dispatch(X(t)),1===e.currentLayer&&e.dispatch(W(t)),2===e.currentLayer&&e.dispatch(J(t)),3===e.currentLayer&&e.dispatch(G(t))},s=function(t){"Enter"!==t.code&&"Space"!==t.code&&"Escape"!==t.code||(t.preventDefault(),e.setShowRenameModal(!1))};return Object(h.jsx)(We,{children:Object(h.jsxs)(Je,{"aria-label":"change ".concat(e.projectSelectedData.type," name of ").concat(e.projectSelectedData.name),isOpen:e.showRenameModal,onDismiss:function(){return e.setShowRenameModal(!1)},children:[Object(h.jsx)(Re,{label:"close rename dialog",onKeyDown:function(e){return s(e)},onMouseDown:function(){return e.setShowRenameModal(!1)},id:"rename-doc-close-button",children:Object(h.jsx)(He,{alt:"delete",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg=="})}),Object(h.jsxs)(Be,{children:["Rename ",e.projectSelectedData.type]}),Object(h.jsx)(Ge,{defaultValue:e.projectSelectedData.name,autoComplete:"off",id:"rename-file-input",onChange:function(e){return a(e.target.value)}}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Fe,{onKeyDown:function(e){return s(e)},onMouseDown:function(){return e.setShowRenameModal(!1)},children:"Cancel"}),Object(h.jsx)(Ze,{onKeyDown:function(e){"Enter"!==e.code&&"Space"!==e.code&&"Escape"!==e.code||o(e)},onMouseDown:o,children:"Rename"})]})]})})})),Re=f.b.button(K||(K=Object(I.a)(["\n    align-self: flex-end;\n"]))),He=f.b.img(q||(q=Object(I.a)([" \n    width: 18px;\n    height: 18px;\n"]))),Be=f.b.h1($||($=Object(I.a)(["\n    font-size: 1.75rem;\n"]))),Ze=f.b.button(ee||(ee=Object(I.a)(["\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n"]))),Fe=f.b.button(te||(te=Object(I.a)(["\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 5px;\n"]))),Ge=f.b.input(ne||(ne=Object(I.a)(["\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n"]))),Je=Object(f.b)(w.a)(ce||(ce=Object(I.a)(["\n    background-color: white;\n    min-height: 400px;\n    width: 500px;\n    /* position: fixed; */\n    /* top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); */\n    border-radius: 15px;\n    flex-direction: column;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n"]))),We=f.b.div(ae||(ae=Object(I.a)(["\n"]))),Xe=Object(u.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay,currentLayer:e.app.currentLayer,rootDocs:e.app.rootDocs,layerOneDocs:e.app.layerOneDocs,layerTwoDocs:e.app.layerTwoDocs,layerThreeDocs:e.app.layerThreeDocs}}))((function(e){var t=function(e){console.log("deleting docs"),"folder"!==e.type?n(e.docID,e.currentIndex):c(e.docID,e.currentIndex)},n=function(t){O.collection("users").doc(e.userData.userID).collection("files").doc(String(t)).delete().catch((function(e){return console.log(e)})),O.collection("users").doc(e.userData.userID).collection("files-folders").doc(String(t)).delete().catch((function(e){return console.log(e)})),e.setShowDeleteModal(!1)},c=function(n){O.collection("users").doc(e.userData.userID).collection("files-folders").where("parentID","==",String(n)).get().then((function(e){e.forEach((function(e){t(e.data())}))})).then((function(){O.collection("users").doc(e.userData.userID).collection("files-folders").doc(String(n)).delete().then((function(){return null})).catch((function(e){return console.log(e)})),e.setShowDeleteModal(!1)}))},a={0:e.rootDocs,1:e.layerOneDocs,2:e.layerTwoDocs,3:e.layerThreeDocs},o=function(t){"folder"!==t.type?n(t.docID):c(t.docID),function(t){var n=Object(T.a)(a[e.currentLayer]);n.splice(t,1),0===e.currentLayer&&e.dispatch(X(n)),1===e.currentLayer&&e.dispatch(W(n)),2===e.currentLayer&&e.dispatch(J(n)),3===e.currentLayer&&e.dispatch(G(n))}(t.currentIndex)},i=function(t){"Enter"!==t.code&&"Space"!==t.code&&"Escape"!==t.code||(t.preventDefault(),e.setShowDeleteModal(!1))};return Object(h.jsx)("div",{children:Object(h.jsxs)(tt,{isOpen:e.showDeleteModal,onDismiss:function(){return e.setShowDeleteModal(!1)},"aria-label":"cancel delete",children:[Object(h.jsxs)(Ve,{children:[Object(h.jsx)(_e,{children:"Delete ".concat(e.projectSelectedData.type)}),Object(h.jsx)(Ke,{label:"close rename dialog",onKeyDown:function(e){return i(e)},onMouseDown:function(){return e.setShowDeleteModal(!1)},children:Object(h.jsx)(qe,{alt:"delete",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg=="})})]}),Object(h.jsx)("p",{children:"Are you sure you want to delete ".concat(e.projectSelectedData.name,"?")}),Object(h.jsxs)("div",{children:[Object(h.jsx)($e,{onKeyDown:function(e){return i(e)},onMouseDown:function(){return e.setShowDeleteModal(!1)},children:"Cancel"}),Object(h.jsx)(et,{onClick:function(){return o(e.projectSelectedData)},children:"Delete"})]})]})})})),Ve=f.b.div(oe||(oe=Object(I.a)(["\n    display: flex;\n    justify-content: space-between;\n"]))),_e=f.b.h1(ie||(ie=Object(I.a)(["\n    font-size: 1.75rem;\n"]))),Ke=f.b.button(re||(re=Object(I.a)(["\n    align-self: flex-end;\n"]))),qe=f.b.img(se||(se=Object(I.a)([" \n    width: 18px;\n    height: 18px;\n"]))),$e=f.b.button(je||(je=Object(I.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),et=f.b.button(le||(le=Object(I.a)(["\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n"]))),tt=Object(f.b)(w.a)(ue||(ue=Object(I.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),nt="BREADCRUMBS",ct="SORT_METHOD";function at(e){return function(t){t({type:ct,payload:e})}}function ot(e){return function(t){t({type:nt,payload:e})}}var it,rt,st,jt,lt,ut,dt,Mt,pt,bt,xt,yt,Dt,gt,Ot,ht,Lt,Nt,It,ft,Tt,St,mt,wt,zt,Ct,Et,vt,At,kt,Yt,Ut,Pt,Qt,Rt,Ht,Bt,Zt,Ft,Gt,Jt,Wt,Xt,Vt,_t,Kt,qt,$t,en,tn,nn,cn,an,on,rn,sn,jn,ln,un,dn,Mn,pn,bn,xn,yn=Object(u.b)((function(e){return{userData:e.app.userData,rootDocs:e.app.rootDocs,currentLayer:e.app.currentLayer,currentProjectID:e.app.currentProjectID,layerOneDocs:e.app.layerOneDocs,layerTwoDocs:e.app.layerTwoDocs,layerThreeDocs:e.app.layerThreeDocs,breadcrumbs:e.dashboard.breadcrumbs,sortMethod:e.dashboard.sortMethod}}))((function(e){var t,n=Object(d.useState)(!1),c=Object(y.a)(n,2),a=c[0],o=c[1],i=Object(d.useState)(!1),r=Object(y.a)(i,2),s=r[0],j=r[1],l={0:e.rootDocs,1:e.layerOneDocs,2:e.layerTwoDocs,3:e.layerThreeDocs},u=function(t,n,c){document.activeElement.blur(),"folder"===t?O.collection("users").doc(e.userData.userID).collection("files-folders").where("parentID","==",n).get().then((function(t){var a,o=[];t.forEach((function(e){o.push(e.data())})),"dateAsc"===e.sortMethod&&(a=p),"dateDesc"===e.sortMethod&&(a=b),"typeAsc"===e.sortMethod&&(a=L),"typeDesc"===e.sortMethod&&(a=N),"nameAsc"===e.sortMethod&&(a=D),"nameDesc"===e.sortMethod&&(a=g),0===e.currentLayer?e.dispatch(W(o.sort(a))):1===e.currentLayer?e.dispatch(J(o.sort(a))):2===e.currentLayer&&(e.dispatch(G(o.sort(a))),console.log(o)),e.dispatch(F(e.currentLayer+1));var i={name:c,docID:n},r=Object(T.a)(e.breadcrumbs);r.push(i),e.dispatch(ot(r))})):M(t,n)},M=function(e,t){var n="/writing-app/edit/".concat(e,"/").concat(t);window.open(n,"_blank")||(document.location=n)},p=function(e,t){return e.lastModified-t.lastModified},b=function(e,t){return t.lastModified-e.lastModified},D=function(e,t){return t.name.localeCompare(e.name)},g=function(e,t){return e.name.localeCompare(t.name)},L=function(e,t){return t.type.localeCompare(e.type)},N=function(e,t){return e.type.localeCompare(t.type)},I=function(t){var n,c;"name"===t&&("nameDesc"===e.sortMethod?(n=D,c="nameAsc"):(n=g,c="nameDesc")),"type"===t&&("typeDesc"===e.sortMethod?(n=L,c="typeAsc"):(n=N,c="typeDesc")),"date"===t&&("dateDesc"===e.sortMethod?(n=p,c="dateAsc"):(n=b,c="dateDesc")),e.dispatch(at(c)),e.rootDocs.length>0&&e.dispatch(X(e.rootDocs.sort(n))),e.layerOneDocs.length>0&&e.dispatch(W(e.layerOneDocs.sort(n))),e.layerTwoDocs.length>0&&e.dispatch(J(e.layerTwoDocs.sort(n))),e.layerThreeDocs.length>0&&e.dispatch(G(e.layerThreeDocs.sort(n))),O.collection("users").doc(e.userData.userID).collection("files-folders").doc("preferences").update({sortMethod:c})};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(Sn,{role:"table",children:[Object(h.jsx)(Tn,{role:"heading",children:Object(h.jsxs)(mn,{role:"rowheader",children:[Object(h.jsx)(In,{role:"heading",children:Object(h.jsxs)(Dn,{onClick:function(){return I("name")},children:["Name","nameDesc"===e.sortMethod&&Object(h.jsx)(gn,{rotate:"rotate(180deg)",alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+"}),"nameAsc"===e.sortMethod&&Object(h.jsx)(gn,{rotate:"rotate(0deg)",alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+"})]})}),Object(h.jsx)(In,{role:"heading",children:Object(h.jsxs)(Dn,{onClick:function(){return I("type")},children:["Type","typeDesc"===e.sortMethod&&Object(h.jsx)(gn,{rotate:"rotate(180deg)",alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+"}),"typeAsc"===e.sortMethod&&Object(h.jsx)(gn,{rotate:"rotate(0deg)",alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+"})]})}),Object(h.jsx)(In,{role:"heading",children:Object(h.jsxs)(Dn,{onClick:function(){return I("date")},children:["Last modified","dateDesc"===e.sortMethod&&Object(h.jsx)(gn,{rotate:"rotate(180deg)",alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+"}),"dateAsc"===e.sortMethod&&Object(h.jsx)(gn,{rotate:"rotate(0deg)",alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+"})]})}),Object(h.jsx)(In,{"aria-label":"settings",role:"heading"})]})}),Object(h.jsx)(fn,{role:"row",children:null===(t=l[e.currentLayer])||void 0===t?void 0:t.map((function(t,n){return Object(h.jsxs)(wn,{id:"projects-table-row",tabIndex:"0",onKeyDown:function(e){return function(e,t,n,c){"Enter"!==e&&"Space"!==e||"projects-table-row"!==document.activeElement.id||u(t,n,c)}(e.code,t.type,t.docID,t.name)},role:"button",onFocus:function(){return function(t,n){e.setProjectSelectedData(Object(x.a)(Object(x.a)({},t),{},{currentIndex:n}))}(t,n)},onClick:function(){return u(t.type,t.docID,t.name)},children:[Object(h.jsx)(vn,{role:"cell",children:Object(h.jsxs)(On,{children:["folder"===t.type&&Object(h.jsx)(hn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+"}),"screenplay"===t.type&&Object(h.jsx)(hn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4="}),"notes"===t.type&&Object(h.jsx)(hn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+"}),"outline"===t.type&&Object(h.jsx)(hn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4="}),t.name]})}),Object(h.jsx)(vn,{role:"cell",children:t.type}),Object(h.jsx)(vn,{role:"cell",children:Pe()(t.lastModified).format("ll")}),Object(h.jsx)(vn,{role:"cell",children:Object(h.jsxs)(Nn,{children:[Object(h.jsxs)(Cn,{onClick:function(e){return function(e){e.stopPropagation(),j(!0)}(e)},label:"rename file",children:[Object(h.jsx)(Ln,{children:"Rename"}),Object(h.jsx)(En,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg=="}),Object(h.jsx)(zn,{})]}),Object(h.jsxs)(Cn,{onClick:function(e){return function(e){e.stopPropagation(),o(!0)}(e)},label:"delete file",children:[Object(h.jsx)(Ln,{children:"Delete"}),Object(h.jsx)(En,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+"}),Object(h.jsx)(zn,{})]})]})})]},n)}))})]}),Object(h.jsx)(Qe,{showRenameModal:s,projectSelectedData:e.projectSelectedData,setShowRenameModal:j}),Object(h.jsx)(Xe,{showDeleteModal:a,projectSelectedData:e.projectSelectedData,setShowDeleteModal:o})]})})),Dn=f.b.button(de||(de=Object(I.a)(["\n    display: flex;\n    align-items: center;\n"]))),gn=f.b.img(Me||(Me=Object(I.a)(["\n    height: 10px;\n    width: 10px;\n    margin-left: 5px;\n    transform: ",";\n"])),(function(e){return e.rotate})),On=f.b.div(pe||(pe=Object(I.a)(["\n    display: flex;\n    align-items: center;\n"]))),hn=f.b.img(be||(be=Object(I.a)(["\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n"]))),Ln=f.b.div(xe||(xe=Object(I.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n"]))),Nn=f.b.div(ye||(ye=Object(I.a)(["\n    opacity: 0;\n    display: flex;\n"]))),In=f.b.div(De||(De=Object(I.a)(["\n    display: table-cell;\n    text-align: left;\n    /* padding: 0.5rem; */\n    padding: 10px 15px;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n    white-space: nowrap;\n"]))),fn=f.b.div(ge||(ge=Object(I.a)(["\n    display: table-row-group;\n"]))),Tn=f.b.div(Oe||(Oe=Object(I.a)(["\n    display: table-header-group;\n"]))),Sn=f.b.div(he||(he=Object(I.a)(["\n    display: table;\n    width: 100%;\n    max-width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n    /* table-layout: fixed; */\n"]))),mn=f.b.div(Le||(Le=Object(I.a)(["\n    display: table-row;\n    background-color: transparent;\n"]))),wn=f.b.div(Ne||(Ne=Object(I.a)(["\n    border-collapse: separate;\n    cursor: pointer;\n    display: table-row;\n    background-color: hsl(20, 0%, 97%);\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        "," {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        "," {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n"])),Nn,Nn),zn=f.b.div(Ie||(Ie=Object(I.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n"]))),Cn=f.b.button(fe||(fe=Object(I.a)(["\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n"])),zn,Ln,zn,Ln),En=f.b.img(Te||(Te=Object(I.a)([" \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n"]))),vn=f.b.div(Se||(Se=Object(I.a)(["\n    display: table-cell;\n    padding: 15px 20px;\n    vertical-align: middle;\n    /* text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden; */\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n"]))),An=Object(u.b)((function(e){return{userData:e.app.userData,projects:e.dashboard.projects}}))((function(e){var t=Object(d.useState)(!1),n=Object(y.a)(t,2),c=n[0],a=n[1],o=Object(d.useState)({}),i=Object(y.a)(o,2),r=i[0],s=i[1],j=Object(d.useState)(""),l=Object(y.a)(j,2),u=l[0],M=l[1];Object(d.useEffect)((function(){e.userData.userID&&N()}),[e.userData]);var p=function(e,t){return e.lastModified-t.lastModified},b=function(e,t){return t.lastModified-e.lastModified},x=function(e,t){return t.name.localeCompare(e.name)},D=function(e,t){return e.name.localeCompare(t.name)},g=function(e,t){return t.name.localeCompare(e.name)},L=function(e,t){return e.type.localeCompare(t.type)},N=function(){O.collection("users").doc(e.userData.userID).collection("files-folders").where("parentID","==",e.userData.userID).get().then((function(t){var n,c=[];return t.forEach((function(t){var a=t.data();a.sortMethod?(n=a.sortMethod,e.dispatch(at(a.sortMethod))):c.push(a)})),e.dispatch(F(0)),"dateAsc"===n?e.dispatch(X(c.sort(p))):"dateDesc"===n?e.dispatch(X(c.sort(b))):"nameAsc"===n?e.dispatch(X(c.sort(x))):"nameDesc"===n?e.dispatch(X(c.sort(D))):"typeAsc"===n?e.dispatch(X(c.sort(g))):"typeDesc"===n?e.dispatch(X(c.sort(L))):void 0}))},I=function(e){a(!0),M(e)};return Object(h.jsxs)(kn,{children:[Object(h.jsx)(me,{isCreateProjectModal:c,projectSelectedData:r,setProjectSelectedData:s,createType:u,getProjects:N,setIsCreateProjectModal:a}),Object(h.jsxs)(Ye.a,{children:[Object(h.jsxs)(Rn,{children:[Object(h.jsx)(Yn,{children:"+"})," Create new"]}),Object(h.jsxs)(Hn,{children:[Object(h.jsx)(Un,{onSelect:function(){return I("folder")},children:Object(h.jsxs)(Pn,{children:[Object(h.jsx)(Qn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+"}),"Folder"]})}),Object(h.jsx)(Un,{onSelect:function(){return I("screenplay")},children:Object(h.jsxs)(Pn,{children:[Object(h.jsx)(Qn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4="}),"Screenplay"]})}),Object(h.jsx)(Un,{onSelect:function(){return I("outline")},children:Object(h.jsxs)(Pn,{children:[Object(h.jsx)(Qn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+"}),"Outline"]})}),Object(h.jsx)(Un,{onSelect:function(){return I("notes")},children:Object(h.jsxs)(Pn,{children:[Object(h.jsx)(Qn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4="}),"Notes"]})})]})]}),Object(h.jsx)(yn,{projectSelectedData:r,setProjectSelectedData:s})]})})),kn=f.b.div(it||(it=Object(I.a)(["\n    width: 75vw;\n"]))),Yn=f.b.span(rt||(rt=Object(I.a)(["\n    font-size: 1.75rem;\n    margin-right: 5px;\n"]))),Un=Object(f.b)(Ye.c)(st||(st=Object(I.a)(["\n    font-size: 1rem;\n"]))),Pn=f.b.div(jt||(jt=Object(I.a)(["\n    display: flex;\n"]))),Qn=f.b.img(lt||(lt=Object(I.a)(["\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n"]))),Rn=Object(f.b)(Ye.b)(ut||(ut=Object(I.a)(["\n    background-color: black;\n    color: white;\n    padding: 8px 15px;\n    border-radius: 10px;\n    margin: 0px 0 20px 0;\n    display: flex;\n    align-items: center;\n    font-size: .875rem;\n"]))),Hn=Object(f.b)(Ye.d)(dt||(dt=Object(I.a)(["\n    min-width: 100px;\n"]))),Bn=Object(u.b)((function(e){return{userData:e.app.userData,showProjects:e.dashboard.showProjects}}))((function(e){Object(d.useEffect)((function(){t()}),[e.userData]);var t=function(){O.collection("users").doc(e.userData.userID).collection("projects").get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data())}))}))};return Object(h.jsx)("div",{children:Object(h.jsx)(An,{})})})),Zn=Object(u.b)((function(e){return{userData:e.app.userData,projects:e.dashboard.projects,projectFiles:e.app.projectFiles,dashboardCurrentSection:e.app.dashboardCurrentSection}}))((function(e){var t=function(t){return e.dispatch((n=t,function(e){e({type:P,payload:n})}));var n};return Object(h.jsxs)(Fn,{children:[Object(h.jsx)(Vn,{children:"Redraft"}),Object(h.jsxs)(Jn,{children:[Object(h.jsx)(Gn,{children:Object(h.jsxs)(Wn,{onClick:function(){return t("projects")},background:"projects"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"transparent",hover:"projects"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"hsl(200, 10%, 95%)",children:[Object(h.jsx)(Xn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg=="}),"All files"]})}),Object(h.jsx)(Gn,{children:Object(h.jsxs)(Wn,{onClick:function(){return t("analytics")},background:"analytics"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"transparent",hover:"analytics"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"hsl(200, 10%, 95%)",children:[Object(h.jsx)(Xn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4="}),"Analytics"]})}),Object(h.jsx)(Gn,{children:Object(h.jsxs)(Wn,{onClick:function(){return t("settings")},background:"settings"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"transparent",hover:"settings"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"hsl(200, 10%, 95%)",children:[Object(h.jsx)(Xn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4="}),"Settings"]})}),Object(h.jsx)(Gn,{children:Object(h.jsxs)(Wn,{onClick:function(){return t("deleted")},background:"deleted"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"transparent",hover:"deleted"===e.dashboardCurrentSection?"hsl(202, 40%, 85%)":"hsl(200, 10%, 95%)",children:[Object(h.jsx)(Xn,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+"}),"Deleted"]})})]})]})})),Fn=f.b.div(Mt||(Mt=Object(I.a)(["\n    width: 18vw;\n    /* margin: 0 0 0 20px; */\n    padding: 0 20px;\n    background-color: hsl(0, 0%, 97%);\n    height: 100vh;\n    /* margin-top: 115px; */\n"]))),Gn=f.b.li(pt||(pt=Object(I.a)(["\n"]))),Jn=f.b.ul(bt||(bt=Object(I.a)(["\n"]))),Wn=f.b.button(xt||(xt=Object(I.a)(["\n    background-color: ",";\n    border: none;\n    padding: 10px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    border-radius: 5px;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ",";\n    }\n"])),(function(e){return e.background}),(function(e){return e.hover})),Xn=f.b.img(yt||(yt=Object(I.a)(["\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n"]))),Vn=f.b.h1(Dt||(Dt=Object(I.a)(["\n    font-size: 1.5rem;\n    font-weight: 700;\n    display: grid;\n    justify-content: center;\n    padding: 20px;\n    margin: 30px 0 70px 0;\n"]))),_n=Object(u.b)((function(e){return{breadcrumbs:e.dashboard.breadcrumbs,currentLayer:e.app.currentLayer,rootLayer:e.app.rootLayer,layerOneDocs:e.app.layerOneDocs,layerTwoDocs:e.app.layerTwoDocs,layerThreeDocs:e.app.layerThreeDocs}}))((function(e){return Object(h.jsx)(qn,{children:e.breadcrumbs.map((function(t,n){return Object(h.jsx)(Kn,{onClick:function(){return function(t){e.dispatch(F(t));var n=Object(T.a)(e.breadcrumbs).slice(0,t+1);e.dispatch(ot(n)),t<=0&&e.dispatch(W([])),t<=1&&e.dispatch(J([])),t<=2&&e.dispatch(G([]))}(n)},children:t.name},n)}))})})),Kn=f.b.button(gt||(gt=Object(I.a)(['\n    cursor: pointer;\n    font-size: 1.75rem;\n    font-weight: 500;\n    &:not(:first-of-type) {\n        margin-left: 5px;\n        &:before {\n            margin-right: 5px;\n            content: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAzbDMuMDU3LTMgMTEuOTQzIDEyLTExLjk0MyAxMi0zLjA1Ny0zIDktOXoiLz48L3N2Zz4=");\n        }\n    }\n    &:not(:last-of-type) {\n        margin-left: 5px;\n        opacity: 0.6;\n        font-size: 1.7rem;\n        font-weight: 400;\n    }\n    &:hover{\n        opacity: 1;\n    }\n']))),qn=f.b.nav(Ot||(Ot=Object(I.a)(["\n    display: flex;\n    margin: 20px 0;\n"]))),$n=Object(u.b)((function(e){return{showProjects:e.dashboard.showProjects}}))((function(){return Object(h.jsxs)(tc,{children:[Object(h.jsx)(Zn,{}),Object(h.jsxs)(ec,{children:[Object(h.jsx)(_n,{}),Object(h.jsx)(Bn,{})]})]})})),ec=f.b.div(ht||(ht=Object(I.a)(["\n    padding: 0 10px 0 50px;\n"]))),tc=f.b.div(Lt||(Lt=Object(I.a)(["\n    /* width: 100vw;  */\n    display: flex;\n"]))),nc=n(41),cc=Object(u.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsDisplay:e.app.outlineItemsDisplay,outlineItemsForUpdate:e.app.outlineItemsForUpdate}}))((function(e){var t=Object(d.useState)(""),n=Object(y.a)(t,2),c=n[0],a=n[1],o=Object(d.useState)(""),i=Object(y.a)(o,2),r=i[0],s=i[1];return Object(h.jsxs)(jc,{onDismiss:function(){return e.setShowEditModal(!1)},"aria-label":"edit card",isOpen:e.showEditModal,children:[Object(h.jsx)(ac,{children:"Edit card"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(rc,{autoComplete:"off",onChange:function(e){return a(e.target.value)},id:"edit-card-modal-title",defaultValue:e.title}),Object(h.jsx)("div",{style:{marginBottom:"20px"}}),Object(h.jsx)(sc,{onChange:function(e){return s(e.target.value)},id:"edit-card-modal-text",defaultValue:e.text})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(oc,{onKeyDown:function(t){return function(t){"Enter"!==t.code&&"Space"!==t.code&&"Escape"!==t.code||(t.preventDefault(),e.setShowEditModal(!1),document.getElementById("card-edit-button-".concat(e.cardIndex)).focus())}(t)},onMouseDown:function(){return e.setShowEditModal(!1)},children:"Cancel"}),Object(h.jsx)(ic,{onClick:function(){var t={index:e.cardIndex,title:c||e.title,text:r||e.text},n=Object(T.a)(e.outlineItemsForUpdate),a=Object(T.a)(e.outlineItemsDisplay);n[e.cardIndex]=t,a[e.itemIndexes[e.cardIndex]]=t,e.dispatch(_(Object(T.a)(a))),e.dispatch(V(n)),O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:n}).then((function(){e.setShowEditModal(!1)})).catch((function(e){console.log(e)})),m(e.userData.userID,String(e.outlineData.docID),e.match.params.fileID)},children:"Save"})]})]})})),ac=f.b.h1(Nt||(Nt=Object(I.a)(["\n    font-size: 1.75rem;\n"]))),oc=f.b.button(It||(It=Object(I.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),ic=f.b.button(ft||(ft=Object(I.a)(["\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),rc=f.b.input(Tt||(Tt=Object(I.a)(["\n    width: 500px;\n    height: 40px;\n"]))),sc=f.b.textarea(St||(St=Object(I.a)(["\n    width: 500px;\n    height: 100px;\n"]))),jc=Object(f.b)(w.a)(mt||(mt=Object(I.a)(["\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),lc=Object(u.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){return Object(h.jsxs)(pc,{"aria-label":"delete card dialog",isOpen:e.showDeleteModal,onDismiss:function(){return e.setShowDeleteModal(!1)},children:[Object(h.jsx)(uc,{children:"Delete card"}),Object(h.jsx)("p",{children:"Are you sure you want to delete this card?"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(dc,{onKeyDown:function(t){"Enter"!==t.code&&"Space"!==t.code&&"Escape"!==t.code||(t.preventDefault(),e.setShowDeleteModal(!1),document.getElementById("card-delete-button-".concat(e.cardIndex)).focus())},onMouseDown:function(){return e.setShowDeleteModal(!1)},children:"Cancel"}),Object(h.jsx)(Mc,{onClick:function(){var t=Object(T.a)(e.outlineItemsForUpdate);t.splice(e.cardIndex,1);var n=t.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})}));e.dispatch(V(n)),e.dispatch(_(n));for(var c=[],a=0;a<e.itemIndexes.length-1;a++)c.push(String(a));e.setItemIndexes(c),O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:n}).then((function(){e.setShowDeleteModal(!1)})).catch((function(e){console.log(e)})),m(e.userData.userID,String(e.outlineData.docID),e.match.params.fileID)},children:"Delete"})]})]})})),uc=f.b.h1(wt||(wt=Object(I.a)(["\n    font-size: 1.75rem;\n"]))),dc=f.b.button(zt||(zt=Object(I.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),Mc=f.b.button(Ct||(Ct=Object(I.a)(["\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),pc=Object(f.b)(w.a)(Et||(Et=Object(I.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),bc=Object(u.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){var t=Object(d.useState)(""),n=Object(y.a)(t,2),c=n[0],a=n[1],o=Object(d.useState)(""),i=Object(y.a)(o,2),r=i[0],s=i[1],j=Object(d.useState)(),l=Object(y.a)(j,2),u=l[0],M=l[1];Object(d.useEffect)((function(){var t;M((null===e||void 0===e||null===(t=e.outlineItemsForUpdate)||void 0===t?void 0:t.length)+1)}),[e.outlineItemsForUpdate]);return Object(h.jsxs)(Nc,{"aria-label":"create card",isOpen:e.showCreateModal,onDismiss:function(){return e.setShowCreateModal(!1)},children:[Object(h.jsx)(xc,{children:"Create new card"}),Object(h.jsx)(Oc,{children:"Title"}),Object(h.jsx)(Dc,{onChange:function(e){return a(e.target.value)}}),Object(h.jsx)(Oc,{children:"Description"}),Object(h.jsx)(yc,{onChange:function(e){return s(e.target.value)}}),Object(h.jsx)(Oc,{children:"Insert at location:"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(gc,{defaultValue:e.outlineItemsForUpdate.length+1,id:"create-card-location",onChange:function(e){return M(e.target.value)}})," / ",e.outlineItemsDisplay.length+1]}),Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)(hc,{onClick:function(){return e.setShowCreateModal(!1)},children:"Cancel"}),Object(h.jsx)(Lc,{onClick:function(){var t=0;e.outlineItemsForUpdate&&(t=e.outlineItemsForUpdate.length);var n={title:c,text:r,index:u},a=Object(T.a)(e.outlineItemsForUpdate),o=Object(T.a)(e.itemIndexes);a.splice(u-1,0,n);var i=a.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})}));o.splice(u,0,String(t));for(var s=[],j=0;j<e.itemIndexes.length+1;j++)s.push(String(j));e.setItemIndexes(s),e.dispatch(_(i)),e.dispatch(V(i)),O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:i}).then((function(){e.setShowCreateModal(!1)})),m(e.userData.userID,String(e.outlineData.docID),e.match.params.fileID)},children:"Create"})]})]})})),xc=f.b.h1(vt||(vt=Object(I.a)(["\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n"]))),yc=f.b.textarea(At||(At=Object(I.a)(["\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n"]))),Dc=f.b.input(kt||(kt=Object(I.a)(["\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n"]))),gc=f.b.input(Yt||(Yt=Object(I.a)(["\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n"]))),Oc=f.b.label(Ut||(Ut=Object(I.a)(["\n"]))),hc=f.b.button(Pt||(Pt=Object(I.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n"]))),Lc=f.b.button(Qt||(Qt=Object(I.a)(["\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),Nc=Object(f.b)(w.a)(Rt||(Rt=Object(I.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n"]))),Ic=n(18),fc=n(43),Tc=function(e){var t=function(t,n){e.setTitle(t),e.setText(n),e.setShowEditModal(!0),e.setCardIndex(e.index)},n=function(){e.setShowDeleteModal(!0),e.setCardIndex(e.index)};return Object(h.jsxs)(Uc,Object(x.a)(Object(x.a)({},e),{},{ref:e.innerRef,children:[Object(h.jsxs)(Cc,{children:[Object(h.jsx)(kc,{children:e.title}),Object(h.jsxs)(Ec,{children:[Object(h.jsxs)(zc,{children:[Object(h.jsxs)(vc,{id:"card-edit-button-".concat(e.index),role:"button",onClick:function(){return t(e.title,e.text)},onKeyDown:function(n){return function(e,n,c){"Enter"!==e.key&&"Space"!==e.key||(t(n,c),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault())}(n,e.title,e.text)},children:[Object(h.jsx)(Sc,{children:"Rename"}),Object(h.jsx)(mc,{}),Object(h.jsx)(Ac,{alt:"edit",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg=="})]}),Object(h.jsxs)(vc,{id:"card-delete-button-".concat(e.index),role:"button",onClick:n,onKeyDown:function(e){return function(e){"Enter"!==e.key&&"Space"!==e.key||(n(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault())}(e)},children:[Object(h.jsx)(Sc,{children:"Delete"}),Object(h.jsx)(mc,{}),Object(h.jsx)(Ac,{alt:"delete",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg=="})]})]}),Object(h.jsx)(wc,{children:e.index+1})]})]}),Object(h.jsx)("div",{}),Object(h.jsx)(Yc,{children:e.text})]}))},Sc=f.b.div(Ht||(Ht=Object(I.a)(["\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n    font-size: 1rem;\n"]))),mc=f.b.div(Bt||(Bt=Object(I.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n"]))),wc=f.b.p(Zt||(Zt=Object(I.a)(["\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n"]))),zc=f.b.div(Ft||(Ft=Object(I.a)(["\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n"]))),Cc=f.b.div(Gt||(Gt=Object(I.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]))),Ec=f.b.div(Jt||(Jt=Object(I.a)(["\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        "," {\n            opacity: 1;\n        }\n    }\n"])),zc),vc=f.b.button(Wt||(Wt=Object(I.a)(["\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n"])),mc,Sc,mc,Sc),Ac=f.b.img(Xt||(Xt=Object(I.a)([" \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n"]))),kc=f.b.h1(Vt||(Vt=Object(I.a)(["\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n"]))),Yc=f.b.h2(_t||(_t=Object(I.a)(["\n    font-size: 1.25rem;\n    line-height: 1.5;\n"]))),Uc=f.b.article(Kt||(Kt=Object(I.a)(["\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        "," {\n            opacity: 1;\n        }\n    }\n"])),zc),Pc=n(12),Qc=Object(u.b)((function(e){return{outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){var t,n,c=Object(fc.e)({id:e.id}),a=c.attributes,o=c.listeners,i=c.setNodeRef,r=c.transform,s=c.transition,j={transform:Pc.a.Transform.toString(r),transition:s};return Object(h.jsx)("div",Object(x.a)(Object(x.a)(Object(x.a)({ref:i,style:j},a),o),{},{children:(null===e||void 0===e?void 0:e.text)&&Object(h.jsx)(Tc,{index:e.index,setCardIndex:e.setCardIndex,setTitle:e.setTitle,setText:e.setText,setShowEditModal:e.setShowEditModal,setShowDeleteModal:e.setShowDeleteModal,text:(null===e||void 0===e||null===(t=e.text[Number(e.id)])||void 0===t?void 0:t.text)||"",title:(null===e||void 0===e||null===(n=e.text[Number(e.id)])||void 0===n?void 0:n.title)||""})}))})),Rc=Object(u.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){var t,n=Object(d.useState)(!1),c=Object(y.a)(n,2),a=c[0],o=c[1],i=Object(d.useState)(!1),r=Object(y.a)(i,2),s=r[0],j=r[1],l=Object(d.useState)(!1),u=Object(y.a)(l,2),M=u[0],p=u[1],b=Object(d.useState)(""),D=Object(y.a)(b,2),g=D[0],L=D[1],N=Object(d.useState)(""),I=Object(y.a)(N,2),f=I[0],S=I[1],w=Object(d.useState)(null),z=Object(y.a)(w,2),C=z[0],E=z[1],v=Object(d.useState)([]),k=Object(y.a)(v,2),Y=k[0],U=k[1];Object(d.useEffect)((function(){P()}),[e.match]);var P=function(){O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).get().then((function(t){if(void 0!==t.data()){var n=t.data(),c=n.data;e.dispatch((i=n,function(e){e({type:A,payload:i})})),c.length>0&&(e.dispatch(_(Object(T.a)(c))),e.dispatch(V(Object(T.a)(c))));for(var a=[],o=0;o<c.length;o++)a.push(String(o));U(a)}var i}))},Q=Object(Ic.n)(Object(Ic.m)(Ic.d),Object(Ic.m)(Ic.c,{coordinateGetter:fc.d}));return Object(h.jsxs)("div",{children:[Object(h.jsx)(nc.b,{to:"/writing-app",children:Object(h.jsx)("div",{children:"Home"})}),null===e||void 0===e||null===(t=e.outlineData)||void 0===t?void 0:t.name,Object(h.jsx)("button",{onClick:function(){return p(!0)},children:"Create new card"}),Object(h.jsx)(Ic.a,{sensors:Q,collisionDetection:Ic.e,onDragEnd:function(t){var n=t.active,c=t.over;if(n.id!==c.id){var a,o;U((function(e){return a=e.indexOf(n.id),o=e.indexOf(c.id),Object(fc.b)(e,a,o)}));var i=Object(T.a)(e.outlineItemsForUpdate),r=i.splice(a,1);i.splice.apply(i,[o,0].concat(Object(T.a)(r)));var s=i.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})}));e.dispatch(V(Object(T.a)(s))),function(t){var n=t.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{index:t})}));O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:n}).then((function(){console.log("updated")})),m(e.userData.userID,String(e.outlineData.docID),e.match.params.fileID)}(s)}},children:Object(h.jsx)(fc.a,{items:Y,strategy:fc.c,children:Object(h.jsx)(Hc,{children:Y.map((function(t,n){return Object(h.jsx)(Qc,{index:n,setCardIndex:E,setTitle:L,setText:S,setShowEditModal:o,setShowDeleteModal:j,id:t,text:e.outlineItemsDisplay},t)}))})})}),Object(h.jsx)(cc,{showEditModal:a,itemIndexes:Y,match:e.match,cardIndex:C,setShowEditModal:o,title:g,text:f}),Object(h.jsx)(lc,{showDeleteModal:s,setItemIndexes:U,itemIndexes:Y,match:e.match,cardIndex:C,setShowDeleteModal:j}),Object(h.jsx)(bc,{showCreateModal:M,itemIndexes:Y,setItemIndexes:U,match:e.match,setShowCreateModal:p,getOutline:P})]})})),Hc=f.b.div(qt||(qt=Object(I.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n"]))),Bc=n(4),Zc=n(44),Fc=function(e){return Object(h.jsx)(na,{children:Object(h.jsx)(ca,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))})},Gc=function(e){return Object(h.jsx)(ea,{children:Object(h.jsx)($c,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))})},Jc=function(e){return Object(h.jsx)(Kc,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))},Wc=function(e){return Object(h.jsx)(qc,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))},Xc=function(e){return Object(h.jsx)(_c,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))},Vc=function(e){return Object(h.jsx)(ta,Object(x.a)(Object(x.a)({},e.attributes),{},{children:e.children}))},_c=f.b.p($t||($t=Object(I.a)(["\n    font-weight: 500;\n    display: flex;\n    justify-content: flex-end;\n    /* color: red; */\n    font-family: 'Courier New', Courier, monospace;\n    text-transform: uppercase;\n"]))),Kc=f.b.p(en||(en=Object(I.a)(["\n    font-weight: 600;\n    text-transform: uppercase;\n    font-family: 'Courier New', Courier, monospace;\n"]))),qc=f.b.p(tn||(tn=Object(I.a)(["\n    /* color: blue; */\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 1rem;\n    max-width: 60ch;\n"]))),$c=f.b.p(nn||(nn=Object(I.a)(["\n    /* text-align: center; */\n    font-family: 'Courier New', Courier, monospace;\n    /* color: orange; */\n"]))),ea=f.b.div(cn||(cn=Object(I.a)(["\n    display: flex;\n    justify-content: center;\n    margin-left: 1px;\n    transform: translate(-1px);\n"]))),ta=f.b.p(an||(an=Object(I.a)(["\n    display: flex;\n    font-family: 'Courier New', Courier, monospace;\n    justify-content: center;\n    /* color: brown; */\n"]))),na=f.b.div(on||(on=Object(I.a)(["\n    display: flex;\n    justify-content: center;\n    margin-left: 1px;\n    transform: translate(-1px);\n    /* text-align: center;\n    margin: 0 auto; */\n"]))),ca=f.b.div(rn||(rn=Object(I.a)(["\n    /* text-align: center; */\n    font-family: 'Courier New', Courier, monospace;\n    /* display: block; */\n    /* color: green; */\n    width: 34ch;\n"]))),aa=f.b.div(sn||(sn=Object(I.a)(["\n    font-family: 'Courier New', Courier, monospace;\n    width: 60vw;\n    max-width: 600px;\n    margin: 0 auto;\n"]))),oa=f.b.div(jn||(jn=Object(I.a)(["\n    font-family: 'Courier New', Courier, monospace;\n"]))),ia=f.b.div(ln||(ln=Object(I.a)(["\n    position: absolute;\n    top: ",";\n    left: ",";\n    display: ",";\n    flex-direction: column;\n    font-family: 'Courier New', Courier, monospace;\n    background-color: white;\n    border-radius: 5px;\n"])),(function(e){return e.position.top}),(function(e){return e.position.left}),(function(e){return e.position.display})),ra=f.b.span(un||(un=Object(I.a)(["\n    padding: 8px;\n    font-family: 'Courier New', Courier, monospace;\n    font-weight: 600;\n    background-color: ",";\n    &:first-of-type {\n        border-radius: 5px 5px 0 0;\n    }\n    &:last-of-type {\n        border-radius: 0 0 5px 5px;\n    }\n"])),(function(e){return e.isSelected?"hsl(217, 49%, 94%)":"transparent"})),sa=["DAWN","MORNING","DAY","AFTERNOON","DUSK","NIGHT"],ja=["HOUSE","123 STREET","OLD RESTAURANT","MODERN MUSEUM","POOL","DISCO CLUB","SHOPPING MALL","FOREST"],la=["JEFF","CHRIS","DAN","AVERY","FRANCESCA","BRITTANY","BRIANNA","BRIDGET","BETHANY"],ua=function(e){return Object(h.jsx)(oa,{children:Object(h.jsx)(ia,{position:e.position,children:e.items.map((function(t,n){return Object(h.jsx)(ra,{isSelected:n===e.index,children:t},t)}))})})},da=function(){var e,t,n,c=Object(d.useMemo)((function(){return Object(Zc.d)(Object(Bc.i)())}),[]),a=Object(d.useState)([{type:"paragraph",children:[{text:""}]}]),o=Object(y.a)(a,2),i=o[0],r=o[1],s=Object(d.useState)(""),j=Object(y.a)(s,2),l=j[0],u=j[1],M=Object(d.useState)(),p=Object(y.a)(M,2),b=p[0],D=p[1],g=Object(d.useState)(0),O=Object(y.a)(g,2),L=O[0],N=O[1],I=Object(d.useState)({top:"-9999px",left:"-9999px",display:"none"}),f=Object(y.a)(I,2),T=f[0],S=f[1],m=Object(d.useState)(""),w=Object(y.a)(m,2),z=w[0],C=w[1],E=Object(d.useState)(),v=Object(y.a)(E,2),A=v[0],k=v[1],Y=Object(d.useState)(0),U=Object(y.a)(Y,2),P=U[0],Q=U[1],R=Object(d.useState)({top:"-9999px",left:"-9999px",display:"none"}),H=Object(y.a)(R,2),B=H[0],Z=H[1],F=Object(d.useState)(""),G=Object(y.a)(F,2),J=G[0],W=G[1],X=Object(d.useState)(),V=Object(y.a)(X,2),_=V[0],K=V[1],q=Object(d.useState)(0),$=Object(y.a)(q,2),ee=$[0],te=$[1],ne=Object(d.useState)({top:"-9999px",left:"-9999px",display:"none"}),ce=Object(y.a)(ne,2),ae=ce[0],oe=ce[1],ie=la.filter((function(e){return e.startsWith(l)&&e!==l})),re=ja.filter((function(e){return e.startsWith(z.trim().toUpperCase())&&e!==z.trim().toUpperCase()})),se=sa.filter((function(e){return e.startsWith(J.toUpperCase())&&e!==J.toUpperCase()}));Object(d.useEffect)((function(){if(c.selection){var e,t,n=c.selection.focus.path;if(b&&ie.length>0&&(null===(e=i[n[0]])||void 0===e||null===(t=e.children[0])||void 0===t?void 0:t.text.length)>0){var a=Zc.b.toDOMRange(c,b).getBoundingClientRect();S({top:"".concat(a.top+window.pageYOffset+25,"px"),left:"".concat(a.left+window.pageXOffset,"px"),display:"flex"})}else S({top:"-9999px",left:"-9999px",display:"none"})}}),[ie.length,c.selection,L,l,l.length,b]),Object(d.useEffect)((function(){if(A&&re.length>0){var e=Zc.b.toDOMRange(c,A).getBoundingClientRect();Z({top:"".concat(e.top+window.pageYOffset+25,"px"),left:"".concat(e.left+window.pageXOffset,"px"),display:"flex"})}else Z({top:"-9999px",left:"-9999px",display:"none"})}),[re.length,c.selection,P,z,A]),Object(d.useEffect)((function(){if(_&&se.length>0){var e=Zc.b.toDOMRange(c,_).getBoundingClientRect();oe({top:"".concat(e.top+window.pageYOffset+25,"px"),left:"".concat(e.left+window.pageXOffset,"px"),display:"flex"})}else oe({top:"-9999px",left:"-9999px",display:"none"})}),[se.length,c.selection,ee,J,_]);var je=Object(d.useCallback)((function(e){var t=e.element.type;return"character"===t?Object(h.jsx)(Gc,Object(x.a)({},e)):"dialog"===t?Object(h.jsx)(Fc,Object(x.a)({},e)):"heading"===t?Object(h.jsx)(Jc,Object(x.a)({},e)):"transition"===t?Object(h.jsx)(Xc,Object(x.a)({},e)):"parenthetical"===t?Object(h.jsx)(Vc,Object(x.a)({},e)):Object(h.jsx)(Wc,Object(x.a)({},e))}),[]),le=function(e){var t=i[e[0]].children[0].text.split(" ")[0].toUpperCase();"INT."!==t&&"EXT."!==t&&"INT./EXT."!==t||Bc.h.setNodes(c,{type:"heading"},{match:function(e){return Bc.a.isBlock(c,e)}})},ue=function(e,t){if("Semicolon"===t.code&&t.shiftKey){var n=i[e[0]].children[0].text,a=n.slice(0,n.length-1);a===a.toUpperCase()&&Bc.h.setNodes(c,{type:"transition"},{match:function(e){return Bc.a.isBlock(c,e)}})}},de=function(e,t){e[0]>0&&(""!==i[e[0]-1].children[e[1]].text||"Enter"===t.key||i[e[0]].children[e[1]].text.toUpperCase().includes("INT.")||Bc.h.setNodes(c,{type:null},{match:function(e){return Bc.a.isBlock(c,e)}}))},Me=function(e){if(e[0]>0){var t=i[e[0]-1].children[e[1]].text,n=i[e[0]-1].type,a=function(){return Bc.h.setNodes(c,{type:"dialog"},{match:function(e){return Bc.a.isBlock(c,e)}})};t===t.toUpperCase()&&t.length>0&&":"!==t[t.length-1]?(Bc.h.setNodes(c,{type:"character"},{at:[e[0]-1],match:function(e){return Bc.a.isBlock(c,e)},mode:"lowest"}),a()):("("===t[0]||"character"===n)&&a()}},pe=function(e){if(e[0]>0){var t=i[e[0]-1].children[e[1]].text,n=i[e[0]].children[e[1]].text;t===t.toUpperCase()&&"("===n[0]&&(Bc.h.setNodes(c,{type:"parenthetical"},{match:function(e){return Bc.a.isBlock(c,e)}}),Bc.h.setNodes(c,{type:"character"},{at:[e[0]-1],match:function(e){return Bc.a.isBlock(c,e)},mode:"lowest"}))}},be=function(e){if(e[0]>1){var t=i[e[0]-2].type,n=i[e[0]].type,a=i[e[0]].children[e[1]].text;"dialog"!==t||a!==a.toUpperCase()||a.includes("INT.")||a.includes("EXT.")||a.includes("INT./EXT.")||!n||Bc.h.setNodes(c,{type:"character"},{match:function(e){return Bc.a.isBlock(c,e)}})}},xe=function(e,t){""===i[e[0]].children[e[1]].text&&i[e[0]].type&&(t.preventDefault(),Bc.h.setNodes(c,{type:null},{match:function(e){return Bc.a.isBlock(c,e)}}))},ye=function(e){"ArrowUp"===e.key&&(e.preventDefault(),N(0===L?ie.length-1:L-1)),"ArrowDown"===e.key&&(e.preventDefault(),N(L===ie.length-1?0:L+1))},De=function(e){"ArrowUp"===e.key&&(e.preventDefault(),Q(0===P?re.length-1:P-1)),"ArrowDown"===e.key&&(e.preventDefault(),Q(P===re.length-1?0:P+1))},ge=function(e){"ArrowUp"===e.key&&(e.preventDefault(),te(0===ee?se.length-1:ee-1)),"ArrowDown"===e.key&&(e.preventDefault(),te(ee===se.length-1?0:ee+1))},Oe=function(e){var t=e[c.selection.focus.path[0]].children[0].text;if(t.includes("-")){var n=t.split("-");n.length>1&&W(n[n.length-1].trim())}},he=function(e){N(0),Bc.h.insertText(c,ie[L],{at:[e[0]]}),"character"===i[e[0]].type?Bc.h.insertNodes(c,[{type:"dialog",children:[{text:""}]}]):c.insertBreak()},Le=function(e){var t=i[e[0]].children[e[1]].text.split(" ")[0].toUpperCase();Q(0);var n=Bc.f.edges(c.selection),a=Object(y.a)(n,1)[0],o=0;"INT."!==t&&"EXT."!==t||(o=5),"INT./EXT."===t&&(o=10);var r={offset:o,path:e},s=r&&Bc.a.range(c,r,a);Bc.h.insertText(c,re[P],{at:s}),C("")},Ne=function(){W(""),te(0);var e=Bc.f.edges(c.selection),t=Object(y.a)(e,1)[0],n=Bc.a.before(c,t,{unit:"word"}),a=n&&Bc.a.range(c,n,t);Bc.h.insertText(c,se[ee],{at:a}),c.insertBreak(),c.insertBreak()};return Object(h.jsxs)(aa,{children:[console.log(i),Object(h.jsxs)(Zc.c,{value:i,editor:c,onChange:function(e){if(r(e),c.selection){var t,n,a=c.selection.focus.path,o=null===(t=e[a[0]])||void 0===t||null===(n=t.children[a[1]])||void 0===n?void 0:n.text;if(u(e[a[0]].children[0].text),(null===o||void 0===o?void 0:o.length)>0||"character"===e[a[0]].type){var s=Bc.f.edges(c.selection),j=Object(y.a)(s,1)[0],l=Bc.a.before(c,j,{unit:"word"}),d=l&&Bc.a.range(c,l,j);D(d)}else D(null);if("heading"===e[a[0]].type){var M=e[a[0]].children[0].text.split(" ");if(M.length<2)C(""),k(null);else{M.shift();var p=M.join(" ");if(C(p),(null===o||void 0===o?void 0:o.length)>0){var b=Bc.f.edges(c.selection),x=Object(y.a)(b,1)[0],g=0,O=i[a[0]].children[a[1]].text.split(" ")[0].toUpperCase();"INT."!==O&&"EXT."!==O||(g=4),"INT./EXT."===O&&(g=9);var h={offset:g,path:a},L=h&&Bc.a.range(c,h,x);k(L)}else k(null)}}else C("");if(Oe(e),(null===o||void 0===o?void 0:o.length)>0){var N=o.split("-");N.pop();var I=N.join("").length+1,f=Bc.f.edges(c.selection),T=Object(y.a)(f,1)[0],S={path:a,offset:I},m=S&&Bc.a.range(c,S,T);K(m)}else K(null)}},children:[Object(h.jsx)(Zc.a,{style:{boxShadow:"none"},autoFocus:!0,placeholder:"Masterpiece goes here",onKeyDown:function(e){if(c.selection){var t=c.selection.focus.path,n=i[t[0]].type;de(t,e),ue(t,e),Me(t),be(t),pe(t),le(t),"Backspace"===e.key&&xe(t,e),"Enter"===e.key&&"dialog"===n&&(c.insertBreak(),Bc.h.setNodes(c,{type:"character"},{match:function(e){return Bc.a.isBlock(c,e)}})),"Enter"===e.key&&"transition"===n&&(c.insertBreak(),Bc.h.setNodes(c,{type:"heading"},{match:function(e){return Bc.a.isBlock(c,e)}})),"Enter"!==e.key&&"Tab"!==e.key||(ie.length>0&&l.length>0?(e.preventDefault(),he(t)):"Enter"===e.key&&"character"===n&&(e.preventDefault(),Bc.h.insertNodes(c,[{type:"dialog",children:[{text:""}]}])),re.length>0&&z.length>0&&(e.preventDefault(),Le(t)),se.length>0&&J.length>0&&(e.preventDefault(),Ne())),l&&ie.length>0&&ye(e),z&&re.length>0&&De(e),J&&se.length>0&&ge(e)}},renderElement:je}),(l.length>1||l.length>0&&"character"===(null===(e=i[null===c||void 0===c||null===(t=c.selection)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.path[0]])||void 0===e?void 0:e.type))&&Object(h.jsx)(ua,{position:T,items:ie,index:L}),z.length>0&&re.length>0&&Object(h.jsx)(ua,{position:B,items:re,index:P}),J.length>0&&se.length>0&&Object(h.jsx)(ua,{position:ae,items:se,index:ee})]})]})},Ma=Object(u.b)((function(e){return{userData:e.app.userData}}))((function(e){Object(d.useEffect)((function(){O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).get().then((function(e){}))}),[]);return Object(h.jsxs)(pa,{children:[Object(h.jsx)("button",{onClick:function(){var t=document.getElementById("content").value;O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({text:t}).catch((function(e){return console.log(e)}))},children:"Save"}),Object(h.jsx)(da,{})]})})),pa=f.b.div(dn||(dn=Object(I.a)(["\n"]))),ba=n(121),xa=Object(u.b)((function(e){return{userData:e.app.userData,notesData:e.app.notesData,outlineData:e.app.outlineData}}))((function(e){var t,n=Object(d.useState)(""),c=Object(y.a)(n,2),a=c[0],o=c[1],i=Object(d.useState)(0),r=Object(y.a)(i,2),s=r[0],j=r[1],l=Object(d.useState)("All changes saved"),u=Object(y.a)(l,2),M=u[0],p=u[1];Object(d.useEffect)((function(){b()}),[e.match]),Object(d.useEffect)((function(){if(e.userData.userID){p("Saving...");var t=setTimeout((function(){return x()}),1e3);return function(){return clearTimeout(t)}}}),[a]);var b=function(){O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).get().then((function(t){var n;void 0!==t.data()&&(document.getElementById("notes-textarea").value=t.data().text),e.dispatch((n=t.data(),function(e){e({type:U,payload:n})}));var c=document.getElementById("notes-textarea");ba.a.watch(c)}))};window.onbeforeunload=function(){if("Saving..."===M)return"saving"};var x=function(){var t=Date.now();O.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({text:a}).then((function(){console.log("work saved"),p("All changes saved")})),t-s>6e5&&(O.collection("users").doc(e.userData.userID).collection("files-folders").doc(e.match.params.fileID).update({lastModified:t}).then((function(){console.log("updated")})),O.collection("users").doc(e.userData.userID).collection("files-folders").doc(String(e.notesData.docID)).update({lastModified:t}).then((function(){console.log("updated")}))),j(t)};return Object(h.jsx)(ya,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(nc.b,{to:"/writing-app",children:"Home"}),Object(h.jsx)(Da,{children:null===e||void 0===e||null===(t=e.notesData)||void 0===t?void 0:t.name}),Object(h.jsx)("h4",{children:M}),Object(h.jsx)(ga,{rows:"5",placeholder:"Write notes here",onChange:function(e){return o(e.target.value)},autoFocus:!0,id:"notes-textarea"}),Object(h.jsx)("div",{})]})})})),ya=f.b.div(Mn||(Mn=Object(I.a)(["\n    display: flex; \n    flex-direction: column; \n    align-items: center; \n    justify-content: center;\n    padding: 20px 30vw;\n"]))),Da=f.b.h1(pn||(pn=Object(I.a)(["\n    font-size: 3rem;\n    font-weight: 600;\n    margin-bottom: 10px;\n"]))),ga=f.b.textarea(bn||(bn=Object(I.a)(["\n    /* padding: 40px 0px; */\n    margin: 40px 0 0 0;\n    /* background-color: hsl(0, 10%, 5%); */\n    background-color: transparent;\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 50vw;\n    /* height: 80vh; */\n    border: none;\n    resize: none;\n    &:focus{\n        box-shadow: none;\n    }\n"]))),Oa=Object(f.a)(xn||(xn=Object(I.a)(["\n\n    html, body {\n        background-color: hsl(200, 30%, 90%);\n    }\n\n    * {\n        &:focus {\n            box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n            outline: none;\n        }\n    }\n\n    html, body, div, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n"]))),ha=n(21),La=Object(u.b)((function(e){return{userData:e.app.userData}}))((function(e){var t=Object(d.useState)(!0),n=Object(y.a)(t,2),c=n[0],a=n[1];return Object(d.useEffect)((function(){D.a.auth().onAuthStateChanged((function(t){if(t){var n={userID:t.uid};console.log("logged in"),e.dispatch((c=n,function(e){e({type:C,payload:c})}))}var c;a(!1)}))}),[]),c?null:e.userData.userID?Object(h.jsxs)("div",{children:[Object(h.jsx)(ha.a,{path:"/writing-app/edit/outline/:fileID",render:function(e){return Object(h.jsx)(Rc,Object(x.a)({},e))}}),Object(h.jsx)(ha.a,{path:"/writing-app/edit/notes/:fileID",render:function(e){return Object(h.jsx)(xa,Object(x.a)({},e))}}),Object(h.jsx)(ha.a,{path:"/writing-app/edit/screenplay/:fileID",render:function(e){return Object(h.jsx)(Ma,Object(x.a)({},e))}}),Object(h.jsx)(ha.a,{exact:!0,path:"/writing-app",render:function(e){return Object(h.jsx)($n,Object(x.a)({},e))}}),Object(h.jsx)(Oa,{})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)(L,{}),Object(h.jsx)(N,{})]})})),Na=n(122),Ia=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},fa={userData:{},currentProjectID:"",projectFiles:[],currentFileID:"",outlineData:{},notesData:{},dashboardCurrentSection:"projects",outlineItemsForUpdate:[],outlineItemsDisplay:[],rootDocs:[],layerOneDocs:[],layerTwoDocs:[],layerThreeDocs:[],currentLayer:null},Ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(x.a)(Object(x.a)({},e),{},{currentLayer:t.payload});case B:return Object(x.a)(Object(x.a)({},e),{},{layerThreeDocs:t.payload});case H:return Object(x.a)(Object(x.a)({},e),{},{layerTwoDocs:t.payload});case R:return Object(x.a)(Object(x.a)({},e),{},{layerOneDocs:t.payload});case Q:return Object(x.a)(Object(x.a)({},e),{},{rootDocs:t.payload});case k:return Object(x.a)(Object(x.a)({},e),{},{outlineItemsDisplay:t.payload});case Y:return Object(x.a)(Object(x.a)({},e),{},{outlineItemsForUpdate:t.payload});case P:return Object(x.a)(Object(x.a)({},e),{},{dashboardCurrentSection:t.payload});case U:return Object(x.a)(Object(x.a)({},e),{},{notesData:t.payload});case A:return Object(x.a)(Object(x.a)({},e),{},{outlineData:t.payload});case v:return Object(x.a)(Object(x.a)({},e),{},{currentFileID:t.payload});case E:return Object(x.a)(Object(x.a)({},e),{},{projectFiles:t.payload});case C:return Object(x.a)(Object(x.a)({},e),{},{userData:t.payload});case z:return Object(x.a)(Object(x.a)({},e),{},{currentProjectID:t.payload});default:return e}},Sa={breadcrumbs:[{name:"all files",docId:null}],sortMethod:null},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return Object(x.a)(Object(x.a)({},e),{},{sortMethod:t.payload});case nt:return Object(x.a)(Object(x.a)({},e),{},{breadcrumbs:t.payload});default:return e}},wa=Object(l.c)({app:Ta,dashboard:ma}),za=Object(l.d)(wa,Object(l.a)(Na.a));b.a.render(Object(h.jsx)(M.a.StrictMode,{children:Object(h.jsx)(u.a,{store:za,children:Object(h.jsx)(nc.a,{children:Object(h.jsx)(La,{})})})}),document.getElementById("root")),Ia()}},[[247,1,2]]]);
//# sourceMappingURL=main.2b32a3ca.chunk.js.map