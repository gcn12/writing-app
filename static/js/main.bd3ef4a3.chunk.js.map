{"version":3,"sources":["firebase.js","Components/Signup/Signup.js","Components/Signup/Signin.js","globalFunctions.js","redux/actions/appActions.js","Components/Dashboard/FilesList/CreateDocModal.js","Components/Dashboard/FilesList/RenameDocModal.js","Components/Dashboard/FilesList/DeleteDocModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/DocsTable.js","Components/Dashboard/FilesList/AllFiles.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Dashboard/Breadcrumbs.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Screenplay/EditorAssets.js","Components/Edit/Screenplay/Autocomplete.js","Components/Edit/Screenplay/Editor.js","Components/Edit/Screenplay/Screenplay.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","SignUp","onClick","auth","createUserWithEmailAndPassword","then","userCredential","user","console","log","collection","doc","uid","set","userID","catch","error","signInWithEmailAndPassword","updateLastModified","projectID","fileID","timestamp","Date","now","ref","undefined","update","lastModified","err","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","ROOT_DOCS","LAYER_ONE_DOCS","LAYER_TWO_DOCS","LAYER_THREE_DOCS","CURRENT_LAYER","currentLayer","data","dispatch","type","payload","layerThreeDocs","layerTwoDocs","layerOneDocs","rootDocs","outlineItemsForUpdate","outlineItemsDisplay","connect","state","userData","breadcrumbs","dashboard","props","useState","name","setName","createFolder","parentID","length","docID","folderProperties","String","addDocToStore","setIsCreateProjectModal","createFile","generateIDAndCreateFile","idAttempt","result","characters","charactersLength","i","charAt","Math","floor","random","generateID","where","get","empty","fileProperties","dateCreated","fileProps","location","window","open","document","projectSelectedData","add","Modal","aria-label","isOpen","isCreateProjectModal","onDismiss","HeaderIconContainer","createType","CloseDialog","label","Icon","alt","src","ProjectTitle","autoComplete","onChange","e","target","value","Cancel","Create","styled","div","button","img","input","Dialog","renameFile","renameStoreDocs","setShowRenameModal","closeModal","folderMap","0","1","2","3","renamedItems","currentIndex","code","preventDefault","Container","NewModal","showRenameModal","onKeyDown","onMouseDown","id","Header","defaultValue","h1","outlineData","currentFileID","deleteDoc","docData","deleteFile","deleteFolder","delete","setShowDeleteModal","forEach","item","initialDelete","deletedItem","splice","removeDocFromStore","showDeleteModal","Delete","BREADCRUMBS","SORT_METHOD","sortMethod","currentProjectID","selectItem","activeElement","blur","sortMethodToUse","dataArr","push","sortProjectsDateAsc","sortProjectsDateDesc","sortProjectsTypeAsc","sortProjectsTypeDesc","sortProjectsNameAsc","sortProjectsNameDesc","sort","breadcrumb","breadcrumbsCopy","openFile","fileType","a","b","localeCompare","changeSortOrder","sortType","sortMethodName","Table","role","Head","RowHeader","TableHead","ColumnNameButton","ArrowIcon","rotate","TableBody","map","index","Row","tabIndex","buttonPress","onFocus","setProjectSelectedData","selectProject","Cell","DocIconNameContainer","DocIcon","moment","format","IconContainer","IconBackgroundContainer","stopPropagation","showRenameProject","IconTitle","IconBackground","showDeleteProject","RenameDocModal","projects","setCreateType","useEffect","getInitialFilesAndFolders","sortMethodType","projectArr","project","openModal","getProjects","CreateNew","Plus","List","Item","onSelect","MenuIconContainer","span","MenuItem","MenuButton","MenuList","showProjects","projectFiles","dashboardCurrentSection","navigateSidebar","menuItem","Logo","UL","LI","LiButton","background","hover","li","ul","rootLayer","crumb","Crumb","indexToRoute","breadcrumbsReduced","slice","breadcrumbRoute","nav","FilesContainer","newTitle","setNewTitle","newText","setNewText","setShowEditModal","showEditModal","Title","title","style","marginBottom","Text","text","getElementById","cardIndex","focus","Save","newCard","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","showCreateModal","setShowCreateModal","Label","Description","Location","display","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","keyBoardEdit","keyBoardDelete","CardNumber","p","h2","article","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","getOutline","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","to","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","CenteredItemsContainer","DialogStyles","children","Character","CharacterStyles","SceneHeading","SceneHeadingStyles","Paragraph","ParagraphStyles","Transition","TransitionStyles","Parenthetical","ParentheticalStyles","AutocompleteContainer","AutocompleteBackground","position","top","left","AutocompleteItem","isSelected","TIME_OF_DAY","LOCATIONS","NAMES","Autocomplete","EditorInterface","editor","useMemo","withReact","createEditor","setValue","setTarget","setIndex","setPosition","searchType","setSearchType","searchQuery","setSearchQuery","searchResults","names","times","locations","filter","startsWith","toUpperCase","selection","path","currentText","rect","ReactEditor","toDOMRange","getBoundingClientRect","pageYOffset","pageXOffset","renderElement","useCallback","element","functions","checkTransition","shiftKey","this","setNode","checkDescription","previousText","previousPreviousType","currentTextUppercase","includes","checkDialog","previousType","Transforms","setNodes","at","n","Editor","isBlock","mode","checkParenthetical","character","checkCharacter","currentType","incrementIndex","timeSearch","newValue","splitValue","split","trim","insertNodes","obj","replaceLocation","intExt","Range","edges","endPosition","offset","startPosition","range","insertText","handleDelete","handleEnter","insertBreak","handleReplace","newType","replaceCharacter","replaceTime","before","unit","checkHeading","splitText","handleOnChange","currentOffset","anchor","startValue","shift","joinedValue","join","minOffset","maxOffset","Infinity","splitDash","locationsOnChange","pop","timesOnChange","namesOnChange","boxShadow","autoFocus","placeholder","notesData","note","setNote","lastSaved","setLastSaved","savedStatus","setSavedStatus","getNotes","timeout","setTimeout","saveWork","clearTimeout","fitTextarea","watch","onbeforeunload","currentTime","TextAreaPage","rows","GlobalStyles","createGlobalStyle","isLoading","setIsLoading","onAuthStateChanged","userInfo","render","exact","Signup","Signin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","docId","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.bd3ef4a3.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import firebase from 'firebase'\nimport { db } from '../../firebase'\nconst SignUp = () => {\n    const submit = () => {\n        firebase.auth().createUserWithEmailAndPassword('hel2lo@gai1l.com', 'hello123')\n        .then((userCredential) => {\n            // Signed in \n            var user = userCredential.user;\n            console.log(user)\n            db.collection('users').doc(user.uid).set({\n                userID: user.uid\n            })\n        })\n        .catch((error) => {\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n            // ..\n            console.log('error signing up', error)\n        });\n    }\n    return(\n        <div>\n            <input></input>\n            <input></input>\n            <button onClick={submit}>Signup</button>\n        </div>\n    )\n}\n\nexport default SignUp","import firebase from 'firebase'\nconst SignUp = () => {\n    const submit = () => {\n\n        firebase.auth().signInWithEmailAndPassword('hel2lo@gai1l.com', 'hello123')\n        .then((userCredential) => {\n            // Signed in\n            // var user = userCredential.user;\n            // ...\n            console.log('signed in')\n        })\n        .catch((error) => {\n            console.log(error)\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n        });\n    }\n    return(\n        <div>\n            <input></input>\n            <input></input>\n            <button onClick={submit}>Signup</button>\n        </div>\n    )\n}\n\nexport default SignUp","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    console.log(projectID)\n    if(projectID!==undefined) {\n        ref.collection('files-folders')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            \n        })\n    }\n    if(fileID) {\n        ref.collection('files-folders')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            console.log(2)\n        })\n    }\n\n}","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\nexport const ROOT_DOCS = 'ROOT_DOCS'\nexport const LAYER_ONE_DOCS = 'LAYER_ONE_DOCS'\nexport const LAYER_TWO_DOCS = 'LAYER_TWO_DOCS'\nexport const LAYER_THREE_DOCS = 'LAYER_THREE_DOCS'\nexport const CURRENT_LAYER = 'CURRENT_LAYER'\n\nexport function currentLayer(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_LAYER, payload: data})\n    }\n}\n\nexport function layerThreeDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_THREE_DOCS, payload: data})\n    }\n}\n\nexport function layerTwoDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_TWO_DOCS, payload: data})\n    }\n}\n\nexport function layerOneDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_ONE_DOCS, payload: data})\n    }\n}\n\nexport function rootDocs(data) {\n    return(dispatch) => {\n        dispatch({type: ROOT_DOCS, payload: data})\n    }\n}\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { generateID } from '../../../globalFunctions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    // currentLayer,\n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs\n} from '../../../redux/actions/appActions'\n\nconst CreateDocModal = (props) => {\n    const [name, setName] = useState('')\n\n    const createProject = () => {\n        if (props.createType==='folder' && props.currentLayer < 3) return createFolder()\n        if (props.createType!=='folder') return createFile(props.createType)\n    }\n\n    const createFolder = () => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        const timestamp = Date.now()\n        const folderProperties = {\n            name,\n            parentID: String(parentID),\n            type: 'folder',\n            docID: String(timestamp),\n            lastModified: timestamp,\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(timestamp))\n        .set({\n            ...folderProperties\n        })\n        .then(()=> {\n            console.log('folder created')\n            addDocToStore(folderProperties)\n            props.setIsCreateProjectModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const createFile = (type) => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        let docID = ''\n        const generateIDAndCreateFile = () => {\n            const idAttempt = generateID()\n            db.collection('docID')\n            .where('docID', '==', idAttempt)\n            .get()\n            .then(data=> {\n                if(data.empty) {\n                    docID = idAttempt\n                    const timestamp = Date.now()\n                    const fileProperties = {\n                        name,\n                        type,\n                        parentID: String(parentID),\n                        docID: String(docID),\n                        dateCreated: timestamp,\n                        lastModified: timestamp,\n                    }\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files-folders')\n                    .doc(docID)\n                    .set({\n                        ...fileProperties\n                    })\n                    .then(()=> {\n                        console.log('new file preview created')\n                        addDocToStore(fileProperties)\n                    })\n                    if(type==='outline') {\n                        fileProperties['data'] = []\n                    }\n                    if(type==='notes' || type==='screenplay') {\n                        fileProperties['text'] = ''\n                    }\n                    const { lastModified, ...fileProps } = fileProperties\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files')\n                    .doc(docID)\n                    .set({\n                        ...fileProps\n                    })\n                    .then(()=> {\n                        console.log('new file created')\n                        const location = `/writing-app/edit/${type}/${docID}`\n                        window.open(location, \"_blank\") || (document.location = location)\n                        props.setIsCreateProjectModal(false)\n                        if(props.projectSelectedData.docID) {\n                            updateLastModified(props.userData.userID, String(props.projectSelectedData.docID))\n                        }\n                    })\n                    db.collection('docID')\n                    .add({\n                        docID,\n                    })\n                }else{\n                    generateIDAndCreateFile()\n                }\n            })\n        }\n        generateIDAndCreateFile()\n    }\n\n    const addDocToStore = (data) => {\n        if(props.currentLayer===0) props.dispatch(rootDocs([data, ...props.rootDocs]))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs([data, ...props.layerOneDocs]))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs([data, ...props.layerTwoDocs]))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs([data, ...props.layerThreeDocs]))\n    }\n \n    return (\n        <Modal aria-label='create document' isOpen={props.isCreateProjectModal} onDismiss={()=>props.setIsCreateProjectModal(false)}>\n            <HeaderIconContainer>\n                <h1>Create new {props.createType}</h1>\n                <CloseDialog label='close rename dialog' onClick={()=>props.setIsCreateProjectModal(false)}>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n            </HeaderIconContainer>\n            <ProjectTitle autoComplete='off' onChange={(e)=>setName(e.target.value)} />\n            <div>\n                <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                <Create onClick={createProject}>Create project</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(CreateDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 10px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled(Dialog)`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst RenameFileModal = (props) => {\n    const [name, setName] = useState('')\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-file-input').value = props.projectSelectedData.name\n    //     // eslint-disable-next-line\n    // }, [props.fileSelectedName])\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-doc-close-button').focus()\n    // }, [])\n\n    const renameFile = (e) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(props.projectSelectedData.docID))\n        .update({\n            name,\n        })\n        .then(()=> {\n            renameStoreDocs()\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n        if(props.projectSelectedData.type!=='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files')\n            .doc(String(props.projectSelectedData.docID))\n            .update({\n                name,\n            })\n            .then(()=> {\n                console.log('file rename successful')\n                closeModal(e)\n                props.setShowRenameModal(false)\n            })\n        }\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const renameStoreDocs = () => {\n        let renamedItems = folderMap[props.currentLayer]\n        renamedItems[props.projectSelectedData.currentIndex].name = name\n        if(props.currentLayer===0) props.dispatch(rootDocs(renamedItems))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(renamedItems))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(renamedItems))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(renamedItems))\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowRenameModal(false)\n        }\n    }\n\n    const renameFileOnKeyDown = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            renameFile(e)\n        }\n    }\n\n    return (\n        <Container>\n            {/* <Background onClick={()=>props.setShowRenameModal(false)} /> */}\n            <NewModal aria-label={`change ${props.projectSelectedData.type} name of ${props.projectSelectedData.name}`} isOpen={props.showRenameModal} onDismiss={()=>props.setShowRenameModal(false)}>\n                <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle defaultValue={props.projectSelectedData.name} autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </NewModal>\n            {/* <Modal>\n                <CloseDialog onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </Modal> */}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 5px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst NewModal = styled(Dialog)`\n    background-color: white;\n    min-height: 400px;\n    width: 500px;\n    /* position: fixed; */\n    /* top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); */\n    border-radius: 15px;\n    flex-direction: column;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst DeleteDocModal = (props) => {\n\n    const deleteDoc = (docData) => {\n        console.log('deleting docs')\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID, docData.currentIndex)\n        }else{\n            deleteFolder(docData.docID, docData.currentIndex)\n        }\n    }\n\n    const deleteFile = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        \n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        props.setShowDeleteModal(false)\n    }\n\n    const deleteFolder = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', String(docID))\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n               deleteDoc(item.data())\n            })\n        })\n        .then(()=> {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(docID))\n            .delete()\n            .then(()=>null)\n            .catch(err=>console.log(err))\n            props.setShowDeleteModal(false)\n        })\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const removeDocFromStore = (currentIndex) => {\n        let deletedItem = [...folderMap[props.currentLayer]]\n        deletedItem.splice(currentIndex, 1)\n        if(props.currentLayer===0) props.dispatch(rootDocs(deletedItem))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(deletedItem))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(deletedItem))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(deletedItem))\n    }\n\n    const initialDelete = (docData) => {\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID)\n        }else{\n            deleteFolder(docData.docID)\n        }\n        removeDocFromStore(docData.currentIndex)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n        }\n    }\n\n    return(      \n        <div>\n            <Modal isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)} aria-label='cancel delete'>\n                <HeaderIconContainer>\n                    <Header>{`Delete ${props.projectSelectedData.type}`}</Header>\n                    <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowDeleteModal(false)}>\n                        <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                    </CloseDialog>\n                </HeaderIconContainer>\n                <p>{`Are you sure you want to delete ${props.projectSelectedData.name}?`}</p>\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)}  onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={()=>initialDelete(props.projectSelectedData)}>Delete</Delete>\n                </div>\n            </Modal>\n        </div>      \n\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(DeleteDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const BREADCRUMBS = 'BREADCRUMBS'\nexport const SORT_METHOD = 'SORT_METHOD'\n\nexport function sortMethod(data) {\n    return(dispatch) => {\n        dispatch({type: SORT_METHOD, payload: data})\n    }\n}\n\nexport function breadcrumbs(data) {\n    return(dispatch) => {\n        dispatch({type: BREADCRUMBS, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n    currentLayer,\n} from '../../../redux/actions/appActions'\nimport moment from 'moment'\nimport RenameDocModal from './RenameDocModal'\nimport DeleteProjectModal from './DeleteDocModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { breadcrumbs, sortMethod } from '../../../redux/actions/dashboardActions'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const selectProject = (docData, index) => {\n        props.setProjectSelectedData({...docData, currentIndex: index})\n    }\n\n    const buttonPress = (e, type, docID, name) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='projects-table-row') {\n            selectItem(type, docID, name)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    const selectItem = (type, docID, name) => {\n        document.activeElement.blur()\n        if(type==='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .where('parentID', '==', docID)\n            .get()\n            .then(data=> {\n                const dataArr = []\n                data.forEach(item=> {\n                    dataArr.push(item.data())\n                })\n                let sortMethodToUse\n                if(props.sortMethod==='dateAsc') sortMethodToUse = sortProjectsDateAsc\n                if(props.sortMethod==='dateDesc') sortMethodToUse = sortProjectsDateDesc\n                if(props.sortMethod==='typeAsc') sortMethodToUse = sortProjectsTypeAsc\n                if(props.sortMethod==='typeDesc') sortMethodToUse = sortProjectsTypeDesc\n                if(props.sortMethod==='nameAsc') sortMethodToUse = sortProjectsNameAsc\n                if(props.sortMethod==='nameDesc') sortMethodToUse = sortProjectsNameDesc\n                if(props.currentLayer === 0) {\n                    props.dispatch(layerOneDocs(dataArr.sort(sortMethodToUse)))\n                }else if(props.currentLayer === 1) {\n                    props.dispatch(layerTwoDocs(dataArr.sort(sortMethodToUse)))\n                }else if(props.currentLayer === 2) {\n                    props.dispatch(layerThreeDocs(dataArr.sort(sortMethodToUse)))\n                    console.log(dataArr)\n                }\n                props.dispatch(currentLayer(props.currentLayer + 1))\n                const breadcrumb = {\n                    name,\n                    docID, \n                }\n                const breadcrumbsCopy = [...props.breadcrumbs]\n                breadcrumbsCopy.push(breadcrumb)\n                props.dispatch(breadcrumbs(breadcrumbsCopy))\n            })\n        }else{\n            openFile(type, docID)\n        }\n    }\n\n    const openFile = (fileType, docID) => {\n        const location = `/writing-app/edit/${fileType}/${docID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    const sortProjectsDateAsc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.type.localeCompare(a.type)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const changeSortOrder = (sortType) => {\n        let sortMethodToUse\n        let sortMethodName\n        if(sortType === 'name') {\n            if(props.sortMethod === 'nameDesc') {\n                sortMethodToUse = sortProjectsNameAsc\n                sortMethodName = 'nameAsc'\n            }else{\n                sortMethodToUse = sortProjectsNameDesc\n                sortMethodName = 'nameDesc'\n            }\n        }\n        if(sortType === 'type') {\n            if(props.sortMethod === 'typeDesc') {\n                sortMethodToUse = sortProjectsTypeAsc\n                sortMethodName = 'typeAsc'\n            }else{\n                sortMethodToUse = sortProjectsTypeDesc\n                sortMethodName = 'typeDesc'\n            }\n        }\n        if(sortType === 'date') {\n            if(props.sortMethod === 'dateDesc') {\n                sortMethodToUse = sortProjectsDateAsc\n                sortMethodName = 'dateAsc'\n            }else{\n                sortMethodToUse = sortProjectsDateDesc\n                sortMethodName = 'dateDesc'\n            }\n        }\n        props.dispatch(sortMethod(sortMethodName))\n        if(props.rootDocs.length > 0) {\n            props.dispatch(rootDocs(props.rootDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerOneDocs.length > 0) {\n            props.dispatch(layerOneDocs(props.layerOneDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerTwoDocs.length > 0) {\n            props.dispatch(layerTwoDocs(props.layerTwoDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerThreeDocs.length > 0) {\n            props.dispatch(layerThreeDocs(props.layerThreeDocs.sort(sortMethodToUse)))\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc('preferences')\n        .update({\n            sortMethod: sortMethodName\n        })\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('name')}>\n                                Name\n                                {props.sortMethod === 'nameDesc' &&\n                                    <ArrowIcon rotate='rotate(180deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                                {props.sortMethod === 'nameAsc' &&\n                                    <ArrowIcon rotate='rotate(0deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('type')}>\n                            Type\n                            {props.sortMethod === 'typeDesc' &&\n                                <ArrowIcon rotate='rotate(180deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                            }\n                            {props.sortMethod === 'typeAsc' &&\n                                <ArrowIcon rotate='rotate(0deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                            }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('date')}>\n                                Last modified\n                                {props.sortMethod === 'dateDesc' &&\n                                    <ArrowIcon rotate='rotate(180deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                                {props.sortMethod === 'dateAsc' &&\n                                    <ArrowIcon rotate='rotate(0deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {folderMap[props.currentLayer]?.map((doc, index)=> {\n                        return(\n                            <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>buttonPress(e.code, doc.type, doc.docID, doc.name)} role='button' onFocus={()=>selectProject(doc, index)} onClick={()=>selectItem(doc.type, doc.docID, doc.name)} key={index}>\n                                <Cell role='cell'>\n                                    <DocIconNameContainer>\n                                        {doc.type==='folder' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='screenplay' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.type==='notes' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='outline' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.name}\n                                    </DocIconNameContainer>\n                                </Cell>\n                                <Cell role='cell'>{doc.type}</Cell>\n                                <Cell role='cell'>{moment(doc.lastModified).format('ll')}</Cell>\n                                <Cell role='cell'>\n                                    <IconContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showRenameProject(e)} label='rename file'>\n                                            <IconTitle>Rename</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showDeleteProject(e)} label='delete file' >\n                                            <IconTitle>Delete</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                    </IconContainer>\n                                </Cell>\n                            </Row>\n                        )\n                    })}\n                </TableBody>\n            </Table> \n            {/* {showRenameModal && \n            } */}\n            <RenameDocModal showRenameModal={showRenameModal} projectSelectedData={props.projectSelectedData} setShowRenameModal={setShowRenameModal} />\n            {/* {showDeleteModal && \n            } */}\n            <DeleteProjectModal showDeleteModal={showDeleteModal} projectSelectedData={props.projectSelectedData} setShowDeleteModal={setShowDeleteModal} />\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    rootDocs: state.app.rootDocs,\n    currentLayer: state.app.currentLayer,\n    currentProjectID: state.app.currentProjectID,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    sortMethod: state.dashboard.sortMethod,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst ColumnNameButton = styled.button`\n    display: flex;\n    align-items: center;\n`\n\nconst ArrowIcon = styled.img`\n    height: 10px;\n    width: 10px;\n    margin-left: 5px;\n    transform: ${props=>props.rotate};\n`\n\nconst DocIconNameContainer = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst DocIcon = styled.img`\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n`\n\nconst IconTitle = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    /* padding: 0.5rem; */\n    padding: 10px 15px;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n    white-space: nowrap;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n    /* table-layout: fixed; */\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst Row = styled.div`\n    border-collapse: separate;\n    cursor: pointer;\n    display: table-row;\n    background-color: hsl(20, 0%, 97%);\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 15px 20px;\n    vertical-align: middle;\n    /* text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden; */\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport CreateDocModal from './CreateDocModal'\nimport {\n    Menu,\n    MenuList,\n    MenuButton,\n    MenuItem,\n} from \"@reach/menu-button\";\nimport \"@reach/menu-button/styles.css\";\nimport ProjectsTable from './DocsTable'\nimport { rootDocs, currentLayer } from '../../../redux/actions/appActions'\nimport { sortMethod } from '../../../redux/actions/dashboardActions'\nconst AllFiles = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    const [projectSelectedData, setProjectSelectedData] = useState({})\n    const [createType, setCreateType] = useState('')\n    // const [currentDocID, setCurrentDocID] = useState('')\n    useEffect(()=> {\n        if(props.userData.userID) {\n            getInitialFilesAndFolders()\n        }\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjectsDateAsc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const getInitialFilesAndFolders = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', props.userData.userID)\n        .get()\n        .then(data=> {\n            const projectArr = []\n            let sortMethodType\n            data.forEach(project=> {\n                const docData = project.data()\n                if(docData.sortMethod) {\n                    sortMethodType = docData.sortMethod\n                    props.dispatch(sortMethod(docData.sortMethod))\n                }else{\n                    projectArr.push(docData)\n                }\n            })\n            props.dispatch(currentLayer(0))\n            if(sortMethodType==='dateAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateAsc)))\n            if(sortMethodType==='dateDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateDesc)))\n            if(sortMethodType==='nameAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameAsc)))\n            if(sortMethodType==='nameDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameDesc)))\n            if(sortMethodType==='typeAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeAsc)))\n            if(sortMethodType==='typeDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeDesc)))\n        })\n    }\n\n    const openModal = (type) => {\n        setIsCreateProjectModal(true)\n        setCreateType(type)\n    }\n\n    return(\n        <Container>\n\n            <CreateDocModal isCreateProjectModal={isCreateProjectModal} projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} createType={createType} getProjects={getInitialFilesAndFolders} setIsCreateProjectModal={setIsCreateProjectModal} />\n            <Menu>\n                <CreateNew><Plus>+</Plus> Create new</CreateNew>\n                <List>\n                    <Item onSelect={()=>openModal('folder')}>\n                        <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                            Folder\n                        </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('screenplay')}>\n                        <MenuIconContainer>\n                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                            Screenplay\n                        </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('outline')}>\n                    <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                        Outline\n                    </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('notes')}>\n                    <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                        Notes\n                    </MenuIconContainer>\n                    </Item>\n                </List>\n            </Menu>\n            <ProjectsTable projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(AllFiles)\n\nconst Container = styled.div`\n    width: 75vw;\n`\n\nconst Plus = styled.span`\n    font-size: 1.75rem;\n    margin-right: 5px;\n`\n\nconst Item = styled(MenuItem)`\n    font-size: 1rem;\n`\n\nconst MenuIconContainer = styled.div`\n    display: flex;\n`\n\nconst DocIcon = styled.img`\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n`\n\nconst CreateNew = styled(MenuButton)`\n    background-color: black;\n    color: white;\n    padding: 8px 15px;\n    border-radius: 10px;\n    margin: 0px 0 20px 0;\n    display: flex;\n    align-items: center;\n    font-size: .875rem;\n`\n\nconst List = styled(MenuList)`\n    min-width: 100px;\n`","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport AllFiles from './AllFiles'\nimport { connect } from 'react-redux'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n        })\n    }\n\n    return(\n        <div>\n            <AllFiles />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { dashboardCurrentSection } from '../../../redux/actions/appActions'\n\nconst Sidebar = (props) => {\n\n    const navigateSidebar = (menuItem) => {\n        // if(menuItem==='projects') getProjects()\n        // if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <Logo>Redraft</Logo>\n            <UL>\n                <LI><LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'} >\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" />\n                    All files\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4=\" /> \n                    Analytics\n                </LiButton ></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4=\" />\n                    Settings\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                    Deleted\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst Container = styled.div`\n    width: 18vw;\n    /* margin: 0 0 0 20px; */\n    padding: 0 20px;\n    background-color: hsl(0, 0%, 97%);\n    height: 100vh;\n    /* margin-top: 115px; */\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    border: none;\n    padding: 10px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    border-radius: 5px;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.img`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n`\n\nconst Logo = styled.h1`\n    font-size: 1.5rem;\n    font-weight: 700;\n    display: grid;\n    justify-content: center;\n    padding: 20px;\n    margin: 30px 0 70px 0;\n`","import styled from \"styled-components\";\nimport { connect } from 'react-redux'\nimport { \n    currentLayer,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n } from '../../redux/actions/appActions'\nimport { breadcrumbs } from '../../redux/actions/dashboardActions'\n\nconst Breadcrumbs = (props) => {\n\n    const breadcrumbRoute = (indexToRoute) => {\n        props.dispatch(currentLayer(indexToRoute))\n        const crumbsCopy = [...props.breadcrumbs]\n        const breadcrumbsReduced = crumbsCopy.slice(0, indexToRoute+1)\n        props.dispatch(breadcrumbs(breadcrumbsReduced))\n        if(indexToRoute <= 0) props.dispatch(layerOneDocs([]))\n        if(indexToRoute <= 1) props.dispatch(layerTwoDocs([]))\n        if(indexToRoute <= 2) props.dispatch(layerThreeDocs([]))\n    }\n\n    return(\n        <Container>\n            {props.breadcrumbs.map((crumb, index)=> {\n                return(\n                    <Crumb onClick={()=>breadcrumbRoute(index)} key={index}>{crumb.name}</Crumb>\n                )\n            })}\n        </Container>\n    )\n} \n\nconst mapStateToProps = state => ({\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootLayer: state.app.rootLayer,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(Breadcrumbs)\n\nconst Crumb = styled.button`\n    cursor: pointer;\n    font-size: 1.75rem;\n    font-weight: 500;\n    &:not(:first-of-type) {\n        margin-left: 5px;\n        &:before {\n            margin-right: 5px;\n            content: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAzbDMuMDU3LTMgMTEuOTQzIDEyLTExLjk0MyAxMi0zLjA1Ny0zIDktOXoiLz48L3N2Zz4=\");\n        }\n    }\n    &:not(:last-of-type) {\n        margin-left: 5px;\n        opacity: 0.6;\n        font-size: 1.7rem;\n        font-weight: 400;\n    }\n    &:hover{\n        opacity: 1;\n    }\n`\n\nconst Container = styled.nav`\n    display: flex;\n    margin: 20px 0;\n`","// import Projects from './FilesList/Projects'\nimport styled from 'styled-components'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport { connect } from 'react-redux'\nimport Breadcrumbs from './Breadcrumbs'\nconst Dashboard = () => {\n    return(\n        <Container>\n            <Sidebar />\n            <FilesContainer>\n                <Breadcrumbs />\n                <FilesList />\n            </FilesContainer>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n\nexport const FilesContainer = styled.div`\n    padding: 0 10px 0 50px;\n`\n\nexport const Container = styled.div`\n    /* width: 100vw;  */\n    display: flex;\n`","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n        props.dispatch(outlineItemsForUpdate(newOutline))\n\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowEditModal(false)\n            document.getElementById(`card-edit-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal onDismiss={()=>props.setShowEditModal(false)} aria-label='edit card' isOpen={props.showEditModal}>\n            <Header>Edit card</Header>\n            <div>\n                <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                <div style={{marginBottom: '20px'}}></div>\n                <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n            </div>\n            <div>\n                <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                <Save onClick={saveCardEdits}>Save</Save>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled(Dialog)`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n            document.getElementById(`card-delete-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal aria-label='delete card dialog' isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)}>\n            <Header>Delete card</Header>\n            <p>Are you sure you want to delete this card?</p>\n            <div>\n                <Cancel onKeyDown={closeModal} onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                <Delete onClick={deleteCard}>Delete</Delete>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        // document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props?.outlineItemsForUpdate?.length + 1)\n        // eslint-disable-next-line \n    }, [props.outlineItemsForUpdate])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Modal aria-label='create card' isOpen={props.showCreateModal} onDismiss={()=>props.setShowCreateModal(false)}>\n            <Header>Create new card</Header>\n            <Label>Title</Label>\n            <Title onChange={(e)=>setTitle(e.target.value)} />\n            <Label>Description</Label>\n            <Description onChange={(e)=>setText(e.target.value)} />\n            <Label>Insert at location:</Label>\n            <div>\n                <Location defaultValue={props.outlineItemsForUpdate.length + 1} id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineItemsDisplay.length + 1}\n            </div>\n            <div style={{display: 'flex'}}>\n                <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                <Create onClick={createNewOutlineCard}>Create</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <IconBackgroundContainer id={`card-edit-button-${props.index}`} role='button' onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)}>\n                            <IconTitle>Rename</IconTitle>\n                            <IconBackground />\n                            <Icon alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                        \n                        <IconBackgroundContainer id={`card-delete-button-${props.index}`} role='button' onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)}>\n                            <IconTitle>Delete</IconTitle>\n                            <IconBackground />\n                            <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n    font-size: 1rem;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.article`\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/writing-app'>\n                <div>Home</div>\n            </Link>\n            {props?.outlineData?.name}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n\n            <EditCardModal showEditModal={showEditModal} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            \n\n            <DeleteCardModal showDeleteModal={showDeleteModal} setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n\n\n            <CreateCardModal showCreateModal={showCreateModal} itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\n\n//components \n\nexport const Dialog = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <DialogStyles {...props.attributes}>{props.children}</DialogStyles>\n        </CenteredItemsContainer>\n    )\n}\n\nexport const Character = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <CharacterStyles {...props.attributes}>{props.children}</CharacterStyles>\n        </CenteredItemsContainer>\n    )\n}\n\nexport const SceneHeading = (props) => {\n    return <SceneHeadingStyles {...props.attributes}>{props.children}</SceneHeadingStyles>\n}\n\nexport const Paragraph = (props) => {\n    return <ParagraphStyles {...props.attributes}>{props.children}</ParagraphStyles>\n}\n\nexport const Transition = (props) => {\n    return <TransitionStyles {...props.attributes}>{props.children}</TransitionStyles>\n}\n\nexport const Parenthetical = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <ParentheticalStyles {...props.attributes}>{props.children}</ParentheticalStyles>\n        </CenteredItemsContainer>\n    )\n}\n\n//styles \n\nexport const TransitionStyles = styled.p`\n    font-weight: 500;\n    display: flex;\n    justify-content: flex-end;\n    /* color: red; */\n    font-family: 'Courier New', Courier, monospace;\n    text-transform: uppercase;\n    margin-left: 1px;\n    transform: translate(-1px);\n`\n\nexport const SceneHeadingStyles = styled.p`\n    font-weight: 600;\n    text-transform: uppercase;\n    font-family: 'Courier New', Courier, monospace;\n`\n\nexport const ParagraphStyles = styled.p`\n    /* color: blue; */\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 1rem;\n    max-width: 60ch;\n`\n\nexport const CenteredItemsContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    margin-left: 1px;\n    transform: translate(-1px);\n`\n\nexport const CharacterStyles = styled.p`\n    /* text-align: center; */\n    font-family: 'Courier New', Courier, monospace;\n    /* color: orange; */\n`\n\nexport const ParentheticalStyles = styled.p`\n    font-family: 'Courier New', Courier, monospace;\n    width: 26ch;\n    /* color: brown; */\n`\n\nexport const DialogStyles = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n    width: 34ch;\n`\n\nexport const Container = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n    width: 60vw;\n    max-width: 600px;\n    margin: 0 auto;\n`\n\nexport const AutocompleteContainer = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n`\n\nexport const AutocompleteBackground = styled.div`\n    position: absolute;\n    top: ${props=>props.position.top};\n    left: ${props=>props.position.left};\n    display: ${props=>props.position.display};\n    flex-direction: column;\n    font-family: 'Courier New', Courier, monospace;\n    background-color: white;\n    border-radius: 5px;\n`\n\nexport const AutocompleteItem = styled.span`\n    padding: 8px;\n    font-family: 'Courier New', Courier, monospace;\n    font-weight: 600;\n    background-color: ${props=>props.isSelected ? 'hsl(217, 49%, 94%)' : 'transparent'};\n    &:first-of-type {\n        border-radius: 5px 5px 0 0;\n    }\n    &:last-of-type {\n        border-radius: 0 0 5px 5px;\n    }\n`\n\n// dropdown items\nexport const TIME_OF_DAY = [\n    'DAWN',\n    'MORNING',\n    'DAY',\n    'AFTERNOON',\n    'DUSK',\n    'NIGHT',\n    'EVENING',\n]\n\nexport const LOCATIONS = [\n    'HOUSE',\n    'HARRY\\'S MANSION',\n    '123 STREET',\n    'OLD RESTAURANT',\n    'MODERN MUSEUM',\n    'METRO',\n    'POOL',\n    'DISCO CLUB',\n    'SHOPPING MALL',\n    'STREET',\n    'FOREST',\n]\n\nexport const NAMES = [\n    'JEFF',\n    'CHRIS',\n    'DAN',\n    'AVERY',\n    'FRANCESCA',\n    'BRITTANY',\n    'BRIANNA',\n    'BRIDGET',\n    'BETHANY',\n]","import {\n    AutocompleteBackground,\n    AutocompleteContainer,\n    AutocompleteItem,\n} from './EditorAssets'\n\nconst Autocomplete = (props) => {\n    return(\n        <AutocompleteContainer >\n            <AutocompleteBackground position={props.position}>\n                {props.items.map((item, index)=> {\n                    return <AutocompleteItem isSelected={index===props.index} key={item}>{item}</AutocompleteItem>\n                })}\n            </AutocompleteBackground>\n        </AutocompleteContainer>\n    )\n}\n\nexport default Autocomplete","// @refresh reset\nimport { createEditor, Editor, Transforms, Range } from 'slate'\nimport { Slate, Editable, withReact, ReactEditor } from 'slate-react'\nimport { useMemo, useState, useCallback, useEffect } from 'react'\nimport Autocomplete from './Autocomplete'\nimport {\n    NAMES,\n    LOCATIONS,\n    TIME_OF_DAY,\n    Container,\n    Dialog,\n    SceneHeading,\n    Paragraph,\n    Transition,\n    Character,\n    Parenthetical\n} from './EditorAssets'\n\nconst EditorInterface = () => {\n    const editor = useMemo(()=> withReact(createEditor()), [])\n    const [value, setValue] = useState([{type: 'paragraph', children: [{text: ''}]}])\n    const [target, setTarget] = useState()\n    const [index, setIndex] = useState(0)\n    const [position, setPosition] = useState({top: '-9999px', left: '-9999px', display: 'none',})\n    const [searchType, setSearchType] = useState('')\n    const [searchQuery, setSearchQuery] = useState('')\n\n    const searchMap = {\n        names: NAMES,\n        times: TIME_OF_DAY,\n        locations: LOCATIONS,\n    }\n\n    const searchResults = searchMap[searchType]?.filter(item=> {\n        return item.startsWith(searchQuery.toUpperCase()) && item!==searchQuery.toUpperCase()\n    })\n\n    useEffect(() => {\n        if(editor.selection) {\n            const { path } = editor.selection.focus\n            const currentText = value[path[0]]?.children[0]?.text\n            if (target && searchType.length > 0 && searchResults?.length > 0 && currentText?.length > 0) {\n                const domRange = ReactEditor.toDOMRange(editor, target)\n                const rect = domRange.getBoundingClientRect()\n                setPosition({\n                    top: `${rect.top + window.pageYOffset + 25}px`,\n                    left: `${rect.left + window.pageXOffset}px`,\n                    display: 'flex',\n                })\n            }else{\n                setPosition({\n                    top: '-9999px',\n                    left: '-9999px',\n                    display: 'none'\n                })\n            }\n        }\n        // eslint-disable-next-line \n    }, [searchResults?.length, searchType, editor.selection, searchQuery, target])\n    \n    const renderElement = useCallback((props)=> {\n        const { type } = props.element\n        if(type==='character') return <Character {...props} />\n        if(type==='dialog') return <Dialog {...props} />\n        if(type==='heading') return <SceneHeading {...props} />\n        if(type==='transition') return <Transition {...props} />\n        if(type==='parenthetical') return <Parenthetical {...props} />\n        return <Paragraph {...props} />\n    }, [])\n\n    const functions = {\n        checkTransition(e, currentText) {\n            if(e.code==='Semicolon' \n            && e.shiftKey\n            && currentText === currentText.toUpperCase()\n            ) {\n                this.setNode('transition')\n                return true\n            }\n            return false\n        },\n        checkDescription(path, e, currentText) {\n            const previousText = value[path[0]-1].children[path[1]].text \n            const previousPreviousType = value[path[0]-2].type\n            const currentTextUppercase = currentText.toUpperCase()\n            if(previousText === '' \n                && e.key !== 'Enter'\n                && !currentTextUppercase.includes('EXT.')\n                && !currentTextUppercase.includes('INT.')\n                && !currentTextUppercase.includes('INT./EXT.')\n                && previousPreviousType !== 'dialog'\n            ) {\n                this.setNode(null)\n                return true\n            }\n            return false\n        },\n        checkDialog(path) {\n            const previousText = value[path[0]-1].children[path[1]].text\n            const previousType = value[path[0]-1].type\n            if(\n                previousText === previousText.toUpperCase() \n                && previousText.length > 0\n                && previousText[previousText.length - 1] !== ':'\n            ) {\n                Transforms.setNodes(\n                    editor,\n                    { type: 'character' },\n                    { \n                        at: [path[0]-1],\n                        match: n => Editor.isBlock(editor, n),\n                        mode: 'lowest',\n                    },\n                )\n                this.setNode('dialog')\n                return true\n            }else if(previousText[0] === '(' || previousType==='character') {\n                this.setNode('dialog')\n                return true\n            }\n            return false\n        },\n        checkParenthetical(path, currentText, e) {\n            const character = value[path[0]-1].children[path[1]].text\n            if(character === character.toUpperCase() \n            && (currentText[0] === '(' || (e.key==='(' && e.shiftKey))\n            ) {\n                this.setNode('parenthetical')\n                Transforms.setNodes(\n                    editor,\n                    { type: 'character' },\n                    { \n                        at: [path[0]-1],\n                        match: n => Editor.isBlock(editor, n),\n                        mode: 'lowest',\n                    },\n                )\n                return true\n            }\n            return false\n        },\n        checkCharacter(path, currentText, currentType) {\n            if(path[0] > 1) {\n                const previousType = value[path[0]-2].type\n                if(\n                    previousType === 'dialog' \n                    && currentType\n                    && currentText === currentText.toUpperCase()\n                    && !currentText.includes('INT.')\n                    && !currentText.includes('EXT.')\n                    && !currentText.includes('INT./EXT.')\n                ) {\n                    this.setNode('character')\n                    return true\n                }\n            }\n            return false\n        },\n        incrementIndex(e) {\n            if(e.key==='ArrowUp') {\n                e.preventDefault()\n                setIndex(index === 0 ? searchResults.length - 1 : index - 1)\n                return true\n            }\n            if(e.key==='ArrowDown') {\n                e.preventDefault()\n                setIndex(index === searchResults.length - 1 ? 0 : index + 1)\n                return true\n            }\n        },\n        timeSearch(newValue) {\n            const { path } = editor.selection.focus\n            const currentText = newValue[path[0]].children[0].text\n            if(!currentText.includes('-')) return\n            const splitValue = currentText.split('-')\n            if(splitValue.length > 1) {\n                setSearchQuery((splitValue[splitValue.length - 1]).trim())\n            }\n        },\n        insertNodes(type) {\n            const obj = {children: [{ text: '' }]}\n            if(type) obj['type'] = type\n            Transforms.insertNodes(editor, [obj])  \n        },\n        replaceLocation(path) {\n            const currentText = value[path[0]].children[path[1]].text\n            const intExt = currentText.split(' ')[0].toUpperCase() \n            const [endPosition] = Range.edges(editor.selection)\n            let offset = 0\n            if(intExt=== 'INT.' || intExt === 'EXT.') offset = 5\n            if(intExt=== 'INT./EXT.') offset = 10\n            const startPosition = { offset, path }\n            const range = Editor.range(editor, startPosition, endPosition)\n            this.insertText(searchResults[index], range)\n            if(!currentText.includes('-')) {\n                this.insertText(' - ')\n            }\n            setIndex(0)\n            setSearchQuery('')\n        },\n        handleDelete(path, e, type) {\n            const currentText = value[path[0]].children[path[1]].text\n            const offset = editor.selection.focus.offset\n            if(currentText.length > 0 && offset > 0) return\n            if(currentText === '' && (type==='heading' || !type)) return\n            e.preventDefault()\n            return this.setNode(null)\n        },\n        handleEnter(path, e, type) {\n            if(type === 'transition') {\n                editor.insertBreak()\n                return this.setNode(null)\n            }\n            if(!type) {\n                editor.insertBreak()\n            }\n            if(type === 'dialog') {\n                e.preventDefault()\n                this.insertNodes(null)\n                this.insertNodes('character')\n            }\n            if(type === 'parenthetical') {\n                e.preventDefault()\n                return this.insertNodes('dialog')\n            }\n            return this.handleReplace(path, e, type)\n        }, \n        setNode(newType) {\n            return Transforms.setNodes(\n                editor,\n                { type: newType },\n                { match: n => Editor.isBlock(editor, n) },\n            )\n        },\n        insertText(text, position) {\n            Transforms.insertText(\n                editor,\n                text, \n                { at: position }\n            )\n        },\n        replaceCharacter(path) {\n            this.insertText(searchResults[index], [path[0]])\n            if(value[path[0]].type==='character') {\n                this.insertNodes('dialog')\n            }else{\n                editor.insertBreak()\n            }\n        },\n        replaceTime() {\n            const [endPosition] = Range.edges(editor.selection)\n            const startPosition = Editor.before(editor, endPosition, { unit: 'word' })\n            const range =  Editor.range(editor, startPosition, endPosition)\n            this.insertText(searchResults[index], range)\n            this.insertNodes(null)\n            return this.insertNodes(null)\n        },\n        handleReplace(path, e, type) {\n            if(searchResults?.length > 0 && searchType==='locations' && searchQuery.length>0) {\n                e.preventDefault()\n                return functions.replaceLocation(path)\n            }\n\n            if(searchResults?.length > 0 && searchType.length > 0 && searchQuery.length>0) {\n                e.preventDefault()\n                setSearchQuery('')\n                setIndex(0)\n                if(searchType==='names') return functions.replaceCharacter(path)\n                return functions.replaceTime()\n            } else if (e.key==='Enter' && type === 'character') {\n                e.preventDefault()\n                return this.insertNodes('dialog')\n            } else if (e.key==='Enter' && type === 'heading') {\n                e.preventDefault()\n                this.insertNodes(null)\n                return this.insertNodes(null)\n            }\n        },\n\n        checkHeading(splitText) {\n            const intExt = splitText[0].toUpperCase()\n            if(intExt === 'INT.' || intExt === 'EXT.' || intExt === 'INT./EXT.') {\n                this.setNode('heading')\n                return true\n            }\n            return false\n        },\n    }\n\n    const modifiers = (e) => {\n        if(!editor.selection) return\n        if(searchQuery.length > 0 && searchType.length > 0 && searchResults.length > 0) {\n            if(functions.incrementIndex(e)) return\n        }\n        const { path } = editor.selection.focus\n        const { type } = value[path[0]]\n        const currentText = value[path[0]].children[0].text\n        const splitText = currentText.split(' ')\n        if (e.key==='Backspace') return functions.handleDelete(path, e, type)\n        if (e.key === 'Enter') return functions.handleEnter(path, e, type)\n        if (e.key === 'Tab') return functions.handleReplace(path, e, type)\n        if (functions.checkTransition(e, currentText)) return\n        if (functions.checkHeading(splitText)) return\n        if(path[0] > 1) {\n            if (functions.checkDescription(path, e, currentText)) return\n        }\n        if (functions.checkCharacter(path, currentText, type)) return\n        if(path[0] > 0) {\n            if (functions.checkParenthetical(path, currentText, e)) return\n            if (functions.checkDialog(path)) return\n        }\n    }\n\n    const namesOnChange = (newValue, path) => {\n        setSearchType('names')\n        setSearchQuery(newValue[path[0]].children[0].text)\n        const [endPosition] = Range.edges(editor.selection)\n        const startPosition = Editor.before(editor, endPosition, { unit: 'word' })\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const locationsOnChange = (startValue, joinedValue, path) => {\n        setSearchType('locations')\n        setSearchQuery(joinedValue.split('-')[0].trim())\n        const [endPosition] = Range.edges(editor.selection)\n        let offset = 0\n        const intExt = startValue.toUpperCase()\n        if(intExt=== 'INT.' || intExt === 'EXT.') offset = 4\n        if(intExt=== 'INT./EXT.') offset = 9\n        const startPosition = { offset, path }\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const timesOnChange = (newValue, currentText, path) => {\n        setSearchType('times')\n        functions.timeSearch(newValue)\n        const splitText = currentText.split('-')\n        splitText.pop()\n        const joinedText = splitText.join('')\n        let offset = joinedText.length + 1\n        const [endPosition] = Range.edges(editor.selection)\n        const startPosition = { path, offset }\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const handleOnChange = (newValue) => {\n        const { path } = editor.selection.focus\n        const currentText = newValue[path[0]]?.children[path[1]]?.text\n\n        if((currentText?.length > 0 || newValue[path[0]].type === 'character') && currentText===currentText.toUpperCase() && !currentText?.includes('INT.') && !currentText?.includes('EXT.') && !currentText?.includes('INT./EXT.')) {\n            namesOnChange(newValue, path)\n        }else if(newValue[path[0]].type === 'heading') {\n            const currentOffset = editor.selection.anchor.offset\n            const splitValue = currentText?.split(' ')\n            const startValue = splitValue.shift()\n            const joinedValue = splitValue.join(' ')\n            const minOffset = startValue.length\n            let maxOffset = Infinity\n            if(joinedValue.includes('-')){\n                const splitDash = joinedValue.split('-')\n                maxOffset = currentText.length - splitDash.length - 4\n            }\n            if(currentOffset > minOffset && currentOffset < maxOffset) {\n                locationsOnChange(startValue, joinedValue, path)\n            } else if (currentOffset > maxOffset) {\n                timesOnChange(newValue, currentText, path)\n            }\n        }else{\n            setTarget(null)\n            setSearchType('')\n        }\n    }\n\n    return(\n        <Container>\n            <Slate value={value} editor={editor} onChange={newValue => {\n                setValue(newValue)\n                if(editor.selection) {\n                    handleOnChange(newValue)\n                }\n            }}>\n                <Editable style={{boxShadow: 'none'}} autoFocus placeholder='Masterpiece goes here' onKeyDown={modifiers} renderElement={renderElement} />\n                {((searchQuery.length > 1 && searchType==='names') || (searchQuery.length > 0 && searchType==='names' && value[editor?.selection?.focus?.path[0]]?.type==='character')) &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n                {searchQuery.length > 0 && searchType==='locations' && searchResults?.length> 0 &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n                {searchQuery.length > 0 && searchType==='times' && searchResults.length> 0 &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n            </Slate>\n        </Container>\n    )\n}\n\nexport default EditorInterface","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport EditorInterface from './Editor'\n\nconst Screenplay = (props) => {\n\n    useEffect(()=> {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(data=> {\n            // document.getElementById('content').value = data.data().text\n        })\n        // eslint-disable-next-line\n    }, [])\n\n    const saveData = () => {\n        const text = document.getElementById('content').value\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text\n        })\n        .catch(err=>console.log(err))\n    }\n\n    return(\n        <Container>\n            <button onClick={saveData}>Save</button>\n            <EditorInterface />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n})\n\nexport default connect(mapStateToProps)(Screenplay)\n\nexport const Container = styled.div`\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport fitTextarea from 'fit-textarea';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    const [lastSaved, setLastSaved] = useState(0)\n    const [savedStatus, setSavedStatus] = useState('All changes saved')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    \n    useEffect(()=> {\n        if(props.userData.userID) {\n            setSavedStatus('Saving...')\n            const timeout = setTimeout(()=>saveWork(), 1000)\n            return  ()=>clearTimeout(timeout)\n        }\n        // eslint-disable-next-line \n    }, [note])\n\n\n    // useEffect(()=> {\n    //     const textarea = document.getElementById('notes-textarea');\n    //     fitTextarea.watch(textarea);\n    // }, [note])\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n            const textarea = document.getElementById('notes-textarea');\n        fitTextarea.watch(textarea);\n        })\n    }\n\n    // window.onbeforeunload = function() {\n    //     // return\n    // }\n\n    window.onbeforeunload = function() {\n        if(savedStatus==='Saving...') {\n            return 'saving'\n        }\n    }\n\n    const saveWork = () => {\n        const currentTime = Date.now()\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n        })\n        .then(()=> {\n            console.log('work saved')\n            setSavedStatus('All changes saved')\n        })\n\n        if(currentTime - lastSaved > 600000) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(props.match.params.fileID)\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(props.notesData.docID))\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n        }\n\n        setLastSaved(currentTime)\n    }\n\n    return(\n        <Container>\n            <div>\n                <Link to='/writing-app'>Home</Link>\n                <Title>{props?.notesData?.name}</Title>\n                <h4>{savedStatus}</h4>\n                <TextAreaPage rows='5' placeholder='Write notes here' onChange={(e)=> setNote(e.target.value)} autoFocus id='notes-textarea' />\n                <div></div>\n                {/* <button onClick={saveWork}>Save work</button> */}\n            </div>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst Container = styled.div`\n    display: flex; \n    flex-direction: column; \n    align-items: center; \n    justify-content: center;\n    padding: 20px 30vw;\n`\n\nconst Title = styled.h1`\n    font-size: 3rem;\n    font-weight: 600;\n    margin-bottom: 10px;\n`\n\nconst TextAreaPage = styled.textarea`\n    /* padding: 40px 0px; */\n    margin: 40px 0 0 0;\n    /* background-color: hsl(0, 10%, 5%); */\n    background-color: transparent;\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 50vw;\n    /* height: 80vh; */\n    border: none;\n    resize: none;\n    &:focus{\n        box-shadow: none;\n    }\n`","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyles = createGlobalStyle`\n\n    html, body {\n        background-color: hsl(200, 30%, 90%);\n    }\n\n    * {\n        &:focus {\n            box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n            outline: none;\n        }\n    }\n\n    html, body, div, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nexport default GlobalStyles","import { useEffect, useState } from 'react'\nimport Signup from './Components/Signup/Signup'\nimport Signin from './Components/Signup/Signin'\nimport Dashboard from './Components/Dashboard/Dashboard'\nimport Outline from './Components/Edit/Outline/Outline'\nimport Screenplay from './Components/Edit/Screenplay/Screenplay'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData } from './redux/actions/appActions'\n\nconst App = (props) => {\n  const [isLoading, setIsLoading] = useState(true)\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n      }\n      setIsLoading(false)\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    isLoading ? \n    null\n    :\n    (props.userData.userID ? \n    <div>\n      <Route path='/writing-app/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n      )} />\n      <Route path='/writing-app/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route path='/writing-app/edit/screenplay/:fileID' render={(props)=> (\n        <Screenplay {...props} />\n      )} />\n      <Route exact path='/writing-app' render={(props)=> (\n        <Dashboard {...props} />\n      )} />\n      <GlobalStyles />\n    </div>\n    :\n    <div>\n      <Signup />\n      <Signin />\n    </div>)\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n    rootDocs: [],\n    layerOneDocs: [],\n    layerTwoDocs: [],\n    layerThreeDocs: [],\n    currentLayer: null,\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.CURRENT_LAYER:\n            return {\n                ...state,\n                currentLayer: action.payload\n            }\n        case actions.LAYER_THREE_DOCS:\n            return {\n                ...state,\n                layerThreeDocs: action.payload\n            }\n        case actions.LAYER_TWO_DOCS:\n            return {\n                ...state,\n                layerTwoDocs: action.payload\n            }\n        case actions.LAYER_ONE_DOCS:\n            return {\n                ...state,\n                layerOneDocs: action.payload\n            }\n        case actions.ROOT_DOCS:\n            return {\n                ...state,\n                rootDocs: action.payload\n            }\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    breadcrumbs: [{name: 'all files', docId: null}],\n    sortMethod: null,\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.SORT_METHOD:\n            return {\n                ...state,\n                sortMethod: action.payload\n            }\n        case actions.BREADCRUMBS:\n            return {\n                ...state,\n                breadcrumbs: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}