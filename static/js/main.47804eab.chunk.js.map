{"version":3,"sources":["firebase.js","globalFunctions.js","redux/actions/appActions.js","Components/Dashboard/FilesList/CreateDocModal.js","Components/Dashboard/FilesList/RenameDocModal.js","Components/Dashboard/FilesList/DeleteDocModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/ProjectsTable.js","Components/Dashboard/FilesList/AllFiles.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Dashboard/Breadcrumbs.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","updateLastModified","userID","projectID","fileID","timestamp","Date","now","ref","collection","doc","console","log","undefined","update","lastModified","then","catch","err","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","ROOT_DOCS","LAYER_ONE_DOCS","LAYER_TWO_DOCS","CURRENT_LAYER","currentLayer","data","dispatch","type","payload","layerThreeDocs","layerTwoDocs","layerOneDocs","rootDocs","outlineItemsForUpdate","outlineItemsDisplay","outlineData","connect","state","userData","breadcrumbs","dashboard","props","useState","name","setName","createFolder","parentID","length","docID","folderProperties","String","set","addDocToStore","setIsCreateProjectModal","createFile","generateIDAndCreateFile","idAttempt","result","characters","charactersLength","i","charAt","Math","floor","random","generateID","where","get","empty","fileProperties","dateCreated","fileProps","location","window","open","document","projectSelectedData","add","Container","Background","onClick","Modal","createType","ProjectTitle","onChange","e","target","value","Cancel","Create","styled","button","input","div","useEffect","getElementById","fileSelectedName","setShowRenameModal","id","currentFileID","deleteDoc","docData","deleteFile","currentIndex","deleteFolder","delete","setShowDeleteModal","forEach","item","folderMap","0","1","2","3","initialDelete","deletedItem","splice","removeDocFromStore","Header","Delete","h1","BREADCRUMBS","currentProjectID","showDeleteModal","showRenameModal","sortFiles","a","b","selectItem","activeElement","blur","dataArr","push","sort","breadcrumb","breadcrumbsCopy","openFile","fileType","Table","role","Head","RowHeader","TableHead","aria-label","TableBody","map","index","Row","tabIndex","onKeyDown","buttonPress","code","onFocus","setProjectSelectedData","selectProject","Cell","DocIconNameContainer","DocIcon","alt","src","moment","format","IconContainer","IconBackgroundContainer","stopPropagation","showRenameProject","label","IconTitle","Icon","IconBackground","showDeleteProject","RenameDocModal","img","projects","isCreateProjectModal","isCreateProjectDropdown","setIsCreateProjectDropdown","setCreateType","getInitialFilesAndFolders","sortProjects","projectArr","project","openModal","style","width","marginRight","getProjects","NewFile","PickDoc","Item","span","showProjects","projectFiles","dashboardCurrentSection","navigateSidebar","menuItem","UL","LI","LiButton","background","hover","li","ul","crumb","Crumb","indexToRoute","breadcrumbsReduced","slice","breadcrumbRoute","nav","display","newTitle","setNewTitle","newText","setNewText","setShowEditModal","Title","autoComplete","defaultValue","title","marginBottom","Text","text","Save","newCard","cardIndex","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","setShowCreateModal","Label","Description","Location","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","preventDefault","keyBoardEdit","keyBoardDelete","CardNumber","p","h2","article","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","showEditModal","showCreateModal","getOutline","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","to","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","notesData","note","setNote","lastSaved","setLastSaved","savedStatus","setSavedStatus","getNotes","timeout","setTimeout","saveWork","clearTimeout","currentTime","flexDirection","alignItems","justifyContent","TextAreaPage","placeholder","autoFocus","GlobalStyles","createGlobalStyle","auth","onAuthStateChanged","user","userInfo","uid","path","render","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","docId","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.47804eab.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    console.log(projectID)\n    if(projectID!==undefined) {\n        ref.collection('files-folders')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            \n        })\n    }\n    if(fileID) {\n        ref.collection('files-folders')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            console.log(2)\n        })\n    }\n\n}","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\nexport const ROOT_DOCS = 'ROOT_DOCS'\nexport const LAYER_ONE_DOCS = 'LAYER_ONE_DOCS'\nexport const LAYER_TWO_DOCS = 'LAYER_TWO_DOCS'\nexport const LAYER_THREE_DOCS = 'LAYER_THREE_DOCS'\nexport const CURRENT_LAYER = 'CURRENT_LAYER'\n\nexport function currentLayer(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_LAYER, payload: data})\n    }\n}\n\nexport function layerThreeDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_THREE_DOCS, payload: data})\n    }\n}\n\nexport function layerTwoDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_TWO_DOCS, payload: data})\n    }\n}\n\nexport function layerOneDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_ONE_DOCS, payload: data})\n    }\n}\n\nexport function rootDocs(data) {\n    return(dispatch) => {\n        dispatch({type: ROOT_DOCS, payload: data})\n    }\n}\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { generateID } from '../../../globalFunctions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { \n    // currentLayer,\n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs\n} from '../../../redux/actions/appActions'\n\nconst CreateDocModal = (props) => {\n    const [name, setName] = useState('')\n\n    const createProject = () => {\n        if (props.createType==='folder' && props.currentLayer < 3) return createFolder()\n        if (props.createType!=='folder') return createFile(props.createType)\n    }\n\n    const createFolder = () => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        const timestamp = Date.now()\n        const folderProperties = {\n            name,\n            parentID: String(parentID),\n            type: 'folder',\n            docID: String(timestamp),\n            lastModified: timestamp,\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(timestamp))\n        .set({\n            ...folderProperties\n        })\n        .then(()=> {\n            console.log('folder created')\n            addDocToStore(folderProperties)\n            props.setIsCreateProjectModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const createFile = (type) => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        let docID = ''\n        const generateIDAndCreateFile = () => {\n            const idAttempt = generateID()\n            db.collection('docID')\n            .where('docID', '==', idAttempt)\n            .get()\n            .then(data=> {\n                if(data.empty) {\n                    docID = idAttempt\n                    const timestamp = Date.now()\n                    const fileProperties = {\n                        name,\n                        type,\n                        parentID: String(parentID),\n                        docID: String(docID),\n                        dateCreated: timestamp,\n                        lastModified: timestamp,\n                    }\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files-folders')\n                    .doc(docID)\n                    .set({\n                        ...fileProperties\n                    })\n                    .then(()=> {\n                        console.log('new file preview created')\n                        addDocToStore(fileProperties)\n                    })\n                    if(type==='outline') {\n                        fileProperties['data'] = []\n                    }\n                    if(type==='notes' || type==='screenplay') {\n                        fileProperties['text'] = ''\n                    }\n                    const { lastModified, ...fileProps } = fileProperties\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files')\n                    .doc(docID)\n                    .set({\n                        ...fileProps\n                    })\n                    .then(()=> {\n                        console.log('new file created')\n                        const location = `/writing-app/edit/${type}/${docID}`\n                        window.open(location, \"_blank\") || (document.location = location)\n                        props.setIsCreateProjectModal(false)\n                        if(props.projectSelectedData.docID) {\n                            updateLastModified(props.userData.userID, String(props.projectSelectedData.docID))\n                        }\n                    })\n                    db.collection('docID')\n                    .add({\n                        docID,\n                    })\n                }else{\n                    generateIDAndCreateFile()\n                }\n            })\n        }\n        generateIDAndCreateFile()\n    }\n\n    const addDocToStore = (data) => {\n        if(props.currentLayer===0) props.dispatch(rootDocs([data, ...props.rootDocs]))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs([data, ...props.layerOneDocs]))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs([data, ...props.layerTwoDocs]))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs([data, ...props.layerThreeDocs]))\n    }\n \n    return (\n        <Container>\n            <Background onClick={()=>props.setIsCreateProjectModal(false)} />\n            <Modal>\n                Create new {props.createType}\n                <ProjectTitle onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                    <Create onClick={createProject}>Create project</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(CreateDocModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nconst RenameFileModal = (props) => {\n    const [name, setName] = useState('')\n\n    useEffect(()=> {\n        document.getElementById('rename-file-input').value = props.projectSelectedData.name\n        // eslint-disable-next-line\n    }, [props.fileSelectedName])\n\n    const renameFile = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(props.projectSelectedData.docID))\n        .update({\n            name,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n        if(props.projectSelectedData.type!=='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files')\n            .doc(String(props.projectSelectedData.docID))\n            .update({\n                name,\n            })\n            .then(()=> {\n                console.log('file rename successful')\n                props.setShowRenameModal(false)\n            })\n        }\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setShowRenameModal(false)} />\n            <Modal>\n                Rename {props.projectSelectedData.type}\n                <ProjectTitle id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onClick={renameFile}>Rename</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 5px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { \n    // currentLayer,\n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n    currentLayer\n} from '../../../redux/actions/appActions'\n\nconst DeleteDocModal = (props) => {\n\n    const deleteDoc = (docData) => {\n        console.log('deleting docs')\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID, docData.currentIndex)\n        }else{\n            deleteFolder(docData.docID, docData.currentIndex)\n        }\n    }\n\n    const deleteFile = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        \n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        props.setShowDeleteModal(false)\n    }\n\n    const deleteFolder = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', String(docID))\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n               deleteDoc(item.data())\n            })\n        })\n        .then(()=> {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(docID))\n            .delete()\n            .then(()=>null)\n            .catch(err=>console.log(err))\n            props.setShowDeleteModal(false)\n        })\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const removeDocFromStore = (currentIndex) => {\n        let deletedItem = [...folderMap[props.currentLayer]]\n        deletedItem.splice(currentIndex, 1)\n        if(props.currentLayer===0) props.dispatch(rootDocs(deletedItem))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(deletedItem))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(deletedItem))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(deletedItem))\n    }\n\n    const initialDelete = (docData) => {\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID)\n        }else{\n            deleteFolder(docData.docID)\n        }\n        removeDocFromStore(docData.currentIndex)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete project</Header>\n                <p>Are you sure you want to delete this project?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={()=>initialDelete(props.projectSelectedData)}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(DeleteDocModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const BREADCRUMBS = 'BREADCRUMBS'\n\nexport function breadcrumbs(data) {\n    return(dispatch) => {\n        dispatch({type: BREADCRUMBS, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { \n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n    currentLayer,\n} from '../../../redux/actions/appActions'\nimport moment from 'moment'\nimport RenameDocModal from './RenameDocModal'\nimport DeleteProjectModal from './DeleteDocModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { breadcrumbs } from '../../../redux/actions/dashboardActions'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const sortFiles = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const selectProject = (docData, index) => {\n        props.setProjectSelectedData({...docData, currentIndex: index})\n    }\n\n    const buttonPress = (e, type, docID, name) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='projects-table-row') {\n            selectItem(type, docID, name)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        document.activeElement.blur()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        document.activeElement.blur()\n        setShowDeleteModal(true)\n    }\n\n    const selectItem = (type, docID, name) => {\n        document.activeElement.blur()\n        if(type==='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .where('parentID', '==', docID)\n            .get()\n            .then(data=> {\n                const dataArr = []\n                data.forEach(item=> {\n                    dataArr.push(item.data())\n                })\n                if(props.currentLayer === 0) {\n                    props.dispatch(layerOneDocs(dataArr.sort(sortFiles)))\n                }else if(props.currentLayer === 1) {\n                    props.dispatch(layerTwoDocs(dataArr.sort(sortFiles)))\n                }else if(props.currentLayer === 2) {\n                    props.dispatch(layerThreeDocs(dataArr.sort(sortFiles)))\n                }\n                props.dispatch(currentLayer(props.currentLayer + 1))\n                const breadcrumb = {\n                    name,\n                    docID, \n                }\n                const breadcrumbsCopy = [...props.breadcrumbs]\n                breadcrumbsCopy.push(breadcrumb)\n                props.dispatch(breadcrumbs(breadcrumbsCopy))\n            })\n        }else{\n            openFile(type, docID)\n        }\n    }\n\n    const openFile = (fileType, docID) => {\n        const location = `/writing-app/edit/${fileType}/${docID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>Project name</TableHead>\n                        <TableHead role='heading'>Type</TableHead>\n                        <TableHead role='heading'>Last modified</TableHead>\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {folderMap[props.currentLayer]?.map((doc, index)=> {\n                        return(\n                            <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>buttonPress(e.code, doc.type, doc.docID, doc.name)} role='button' onFocus={()=>selectProject(doc, index)} onClick={()=>selectItem(doc.type, doc.docID, doc.name)} key={index}>\n                                <Cell role='cell'>\n                                    <DocIconNameContainer>\n                                        {doc.type==='folder' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='screenplay' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.type==='notes' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='outline' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.name}\n                                    </DocIconNameContainer>\n                                </Cell>\n                                <Cell role='cell'>{doc.type}</Cell>\n                                <Cell role='cell'>{moment(doc.lastModified).format('ll')}</Cell>\n                                <Cell role='cell'>\n                                    <IconContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showRenameProject(e)} label='rename file'>\n                                            <IconTitle>Rename</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showDeleteProject(e)} label='delete file' >\n                                            <IconTitle>Delete</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                    </IconContainer>\n                                </Cell>\n                            </Row>\n                        )\n                    })}\n                </TableBody>\n            </Table> \n            {showRenameModal && \n                <RenameDocModal projectSelectedData={props.projectSelectedData} setShowRenameModal={setShowRenameModal} />\n            }\n            {showDeleteModal && \n                <DeleteProjectModal projectSelectedData={props.projectSelectedData} setShowDeleteModal={setShowDeleteModal} />\n            }\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    rootDocs: state.app.rootDocs,\n    currentLayer: state.app.currentLayer,\n    currentProjectID: state.app.currentProjectID,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n    breadcrumbs: state.dashboard.breadcrumbs,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst DocIconNameContainer = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst DocIcon = styled.img`\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n`\n\nconst IconTitle = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    /* padding: 0.5rem; */\n    padding: 10px 15px;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst Row = styled.div`\n    border-collapse: separate;\n    cursor: pointer;\n    display: table-row;\n    background-color: hsl(20, 0%, 97%);\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 15px 20px;\n    vertical-align: middle;\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport CreateDocModal from './CreateDocModal'\nimport ProjectsTable from './ProjectsTable'\nimport { rootDocs, currentLayer } from '../../../redux/actions/appActions'\nconst AllFiles = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    const [isCreateProjectDropdown, setIsCreateProjectDropdown] = useState(false)\n    const [projectSelectedData, setProjectSelectedData] = useState({})\n    const [createType, setCreateType] = useState('')\n    // const [currentDocID, setCurrentDocID] = useState('')\n    useEffect(()=> {\n        if(props.userData.userID) {\n            getInitialFilesAndFolders()\n        }\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjects = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const getInitialFilesAndFolders = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', props.userData.userID)\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n            props.dispatch(rootDocs(projectArr.sort(sortProjects)))\n            props.dispatch(currentLayer(0))\n        })\n    }\n\n    const openModal = (type) => {\n        setIsCreateProjectModal(true)\n        setCreateType(type)\n        setIsCreateProjectDropdown(false)\n    }\n\n    return(\n        <div style={{width: '80vw', marginRight: '15px'}}>\n            {isCreateProjectModal &&\n                <CreateDocModal projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} createType={createType} getProjects={getInitialFilesAndFolders} setIsCreateProjectModal={setIsCreateProjectModal} />\n            }\n            <NewFile onClick={()=>setIsCreateProjectDropdown(!isCreateProjectDropdown)}>Create new</NewFile>\n            {isCreateProjectDropdown &&\n                <PickDoc>\n                    <Item onClick={()=>openModal('folder')}>Folder</Item>\n                    <Item onClick={()=>openModal('outline')}>Outline</Item>\n                    <Item onClick={()=>openModal('screenplay')}>Screenplay</Item>\n                    <Item onClick={()=>openModal('notes')}>Notes</Item>\n                </PickDoc>\n            }\n            <ProjectsTable projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(AllFiles)\n\nconst Item = styled.span`\n    margin-bottom: 5px;\n    cursor: pointer;\n`\n\nconst PickDoc = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: hsl(20, 30%, 90%);\n    height: 100px;\n    width: 150px;\n    position: absolute;\n    top: 15%;\n    left: 18%;\n    /* transform: translate(-50%, -50%); */\n`\n\nconst NewFile = styled.button`\n    position: relative;\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px 20px 20px 0;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\n// const Header = styled.h1`\n//     font-size: 1.75rem;\n//     font-weight: 500;\n// `","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport AllFiles from './AllFiles'\nimport { connect } from 'react-redux'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n        })\n    }\n\n    return(\n        <div>\n            <AllFiles />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { dashboardCurrentSection } from '../../../redux/actions/appActions'\n\nconst Sidebar = (props) => {\n\n    const navigateSidebar = (menuItem) => {\n        // if(menuItem==='projects') getProjects()\n        // if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <UL>\n                <LI><LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'} >\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" />\n                    All files\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4=\" /> \n                    Analytics\n                </LiButton ></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4=\" />\n                    Settings\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                    Deleted\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst Container = styled.div`\n    width: 20vw;\n    /* margin-top: 115px; */\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    border: none;\n    padding: 10px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.img`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n`","import styled from \"styled-components\";\nimport { connect } from 'react-redux'\nimport { currentLayer } from '../../redux/actions/appActions'\nimport { breadcrumbs } from '../../redux/actions/dashboardActions'\n\nconst Breadcrumbs = (props) => {\n\n    const breadcrumbRoute = (indexToRoute) => {\n        props.dispatch(currentLayer(indexToRoute))\n        const crumbsCopy = [...props.breadcrumbs]\n        const breadcrumbsReduced = crumbsCopy.slice(0, indexToRoute+1)\n        props.dispatch(breadcrumbs(breadcrumbsReduced))\n    }\n\n    return(\n        <Container>\n            {props.breadcrumbs.map((crumb, index)=> {\n                return(\n                    <Crumb onClick={()=>breadcrumbRoute(index)} key={index}>{crumb.name}</Crumb>\n                )\n            })}\n        </Container>\n    )\n} \n\nconst mapStateToProps = state => ({\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n})\n\nexport default connect(mapStateToProps)(Breadcrumbs)\n\nconst Crumb = styled.button`\n    cursor: pointer;\n    font-size: 1.75rem;\n    font-weight: 500;\n    &:not(:first-of-type) {\n        margin-left: 5px;\n        &:before {\n            margin-right: 5px;\n            content: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAzbDMuMDU3LTMgMTEuOTQzIDEyLTExLjk0MyAxMi0zLjA1Ny0zIDktOXoiLz48L3N2Zz4=\");\n        }\n    }\n    &:not(:last-of-type) {\n        margin-left: 5px;\n        opacity: 0.6;\n        font-size: 1.7rem;\n        font-weight: 400;\n    }\n    &:hover{\n        opacity: 1;\n    }\n`\n\nconst Container = styled.nav`\n    display: flex;\n`","// import Projects from './FilesList/Projects'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport { connect } from 'react-redux'\nimport Breadcrumbs from './Breadcrumbs'\nconst Dashboard = (props) => {\n\n    return(\n        <div style={{display: 'flex'}}>\n            <Sidebar />\n            <div>\n                <Breadcrumbs />\n                <FilesList />\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n        props.dispatch(outlineItemsForUpdate(newOutline))\n\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowEditModal(false)}></Background>\n            <Modal>\n                <Header>Edit card</Header>\n                <div>\n                    <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                    <div style={{marginBottom: '20px'}}></div>\n                    <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n                </div>\n                <div>\n                    <Cancel onClick={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                    <Save onClick={saveCardEdits}>Save</Save>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled.div`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n    z-index: 100;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete card</Header>\n                <p>Are you sure you want to delete this card?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteCard}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props.outlineData.data.length + 1)\n        // eslint-disable-next-line \n    }, [])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowCreateModal(false)} />\n            <Modal>\n                <Header>Create new card</Header>\n                <Label>Title</Label>\n                <Title onChange={(e)=>setTitle(e.target.value)} />\n                <Label>Description</Label>\n                <Description onChange={(e)=>setText(e.target.value)} />\n                <Label>Insert at location:</Label>\n                <div>\n                    <Location id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineItemsDisplay.length + 1}\n                </div>\n                <div style={{display: 'flex'}}>\n                    <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                    <Create onClick={createNewOutlineCard}>Create</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <IconBackgroundContainer role='button' onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)}>\n                            <IconTitle>Rename</IconTitle>\n                            <IconBackground />\n                            <Icon alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                        \n                        <IconBackgroundContainer role='button' onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)}>\n                            <IconTitle>Delete</IconTitle>\n                            <IconBackground />\n                            <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n    font-size: 1rem;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.article`\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import React, { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        // console.log(props.match)\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        const outlineCopy = {...outlineData}\n        outlineCopy.data = cardsNewIndexes\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/writing-app'>\n                <div>Home</div>\n            </Link>\n            {props?.outlineData?.name}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n            {showEditModal && \n                <EditCardModal itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            }\n            {showDeleteModal &&\n                <DeleteCardModal setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n            }\n            {showCreateModal && \n                <CreateCardModal itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n            }\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    const [lastSaved, setLastSaved] = useState(0)\n    const [savedStatus, setSavedStatus] = useState('All changes saved')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    \n    useEffect(()=> {\n        if(props.userData.userID) {\n            setSavedStatus('Saving...')\n            const timeout = setTimeout(()=>saveWork(), 1000)\n            return  ()=>clearTimeout(timeout)\n        }\n        // eslint-disable-next-line \n    }, [note])\n\n\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n        })\n    }\n\n    const saveWork = () => {\n        const currentTime = Date.now()\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n        })\n        .then(()=> {\n            console.log('work saved')\n            setSavedStatus('All changes saved')\n        })\n\n        if(currentTime - lastSaved > 600000) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(props.match.params.fileID)\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(props.notesData.docID))\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n        }\n\n        setLastSaved(currentTime)\n    }\n\n    return(\n        <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center'}}>\n            <h4>{savedStatus}</h4>\n            <Link to='/writing-app'>Home</Link>\n            <div></div>\n            {props?.notesData?.name}\n            <div></div>\n            <TextAreaPage placeholder='Write notes here' onChange={(e)=> setNote(e.target.value)} autoFocus id='notes-textarea' />\n            <div></div>\n            {/* <button onClick={saveWork}>Save work</button> */}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst TextAreaPage = styled.textarea`\n    padding: 40px 100px;\n    /* background-color: hsl(0, 10%, 95%); */\n    background-color: transparent;\n    outline: none;\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 60vw;\n    height: 90vh;\n    border: none;\n    resize: none;\n`","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyles = createGlobalStyle`\n\n    html, body {\n        background-color: hsl(200, 30%, 90%);\n    }\n\n    html, body, div, span, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nexport default GlobalStyles","import { useEffect } from 'react'\n// import Signup from './Components/Signup/Signup'\n// import Signin from './Components/Signup/Signin'\nimport Dashbaord from './Components/Dashboard/Dashboard'\nimport Outline from './Components/Edit/Outline/Outline'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData } from './redux/actions/appActions'\n\nconst App = (props) => {\n\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n      }\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    <div>\n      <Route path='/writing-app/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n        // <OutlineDND {...props} />\n      )} />\n      <Route path='/writing-app/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route exact path='/writing-app' render={(props)=> (\n        <Dashbaord {...props} />\n      )} />\n      {/* <Signup /> */}\n      {/* <Signin /> */}\n      <GlobalStyles />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n    rootDocs: [],\n    layerOneDocs: [],\n    layerTwoDocs: [],\n    layerThreeDocs: [],\n    currentLayer: null,\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.CURRENT_LAYER:\n            return {\n                ...state,\n                currentLayer: action.payload\n            }\n        case actions.LAYER_TWO_DOCS:\n            return {\n                ...state,\n                layerTwoDocs: action.payload\n            }\n        case actions.LAYER_ONE_DOCS:\n            return {\n                ...state,\n                layerOneDocs: action.payload\n            }\n        case actions.ROOT_DOCS:\n            return {\n                ...state,\n                rootDocs: action.payload\n            }\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    breadcrumbs: [{name: 'all files', docId: null}],\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.BREADCRUMBS:\n            return {\n                ...state,\n                breadcrumbs: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}