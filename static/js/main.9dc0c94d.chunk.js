(this.webpackJsonpwriting_app_cra=this.webpackJsonpwriting_app_cra||[]).push([[0],{60:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var i,c,a,o,r,l,s,d,j,u,b,p,x,h,g,M,O,f,D,I,y,m,N,S,v,w,L,C,T,z,E,A,k,P,U,F=n(26),Y=n(9),R=n(2),Q=n.n(R),H=n(29),B=n.n(H),Z=(n(60),n(7)),G=n(34),J=G.a.initializeApp({apiKey:"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI",authDomain:"writing-136ac.firebaseapp.com",databaseURL:"https://writing-136ac.firebaseio.com",projectId:"writing-136ac",storageBucket:"writing-136ac.appspot.com"}),_=J.firestore(),W=n(4),X=n(8),V=n(5),K=n(30),q=n.n(K),$=function(e,t,n){var i=Date.now(),c=_.collection("users").doc(e);t&&c.collection("projects").doc(t).update({lastModified:i}).then((function(){console.log("updated")})).catch((function(e){console.log(e)})),n&&c.collection("file-previews").doc(n).update({lastModified:i}).then((function(){console.log("updated")})).catch((function(e){console.log(e)}))},ee=n(3),te=Object(Y.b)((function(e){return{userData:e.app.userData}}))((function(e){var t=Object(R.useState)(""),n=Object(X.a)(t,2),i=n[0],c=n[1];Object(R.useEffect)((function(){document.getElementById("rename-file-input").value=e.fileSelectedName}),[e.fileSelectedName]);return Object(ee.jsxs)(oe,{children:[Object(ee.jsx)(re,{onClick:function(){return e.setShowRenameModal(!1)}}),Object(ee.jsxs)(ae,{children:["Rename file",Object(ee.jsx)(ce,{autoComplete:"off",id:"rename-file-input",onChange:function(e){return c(e.target.value)}}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(ie,{onClick:function(){return e.setShowRenameModal(!1)},children:"Cancel"}),Object(ee.jsx)(ne,{onClick:function(){var t=_.collection("users").doc(e.userData.userID);t.collection("file-previews").doc(String(e.fileSelectedID)).update({fileName:i}).then((function(){console.log("file rename successful"),e.setShowRenameModal(!1)})),t.collection("files").doc(String(e.fileSelectedID)).update({fileName:i}).then((function(){console.log("file rename successful")})),$(e.userData.userID,String(e.fileSelectedID))},children:"Rename file"})]})]})]})})),ne=V.b.button(i||(i=Object(W.a)(["\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n"]))),ie=V.b.button(c||(c=Object(W.a)(["\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n"]))),ce=V.b.input(a||(a=Object(W.a)(["\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n"]))),ae=V.b.div(o||(o=Object(W.a)(["\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n"]))),oe=V.b.div(r||(r=Object(W.a)(["\n"]))),re=V.b.div(l||(l=Object(W.a)(["\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]))),le=Object(Y.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){return Object(ee.jsxs)(pe,{children:[Object(ee.jsx)(be,{onClick:function(){return e.setShowDeleteModal(!1)}}),Object(ee.jsxs)(ue,{children:[Object(ee.jsx)(se,{children:"Delete project"}),Object(ee.jsx)("p",{children:"Are you sure you want to delete this project?"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(de,{onClick:function(){return e.setShowDeleteModal(!1)},children:"Cancel"}),Object(ee.jsx)(je,{onClick:function(){var t=_.collection("users").doc(e.userData.userID);t.collection("file-previews").doc(e.fileSelectedID).delete().then((function(){console.log("file deleted")})),t.collection("files").doc(e.fileSelectedID).delete().then((function(){console.log("file deleted"),e.setShowDeleteModal(!1)})),$(e.userData.userID,String(e.outlineData.projectID))},children:"Delete"})]})]})]})})),se=V.b.h1(s||(s=Object(W.a)(["\n    font-size: 1.75rem;\n"]))),de=V.b.button(d||(d=Object(W.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),je=V.b.button(j||(j=Object(W.a)(["\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),ue=V.b.div(u||(u=Object(W.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),be=V.b.div(b||(b=Object(W.a)(["\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n"]))),pe=V.b.div(p||(p=Object(W.a)(["\n"]))),xe=Object(Y.b)((function(e){return{userData:e.app.userData,projectFiles:e.app.projectFiles}}))((function(e){var t=Object(R.useState)(!1),n=Object(X.a)(t,2),i=n[0],c=n[1],a=Object(R.useState)(!1),o=Object(X.a)(a,2),r=o[0],l=o[1],s=Object(R.useState)(""),d=Object(X.a)(s,2),j=d[0],u=d[1],b=Object(R.useState)(""),p=Object(X.a)(b,2),x=p[0],h=p[1];Object(R.useEffect)((function(){return function(){window.onclick=null}}),[]);var g=function(e){var t="/writing-app/edit/".concat(e.fileType,"/").concat(e.fileID);window.open(t,"_blank")||(document.location=t)};return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(De,{role:"table",children:[Object(ee.jsx)(fe,{role:"heading",children:Object(ee.jsxs)(ge,{role:"rowheader",children:[Object(ee.jsx)(Oe,{role:"heading",children:"File name"}),Object(ee.jsx)(Oe,{role:"heading",children:"File type"}),Object(ee.jsx)(Oe,{role:"heading",children:"Date created"}),Object(ee.jsx)(Oe,{role:"heading",children:"Last modified"}),Object(ee.jsx)(Oe,{"aria-label":"settings",role:"heading",label:"settings"})]})}),Object(ee.jsx)(ye,{role:"row",children:e.projectFiles.map((function(e,t){return Object(ee.jsxs)(Ie,{id:"files-table-row",tabIndex:"0",role:"button",onKeyDown:function(t){return function(e,t){"Enter"!==e&&"Space"!==e||"files-table-row"!==document.activeElement.id||g(t)}(t.code,e)},onFocus:function(){return t=e.fileID,n=e.fileName,u(t),void h(n);var t,n},onClick:function(){return g(e)},children:[Object(ee.jsx)(ve,{children:e.fileName}),Object(ee.jsx)(ve,{children:e.fileType}),Object(ee.jsx)(ve,{children:q()(e.dateCreated).format("ll")}),Object(ee.jsx)(ve,{children:q()(e.lastModified).calendar()}),Object(ee.jsxs)(Me,{children:[Object(ee.jsxs)(Ne,{onClick:function(e){return function(e){e.stopPropagation(),l(!0)}(e)},label:"rename file",children:[Object(ee.jsx)(he,{children:"Rename"}),Object(ee.jsx)(Se,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg=="}),Object(ee.jsx)(me,{})]}),Object(ee.jsxs)(Ne,{onClick:function(e){return function(e){e.stopPropagation(),c(!0)}(e)},label:"delete file",children:[Object(ee.jsx)(he,{children:"Delete"}),Object(ee.jsx)(Se,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+"}),Object(ee.jsx)(me,{})]})]})]},t)}))})]}),r&&Object(ee.jsx)(te,{fileSelectedName:x,fileSelectedID:j,setShowRenameModal:l}),i&&Object(ee.jsx)(le,{fileSelectedID:j,setShowDeleteModal:c})]})})),he=V.b.div(x||(x=Object(W.a)(["\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n"]))),ge=V.b.div(h||(h=Object(W.a)(["\n    display: table-row;\n    background-color: transparent;\n"]))),Me=V.b.div(g||(g=Object(W.a)(["\n    opacity: 0;\n    display: flex;\n"]))),Oe=V.b.div(M||(M=Object(W.a)(["\n    display: table-cell;\n    text-align: left;\n    padding: 0.5rem;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n"]))),fe=V.b.div(O||(O=Object(W.a)(["\n    display: table-header-group;\n"]))),De=V.b.div(f||(f=Object(W.a)(["\n    display: table;\n    width: 100%;\n    max-width: 100%;\n"]))),Ie=V.b.div(D||(D=Object(W.a)(["\n    cursor: pointer;\n    display: table-row;\n    background-color: transparent;\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        "," {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        "," {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n"])),Me,Me),ye=V.b.div(I||(I=Object(W.a)(["\n    display: table-row-group;\n"]))),me=V.b.div(y||(y=Object(W.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    /* margin-right: 10px; */\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n"]))),Ne=V.b.button(m||(m=Object(W.a)(["\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n"])),me,he,me,he),Se=V.b.img(N||(N=Object(W.a)([" \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n"]))),ve=V.b.div(S||(S=Object(W.a)(["\n    display: table-cell;\n    padding: 10px;\n    vertical-align: middle;\n"]))),we=n(49),Le=Object(Y.b)((function(e){return{userData:e.app.userData,currentProjectID:e.app.currentProjectID}}))((function(e){var t=Object(R.useState)(""),n=Object(X.a)(t,2),i=n[0],c=n[1],a=Object(R.useState)(""),o=Object(X.a)(a,2),r=o[0],l=o[1];return Object(ee.jsxs)(ke,{children:[Object(ee.jsx)(Pe,{onClick:function(){return e.setIsCreateFileModal(!1)}}),Object(ee.jsxs)(Ae,{children:["Create new file",Object(ee.jsx)(Ee,{onChange:function(e){return c(e.target.value)}}),Object(ee.jsxs)(Ce,{defaultValue:"",name:"project type",onChange:function(e){return l(e.target.value)},children:[Object(ee.jsx)("option",{value:"",disabled:!0,children:"Document type"}),Object(ee.jsx)("option",{value:"screenplay",children:"screenplay"}),Object(ee.jsx)("option",{value:"notes",children:"notes"}),Object(ee.jsx)("option",{value:"outline",children:"outline"})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(ze,{onClick:function(){return e.setIsCreateFileModal(!1)},children:"Cancel"}),Object(ee.jsx)(Te,{onClick:function(){var t="";!function n(){var c=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,i=0;i<12;i++)e+=t.charAt(Math.floor(Math.random()*n));return e}();_.collection("fileIDs").where("fileID","==",c).get().then((function(a){if(a.empty){t=c;var o=Date.now(),l={fileName:i,fileType:r,projectID:e.currentProjectID,fileID:t,dateCreated:o,lastModified:o};_.collection("users").doc(e.userData.userID).collection("file-previews").doc(t).set(Object(Z.a)({},l)).then((function(){console.log("new file preview created"),e.setIsCreateFileModal(!1)})),"outline"===r&&(l.data=[]),"notes"!==r&&"screenplay"!==r||(l.text="");l.lastModified;var s=Object(we.a)(l,["lastModified"]);_.collection("users").doc(e.userData.userID).collection("files").doc(t).set(Object(Z.a)({},s)).then((function(){console.log("new file created");var e="/writing-app/edit/".concat(r,"/").concat(t);window.open(e,"_blank")||(document.location=e)})),$(e.userData.userID,String(e.currentProjectID)),_.collection("fileIDs").add({fileID:t})}else n()}))}()},children:"Create"})]})]})]})})),Ce=V.b.select(v||(v=Object(W.a)(["\n    width: 20vw;\n"]))),Te=V.b.button(w||(w=Object(W.a)(["\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n"]))),ze=V.b.button(L||(L=Object(W.a)(["\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n"]))),Ee=V.b.input(C||(C=Object(W.a)(["\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n"]))),Ae=V.b.div(T||(T=Object(W.a)(["\n    background-color: white;\n    height: 300px;\n    width: 40vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    justify-content: space-evenly;\n    align-items: center;\n"]))),ke=V.b.div(z||(z=Object(W.a)(["\n"]))),Pe=V.b.div(E||(E=Object(W.a)(["\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]))),Ue="SHOW_PROJECTS",Fe="PROJECTS";function Ye(e){return function(t){t({type:Ue,payload:e})}}function Re(e){return function(t){t({type:Fe,payload:e})}}var Qe,He,Be,Ze,Ge,Je,_e,We,Xe,Ve,Ke,qe,$e=Object(Y.b)((function(e){return{userData:e.app.userData,currentProjectID:e.app.currentProjectID}}))((function(e){var t=Object(R.useState)(!1),n=Object(X.a)(t,2),i=n[0],c=n[1],a=Object(R.useState)(!1),o=Object(X.a)(a,2),r=o[0],l=o[1],s=Object(R.useState)(!1),d=Object(X.a)(s,2),j=d[0],u=d[1],b=Object(R.useState)(""),p=Object(X.a)(b,2),x=p[0],h=p[1],g=Object(R.useState)(""),M=Object(X.a)(g,2),O=M[0],f=M[1];return Object(ee.jsxs)("div",{style:{width:"80vw"},children:[r&&Object(ee.jsx)(te,{fileSelectedID:x,fileSelectedName:O,setIsRenameFileModal:l}),i&&Object(ee.jsx)(Le,{setIsCreateFileModal:c}),Object(ee.jsx)(it,{children:"Files"}),Object(ee.jsx)(tt,{onClick:function(){return e.dispatch(Ye(!0))},children:"Back to all projects"}),Object(ee.jsx)(nt,{onClick:function(){return c(!0)},children:"Create new file"}),j&&Object(ee.jsx)(et,{className:"files-delete",onClick:function(){return l(!0)},children:"Rename file"}),Object(ee.jsx)(xe,{setFileSelectedName:f,setIsFileSelected:u,setFileSelectedID:h})]})})),et=V.b.button(A||(A=Object(W.a)(["\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n"]))),tt=V.b.button(k||(k=Object(W.a)(["\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n"]))),nt=V.b.button(P||(P=Object(W.a)(["\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n"]))),it=V.b.h1(U||(U=Object(W.a)(["\n    font-size: 1.75rem;\n    font-weight: 500;\n"]))),ct=Object(Y.b)((function(e){return{userData:e.app.userData}}))((function(e){var t=Object(R.useState)(""),n=Object(X.a)(t,2),i=n[0],c=n[1];return Object(ee.jsxs)(st,{children:[Object(ee.jsx)(dt,{onClick:function(){return e.setIsCreateProjectModal(!1)}}),Object(ee.jsxs)(lt,{children:["Create new project",Object(ee.jsx)(rt,{onChange:function(e){return c(e.target.value)}}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(ot,{onClick:function(){return e.setIsCreateProjectModal(!1)},children:"Cancel"}),Object(ee.jsx)(at,{onClick:function(){var t=Date.now();_.collection("users").doc(e.userData.userID).collection("projects").doc(String(t)).set({projectName:i,projectID:t,dateCreated:t,lastModified:t},{merge:!0}).then((function(){var n;console.log("created new project"),e.getProjects(),e.setIsCreateProjectModal(!1),e.dispatch(Ye(!1)),e.dispatch((n=t,function(e){e({type:"CURRENT_PROJECT_ID",payload:n})}))}))},children:"Create project"})]})]})]})})),at=V.b.button(Qe||(Qe=Object(W.a)(["\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n"]))),ot=V.b.button(He||(He=Object(W.a)(["\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n"]))),rt=V.b.input(Be||(Be=Object(W.a)(["\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n"]))),lt=V.b.div(Ze||(Ze=Object(W.a)(["\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n"]))),st=V.b.div(Ge||(Ge=Object(W.a)(["\n"]))),dt=V.b.div(Je||(Je=Object(W.a)(["\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]))),jt="CURRENT_PROJECT_ID",ut="USER_DATA",bt="PROJECT_FILES",pt="CURRENT_FILE_ID",xt="OUTLINE_DATA",ht="OUTLINE_ITEMS_DISPLAY",gt="OUTLINE_ITEMS_FOR_UPDATE",Mt="NOTES_DATA",Ot="DASHBOARD_CURRENT_SECTION";function ft(e){return function(t){t({type:gt,payload:e})}}function Dt(e){return function(t){t({type:ht,payload:e})}}function It(e){return function(t){t({type:xt,payload:e})}}function yt(e){return function(t){t({type:bt,payload:e})}}var mt,Nt,St,vt,wt,Lt,Ct,Tt,zt,Et,At,kt,Pt,Ut,Ft,Yt,Rt,Qt,Ht,Bt,Zt,Gt,Jt,_t,Wt,Xt,Vt,Kt,qt,$t,en,tn,nn,cn,an,on,rn,ln,sn,dn,jn,un,bn,pn,xn,hn,gn,Mn,On,fn,Dn,In,yn,mn,Nn,Sn,vn,wn,Ln,Cn,Tn,zn,En,An=Object(Y.b)((function(e){return{userData:e.app.userData}}))((function(e){var t=Object(R.useState)(""),n=Object(X.a)(t,2),i=n[0],c=n[1];Object(R.useEffect)((function(){document.getElementById("rename-file-input").value=e.projectSelectedName}),[e.fileSelectedName]);return Object(ee.jsxs)(Yn,{children:[Object(ee.jsx)(Rn,{onClick:function(){return e.setShowRenameModal(!1)}}),Object(ee.jsxs)(Fn,{children:["Rename Project",Object(ee.jsx)(Un,{id:"rename-file-input",onChange:function(e){return c(e.target.value)}}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Pn,{onClick:function(){return e.setShowRenameModal(!1)},children:"Cancel"}),Object(ee.jsx)(kn,{onClick:function(){_.collection("users").doc(e.userData.userID).collection("projects").doc(String(e.projectSelectedID)).update({projectName:i}).then((function(){console.log("file rename successful"),e.setShowRenameModal(!1)}))},children:"Rename"})]})]})]})})),kn=V.b.button(_e||(_e=Object(W.a)(["\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n"]))),Pn=V.b.button(We||(We=Object(W.a)(["\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n"]))),Un=V.b.input(Xe||(Xe=Object(W.a)(["\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n"]))),Fn=V.b.div(Ve||(Ve=Object(W.a)(["\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n"]))),Yn=V.b.div(Ke||(Ke=Object(W.a)(["\n"]))),Rn=V.b.div(qe||(qe=Object(W.a)(["\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]))),Qn=Object(Y.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){return Object(ee.jsxs)(_n,{children:[Object(ee.jsx)(Jn,{onClick:function(){return e.setShowDeleteModal(!1)}}),Object(ee.jsxs)(Gn,{children:[Object(ee.jsx)(Hn,{children:"Delete project"}),Object(ee.jsx)("p",{children:"Are you sure you want to delete this project?"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Bn,{onClick:function(){return e.setShowDeleteModal(!1)},children:"Cancel"}),Object(ee.jsx)(Zn,{onClick:function(){_.collection("users").doc(e.userData.userID).collection("files").where("projectID","==",e.projectSelectedID).get().then((function(e){e.forEach((function(e){e.ref.delete()}))})),_.collection("users").doc(e.userData.userID).collection("file-previews").where("projectID","==",e.projectSelectedID).get().then((function(e){e.forEach((function(e){e.ref.delete()}))})),_.collection("users").doc(e.userData.userID).collection("projects").where("projectID","==",e.projectSelectedID).get().then((function(e){e.forEach((function(e){e.ref.delete()}))})).then((function(){e.setShowDeleteModal(!1)}))},children:"Delete"})]})]})]})})),Hn=V.b.h1(mt||(mt=Object(W.a)(["\n    font-size: 1.75rem;\n"]))),Bn=V.b.button(Nt||(Nt=Object(W.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),Zn=V.b.button(St||(St=Object(W.a)(["\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n"]))),Gn=V.b.div(vt||(vt=Object(W.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),Jn=V.b.div(wt||(wt=Object(W.a)(["\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n"]))),_n=V.b.div(Lt||(Lt=Object(W.a)(["\n"]))),Wn=Object(Y.b)((function(e){return{userData:e.app.userData,projects:e.dashboard.projects,currentProjectID:e.app.currentProjectID}}))((function(e){var t=Object(R.useState)(!1),n=Object(X.a)(t,2),i=n[0],c=n[1],a=Object(R.useState)(!1),o=Object(X.a)(a,2),r=o[0],l=o[1],s=Object(R.useState)(""),d=Object(X.a)(s,2),j=d[0],u=d[1],b=Object(R.useState)(""),p=Object(X.a)(b,2),x=p[0],h=p[1],g=function(e,t){return t.lastModified-e.lastModified},M=function(t){var n;e.dispatch((n=t,function(e){e({type:jt,payload:n})})),_.collection("users").doc(e.userData.userID).collection("file-previews").where("projectID","==",t).get().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.dispatch(yt(n.sort(g))),e.dispatch(Ye(!1))}))};return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(ei,{role:"table",children:[Object(ee.jsx)($n,{role:"heading",children:Object(ee.jsxs)(ti,{role:"rowheader",children:[Object(ee.jsx)(Kn,{role:"heading",children:"Project name"}),Object(ee.jsx)(Kn,{role:"heading",children:"Date created"}),Object(ee.jsx)(Kn,{role:"heading",children:"Last modified"}),Object(ee.jsx)(Kn,{"aria-label":"settings",role:"heading"})]})}),Object(ee.jsx)(qn,{role:"row",children:e.projects.map((function(e,t){return Object(ee.jsxs)(ni,{id:"projects-table-row",tabIndex:"0",onKeyDown:function(t){return function(e,t){"Enter"!==e&&"Space"!==e||"projects-table-row"!==document.activeElement.id||M(t)}(t.code,e.projectID)},role:"button",onFocus:function(){return t=e.projectID,n=e.projectName,u(t),void h(n);var t,n},onClick:function(){return M(e.projectID)},children:[Object(ee.jsx)(oi,{role:"cell",children:e.projectName}),Object(ee.jsx)(oi,{role:"cell",children:q()(e.dateCreated).format("ll")}),Object(ee.jsx)(oi,{role:"cell",children:q()(e.lastModified).calendar()}),Object(ee.jsx)(oi,{role:"cell",children:Object(ee.jsxs)(Vn,{children:[Object(ee.jsxs)(ci,{onClick:function(e){return function(e){e.stopPropagation(),l(!0)}(e)},label:"rename file",children:[Object(ee.jsx)(Xn,{children:"Rename"}),Object(ee.jsx)(ai,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg=="}),Object(ee.jsx)(ii,{})]}),Object(ee.jsxs)(ci,{onClick:function(e){return function(e){e.stopPropagation(),c(!0)}(e)},label:"delete file",children:[Object(ee.jsx)(Xn,{children:"Delete"}),Object(ee.jsx)(ai,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+"}),Object(ee.jsx)(ii,{})]})]})})]},t)}))})]}),r&&Object(ee.jsx)(An,{projectSelectedName:x,projectSelectedID:j,setShowRenameModal:l}),i&&Object(ee.jsx)(Qn,{projectSelectedID:j,setShowDeleteModal:c})]})})),Xn=V.b.div(Ct||(Ct=Object(W.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n"]))),Vn=V.b.div(Tt||(Tt=Object(W.a)(["\n    opacity: 0;\n    display: flex;\n"]))),Kn=V.b.div(zt||(zt=Object(W.a)(["\n    display: table-cell;\n    text-align: left;\n    padding: 0.5rem;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n"]))),qn=V.b.div(Et||(Et=Object(W.a)(["\n    display: table-row-group;\n"]))),$n=V.b.div(At||(At=Object(W.a)(["\n    display: table-header-group;\n"]))),ei=V.b.div(kt||(kt=Object(W.a)(["\n    display: table;\n    width: 100%;\n    max-width: 100%;\n"]))),ti=V.b.div(Pt||(Pt=Object(W.a)(["\n    display: table-row;\n    background-color: transparent;\n"]))),ni=V.b.div(Ut||(Ut=Object(W.a)(["\n    cursor: pointer;\n    display: table-row;\n    background-color: transparent;\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        "," {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        "," {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n"])),Vn,Vn),ii=V.b.div(Ft||(Ft=Object(W.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    /* margin-right: 10px; */\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n"]))),ci=V.b.button(Yt||(Yt=Object(W.a)(["\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n"])),ii,Xn,ii,Xn),ai=V.b.img(Rt||(Rt=Object(W.a)([" \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n"]))),oi=V.b.div(Qt||(Qt=Object(W.a)(["\n    display: table-cell;\n    padding: 10px;\n    vertical-align: middle;\n"]))),ri=Object(Y.b)((function(e){return{userData:e.app.userData,projects:e.dashboard.projects}}))((function(e){var t=Object(R.useState)(!1),n=Object(X.a)(t,2),i=n[0],c=n[1];Object(R.useEffect)((function(){o()}),[e.userData]);var a=function(e,t){return t.lastModified-e.lastModified},o=function(){_.collection("users").doc(e.userData.userID).collection("projects").get().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.dispatch(Re(n.sort(a)))}))};return Object(ee.jsxs)("div",{style:{width:"80vw"},children:[i&&Object(ee.jsx)(ct,{getProjects:o,setIsCreateProjectModal:c}),Object(ee.jsx)(si,{children:"Projects"}),Object(ee.jsx)(li,{onClick:function(){return c(!0)},children:"Create new project"}),Object(ee.jsx)(Wn,{})]})})),li=V.b.button(Ht||(Ht=Object(W.a)(["\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n"]))),si=V.b.h1(Bt||(Bt=Object(W.a)(["\n    font-size: 1.75rem;\n    font-weight: 500;\n"]))),di=Object(Y.b)((function(e){return{userData:e.app.userData,showProjects:e.dashboard.showProjects}}))((function(e){Object(R.useEffect)((function(){t()}),[e.userData]);var t=function(){_.collection("users").doc(e.userData.userID).collection("projects").get().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.dispatch(Re(n))}))};return Object(ee.jsx)("div",{children:e.showProjects?Object(ee.jsx)(ri,{}):Object(ee.jsx)($e,{})})})),ji=Object(Y.b)((function(e){return{userData:e.app.userData,projects:e.dashboard.projects,projectFiles:e.app.projectFiles,dashboardCurrentSection:e.app.dashboardCurrentSection}}))((function(e){var t=function(t){return"projects"===t&&(0===e.projects.length&&(_.collection("users").doc(e.userData.userID).collection("projects").get().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.dispatch(Re(n))})),e.dispatch(Ye(!0))),e.dispatch(Ye(!0))),"files"===t&&(0===e.projectFiles.length&&_.collection("users").doc(e.userData.userID).collection("file-previews").get().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.dispatch(yt(n)),e.dispatch(Ye(!1))})),e.dispatch(Ye(!1))),e.dispatch((n=t,function(e){e({type:Ot,payload:n})}));var n};return Object(ee.jsx)(ui,{children:Object(ee.jsxs)(pi,{children:[Object(ee.jsx)(bi,{children:Object(ee.jsxs)(xi,{onClick:function(){return t("projects")},background:"projects"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"transparent",hover:"projects"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"hsl(200, 10%, 95%)",children:[Object(ee.jsx)(hi,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+"}),"Projects"]})}),Object(ee.jsx)(bi,{children:Object(ee.jsxs)(xi,{onClick:function(){return t("files")},background:"files"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"transparent",hover:"files"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"hsl(200, 10%, 95%)",children:[Object(ee.jsx)(hi,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg=="}),"All files"]})}),Object(ee.jsx)(bi,{children:Object(ee.jsxs)(xi,{onClick:function(){return t("analytics")},background:"analytics"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"transparent",hover:"analytics"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"hsl(200, 10%, 95%)",children:[Object(ee.jsx)(hi,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4="}),"Analytics"]})}),Object(ee.jsx)(bi,{children:Object(ee.jsxs)(xi,{onClick:function(){return t("settings")},background:"settings"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"transparent",hover:"settings"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"hsl(200, 10%, 95%)",children:[Object(ee.jsx)(hi,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4="}),"Settings"]})}),Object(ee.jsx)(bi,{children:Object(ee.jsxs)(xi,{onClick:function(){return t("deleted")},background:"deleted"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"transparent",hover:"deleted"===e.dashboardCurrentSection?"hsl(202, 60%, 85%)":"hsl(200, 10%, 95%)",children:[Object(ee.jsx)(hi,{alt:"",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+"}),"Deleted"]})})]})})})),ui=V.b.div(Zt||(Zt=Object(W.a)(["\n    width: 20vw;\n"]))),bi=V.b.li(Gt||(Gt=Object(W.a)(["\n"]))),pi=V.b.ul(Jt||(Jt=Object(W.a)(["\n"]))),xi=V.b.button(_t||(_t=Object(W.a)(["\n    background-color: ",";\n    border: none;\n    padding: 5px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ",";\n    }\n"])),(function(e){return e.background}),(function(e){return e.hover})),hi=V.b.img(Wt||(Wt=Object(W.a)(["\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n"]))),gi=Object(Y.b)((function(e){return{showProjects:e.dashboard.showProjects}}))((function(e){return Object(ee.jsxs)("div",{style:{display:"flex"},children:[Object(ee.jsx)(ji,{}),Object(ee.jsx)(di,{})]})})),Mi=n(19),Oi=n(25),fi=Object(Y.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsDisplay:e.app.outlineItemsDisplay,outlineItemsForUpdate:e.app.outlineItemsForUpdate}}))((function(e){var t=Object(R.useState)(""),n=Object(X.a)(t,2),i=n[0],c=n[1],a=Object(R.useState)(""),o=Object(X.a)(a,2),r=o[0],l=o[1];return Object(ee.jsxs)(wi,{children:[Object(ee.jsx)(vi,{onClick:function(){return e.setShowEditModal(!1)}}),Object(ee.jsxs)(Si,{children:[Object(ee.jsx)(Di,{children:"Edit card"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(mi,{autoComplete:"off",onChange:function(e){return c(e.target.value)},id:"edit-card-modal-title",defaultValue:e.title}),Object(ee.jsx)("div",{style:{marginBottom:"20px"}}),Object(ee.jsx)(Ni,{onChange:function(e){return l(e.target.value)},id:"edit-card-modal-text",defaultValue:e.text})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Ii,{onClick:function(){return e.setShowEditModal(!1)},children:"Cancel"}),Object(ee.jsx)(yi,{onClick:function(){var t={index:e.cardIndex,title:i||e.title,text:r||e.text},n=Object(Mi.a)(e.outlineItemsForUpdate),c=Object(Mi.a)(e.outlineItemsDisplay);n[e.cardIndex]=t,c[e.itemIndexes[e.cardIndex]]=t,e.dispatch(Dt(Object(Mi.a)(c))),_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:n}).then((function(){e.setShowEditModal(!1)})).catch((function(e){console.log(e)})),$(e.userData.userID,String(e.outlineData.projectID),e.match.params.fileID)},children:"Save"})]})]})]})})),Di=V.b.h1(Xt||(Xt=Object(W.a)(["\n    font-size: 1.75rem;\n"]))),Ii=V.b.button(Vt||(Vt=Object(W.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),yi=V.b.button(Kt||(Kt=Object(W.a)(["\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),mi=V.b.input(qt||(qt=Object(W.a)(["\n    width: 500px;\n    height: 40px;\n"]))),Ni=V.b.textarea($t||($t=Object(W.a)(["\n    width: 500px;\n    height: 100px;\n"]))),Si=V.b.div(en||(en=Object(W.a)(["\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),vi=V.b.div(tn||(tn=Object(W.a)(["\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n    z-index: 100;\n"]))),wi=V.b.div(nn||(nn=Object(W.a)(["\n"]))),Li=Object(Y.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){return Object(ee.jsxs)(ki,{children:[Object(ee.jsx)(Ai,{onClick:function(){return e.setShowDeleteModal(!1)}}),Object(ee.jsxs)(Ei,{children:[Object(ee.jsx)(Ci,{children:"Delete card"}),Object(ee.jsx)("p",{children:"Are you sure you want to delete this card?"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Ti,{onClick:function(){return e.setShowDeleteModal(!1)},children:"Cancel"}),Object(ee.jsx)(zi,{onClick:function(){var t=Object(Mi.a)(e.outlineItemsForUpdate);t.splice(e.cardIndex,1);var n=t.map((function(e,t){return Object(Z.a)(Object(Z.a)({},e),{},{index:t})}));e.dispatch(ft(n)),e.dispatch(Dt(n));for(var i=[],c=0;c<e.itemIndexes.length-1;c++)i.push(String(c));e.setItemIndexes(i),_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:n}).then((function(){e.setShowDeleteModal(!1)})).catch((function(e){console.log(e)})),$(e.userData.userID,String(e.outlineData.projectID),e.match.params.fileID)},children:"Delete"})]})]})]})})),Ci=V.b.h1(cn||(cn=Object(W.a)(["\n    font-size: 1.75rem;\n"]))),Ti=V.b.button(an||(an=Object(W.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n"]))),zi=V.b.button(on||(on=Object(W.a)(["\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),Ei=V.b.div(rn||(rn=Object(W.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n"]))),Ai=V.b.div(ln||(ln=Object(W.a)(["\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n"]))),ki=V.b.div(sn||(sn=Object(W.a)(["\n"]))),Pi=Object(Y.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){var t=Object(R.useState)(""),n=Object(X.a)(t,2),i=n[0],c=n[1],a=Object(R.useState)(""),o=Object(X.a)(a,2),r=o[0],l=o[1],s=Object(R.useState)(),d=Object(X.a)(s,2),j=d[0],u=d[1];Object(R.useEffect)((function(){document.getElementById("create-card-location").value=e.outlineItemsForUpdate.length+1,u(e.outlineData.data.length+1)}),[]);return Object(ee.jsxs)(Ji,{children:[Object(ee.jsx)(Gi,{onClick:function(){return e.setShowCreateModal(!1)}}),Object(ee.jsxs)(Zi,{children:[Object(ee.jsx)(Ui,{children:"Create new card"}),Object(ee.jsx)(Qi,{children:"Title"}),Object(ee.jsx)(Yi,{onChange:function(e){return c(e.target.value)}}),Object(ee.jsx)(Qi,{children:"Description"}),Object(ee.jsx)(Fi,{onChange:function(e){return l(e.target.value)}}),Object(ee.jsx)(Qi,{children:"Insert at location:"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Ri,{id:"create-card-location",onChange:function(e){return u(e.target.value)}})," / ",e.outlineData.data.length+1]}),Object(ee.jsxs)("div",{style:{display:"flex"},children:[Object(ee.jsx)(Hi,{onClick:function(){return e.setShowCreateModal(!1)},children:"Cancel"}),Object(ee.jsx)(Bi,{onClick:function(){var t=0;e.outlineItemsForUpdate&&(t=e.outlineItemsForUpdate.length);var n={title:i,text:r,index:j},c=Object(Mi.a)(e.outlineItemsForUpdate),a=Object(Mi.a)(e.itemIndexes);c.splice(j-1,0,n);var o=c.map((function(e,t){return Object(Z.a)(Object(Z.a)({},e),{},{index:t})}));a.splice(j,0,String(t));for(var l=[],s=0;s<e.itemIndexes.length+1;s++)l.push(String(s));e.setItemIndexes(l),e.dispatch(Dt(o)),e.dispatch(ft(o)),_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:o}).then((function(){e.setShowCreateModal(!1)})),$(e.userData.userID,String(e.outlineData.projectID),e.match.params.fileID)},children:"Create"})]})]})]})})),Ui=V.b.h1(dn||(dn=Object(W.a)(["\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n"]))),Fi=V.b.textarea(jn||(jn=Object(W.a)(["\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n"]))),Yi=V.b.input(un||(un=Object(W.a)(["\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n"]))),Ri=V.b.input(bn||(bn=Object(W.a)(["\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n"]))),Qi=V.b.label(pn||(pn=Object(W.a)(["\n"]))),Hi=V.b.button(xn||(xn=Object(W.a)(["\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n"]))),Bi=V.b.button(hn||(hn=Object(W.a)(["\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n"]))),Zi=V.b.div(gn||(gn=Object(W.a)(["\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n"]))),Gi=V.b.div(Mn||(Mn=Object(W.a)(["\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n"]))),Ji=V.b.div(On||(On=Object(W.a)(["\n"]))),_i=n(14),Wi=n(27),Xi=function(e){var t=function(t,n){e.setTitle(t),e.setText(n),e.setShowEditModal(!0),e.setCardIndex(e.index)},n=function(){e.setShowDeleteModal(!0),e.setCardIndex(e.index)};return Object(ee.jsxs)(oc,Object(Z.a)(Object(Z.a)({},e),{},{ref:e.innerRef,children:[Object(ee.jsxs)(ec,{children:[Object(ee.jsx)(cc,{children:e.title}),Object(ee.jsxs)(tc,{children:[Object(ee.jsxs)($i,{children:[Object(ee.jsxs)(nc,{onClick:function(){return t(e.title,e.text)},onKeyDown:function(n){return function(e,n,i){"Enter"!==e.key&&"Space"!==e.key||(t(n,i),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault())}(n,e.title,e.text)},children:[Object(ee.jsx)(Vi,{children:"Rename"}),Object(ee.jsx)(Ki,{}),Object(ee.jsx)(ic,{alt:"edit",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg=="})]}),Object(ee.jsxs)(nc,{onClick:n,onKeyDown:function(e){return function(e){"Enter"!==e.key&&"Space"!==e.key||(n(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault())}(e)},children:[Object(ee.jsx)(Vi,{children:"Delete"}),Object(ee.jsx)(Ki,{}),Object(ee.jsx)(ic,{alt:"delete",src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg=="})]})]}),Object(ee.jsx)(qi,{children:e.index+1})]})]}),Object(ee.jsx)("div",{}),Object(ee.jsx)(ac,{children:e.text})]}))},Vi=V.b.div(fn||(fn=Object(W.a)(["\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n"]))),Ki=V.b.div(Dn||(Dn=Object(W.a)(["\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n"]))),qi=V.b.p(In||(In=Object(W.a)(["\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n"]))),$i=V.b.div(yn||(yn=Object(W.a)(["\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n"]))),ec=V.b.div(mn||(mn=Object(W.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]))),tc=V.b.div(Nn||(Nn=Object(W.a)(["\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        "," {\n            opacity: 1;\n        }\n    }\n"])),$i),nc=V.b.button(Sn||(Sn=Object(W.a)(["\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        "," {\n            opacity: 1;\n        }\n        "," {\n            opacity: 1;\n        }\n    }\n"])),Ki,Vi,Ki,Vi),ic=V.b.img(vn||(vn=Object(W.a)([" \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n"]))),cc=V.b.h1(wn||(wn=Object(W.a)(["\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n"]))),ac=V.b.h2(Ln||(Ln=Object(W.a)(["\n    font-size: 1.25rem;\n    line-height: 1.5;\n"]))),oc=V.b.div(Cn||(Cn=Object(W.a)(["\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        "," {\n            opacity: 1;\n        }\n    }\n"])),$i),rc=n(10),lc=Object(Y.b)((function(e){return{outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){var t,n,i=Object(Wi.e)({id:e.id}),c=i.attributes,a=i.listeners,o=i.setNodeRef,r=i.transform,l=i.transition,s={transform:rc.a.Transform.toString(r),transition:l};return Object(ee.jsx)("div",Object(Z.a)(Object(Z.a)(Object(Z.a)({ref:o,style:s},c),a),{},{children:(null===e||void 0===e?void 0:e.text)&&Object(ee.jsx)(Xi,{index:e.index,setCardIndex:e.setCardIndex,setTitle:e.setTitle,setText:e.setText,setShowEditModal:e.setShowEditModal,setShowDeleteModal:e.setShowDeleteModal,text:(null===e||void 0===e||null===(t=e.text[Number(e.id)])||void 0===t?void 0:t.text)||"",title:(null===e||void 0===e||null===(n=e.text[Number(e.id)])||void 0===n?void 0:n.title)||""})}))})),sc=Object(Y.b)((function(e){return{userData:e.app.userData,outlineData:e.app.outlineData,currentFileID:e.app.currentFileID,outlineItemsForUpdate:e.app.outlineItemsForUpdate,outlineItemsDisplay:e.app.outlineItemsDisplay}}))((function(e){var t,n=Object(R.useState)(!1),i=Object(X.a)(n,2),c=i[0],a=i[1],o=Object(R.useState)(!1),r=Object(X.a)(o,2),l=r[0],s=r[1],d=Object(R.useState)(!1),j=Object(X.a)(d,2),u=j[0],b=j[1],p=Object(R.useState)(""),x=Object(X.a)(p,2),h=x[0],g=x[1],M=Object(R.useState)(""),O=Object(X.a)(M,2),f=O[0],D=O[1],I=Object(R.useState)(null),y=Object(X.a)(I,2),m=y[0],N=y[1],S=Object(R.useState)([]),v=Object(X.a)(S,2),w=v[0],L=v[1];Object(R.useEffect)((function(){C()}),[e.match]);var C=function(){_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).get().then((function(t){if(void 0!==t.data()){var n=t.data(),i=n.data;e.dispatch(It(n)),i.length>0&&(e.dispatch(Dt(Object(Mi.a)(i))),e.dispatch(ft(Object(Mi.a)(i))));for(var c=[],a=0;a<i.length;a++)c.push(String(a));L(c)}}))},T=Object(_i.n)(Object(_i.m)(_i.d),Object(_i.m)(_i.c,{coordinateGetter:Wi.d}));return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Oi.b,{to:"/writing-app",children:Object(ee.jsx)("div",{children:"Home"})}),null===e||void 0===e||null===(t=e.outlineData)||void 0===t?void 0:t.fileName,Object(ee.jsx)("button",{onClick:function(){return b(!0)},children:"Create new card"}),Object(ee.jsx)(_i.a,{sensors:T,collisionDetection:_i.e,onDragEnd:function(t){var n=t.active,i=t.over;if(n.id!==i.id){var c,a;L((function(e){return c=e.indexOf(n.id),a=e.indexOf(i.id),Object(Wi.b)(e,c,a)}));var o=Object(Mi.a)(e.outlineItemsForUpdate),r=o.splice(c,1);o.splice.apply(o,[a,0].concat(Object(Mi.a)(r)));var l=o.map((function(e,t){return Object(Z.a)(Object(Z.a)({},e),{},{index:t})}));e.dispatch(ft(Object(Mi.a)(l))),function(t){var n=t.map((function(e,t){return Object(Z.a)(Object(Z.a)({},e),{},{index:t})}));Object(Z.a)({},It).data=n,_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({data:n}).then((function(){console.log("updated")})),$(e.userData.userID,String(e.outlineData.projectID),e.match.params.fileID)}(l)}},children:Object(ee.jsx)(Wi.a,{items:w,strategy:Wi.c,children:Object(ee.jsx)(dc,{children:w.map((function(t,n){return Object(ee.jsx)(lc,{index:n,setCardIndex:N,setTitle:g,setText:D,setShowEditModal:a,setShowDeleteModal:s,id:t,text:e.outlineItemsDisplay},t)}))})})}),c&&Object(ee.jsx)(fi,{itemIndexes:w,match:e.match,cardIndex:m,setShowEditModal:a,title:h,text:f}),l&&Object(ee.jsx)(Li,{setItemIndexes:L,itemIndexes:w,match:e.match,cardIndex:m,setShowDeleteModal:s}),u&&Object(ee.jsx)(Pi,{itemIndexes:w,setItemIndexes:L,match:e.match,setShowCreateModal:b,getOutline:C})]})})),dc=V.b.div(Tn||(Tn=Object(W.a)(["\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n"]))),jc=Object(Y.b)((function(e){return{userData:e.app.userData,notesData:e.app.notesData,outlineData:e.app.outlineData}}))((function(e){var t,n=Object(R.useState)(""),i=Object(X.a)(n,2),c=i[0],a=i[1];Object(R.useEffect)((function(){o()}),[e.match]);var o=function(){_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).get().then((function(t){var n;void 0!==t.data()&&(document.getElementById("notes-textarea").value=t.data().text),e.dispatch((n=t.data(),function(e){e({type:Mt,payload:n})}))}))};return Object(ee.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(ee.jsx)(Oi.b,{to:"/writing-app",children:"Home"}),Object(ee.jsx)("div",{}),null===e||void 0===e||null===(t=e.notesData)||void 0===t?void 0:t.fileName,Object(ee.jsx)("div",{}),Object(ee.jsx)(uc,{onChange:function(e){return a(e.target.value)},id:"notes-textarea"}),Object(ee.jsx)("div",{}),Object(ee.jsx)("button",{onClick:function(){var t=Date.now();_.collection("users").doc(e.userData.userID).collection("files").doc(e.match.params.fileID).update({text:c,lastModified:t}).then((function(){console.log("work saved")})),_.collection("users").doc(e.userData.userID).collection("file-previews").doc(e.match.params.fileID).update({lastModified:t}).then((function(){console.log("updated")})),_.collection("users").doc(e.userData.userID).collection("projects").doc(String(e.notesData.projectID)).update({lastModified:t}).then((function(){console.log("updated")}))},children:"Save work"})]})})),uc=V.b.textarea(zn||(zn=Object(W.a)(["\n    padding: 40px 100px;\n    background-color: hsl(0, 10%, 95%);\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 60vw;\n    height: 90vh;\n    border: none;\n    resize: none;\n"]))),bc=Object(V.a)(En||(En=Object(W.a)(["\n    html, body, div, span, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n"]))),pc=n(16),xc=Object(Y.b)((function(e){return{userData:e.app.userData}}))((function(e){return Object(R.useEffect)((function(){G.a.auth().onAuthStateChanged((function(t){if(t){var n={userID:t.uid};console.log("logged in"),e.dispatch((i=n,function(e){e({type:ut,payload:i})}))}var i}))}),[]),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(pc.a,{path:"/writing-app/edit/outline/:fileID",render:function(e){return Object(ee.jsx)(sc,Object(Z.a)({},e))}}),Object(ee.jsx)(pc.a,{path:"/writing-app/edit/notes/:fileID",render:function(e){return Object(ee.jsx)(jc,Object(Z.a)({},e))}}),Object(ee.jsx)(pc.a,{exact:!0,path:"/writing-app",render:function(e){return Object(ee.jsx)(gi,Object(Z.a)({},e))}}),Object(ee.jsx)(bc,{})]})})),hc=n(50),gc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))},Mc={userData:{},currentProjectID:"",projectFiles:[],currentFileID:"",outlineData:{},notesData:{},dashboardCurrentSection:"projects",outlineItemsForUpdate:[],outlineItemsDisplay:[]},Oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:return Object(Z.a)(Object(Z.a)({},e),{},{outlineItemsDisplay:t.payload});case gt:return Object(Z.a)(Object(Z.a)({},e),{},{outlineItemsForUpdate:t.payload});case Ot:return Object(Z.a)(Object(Z.a)({},e),{},{dashboardCurrentSection:t.payload});case Mt:return Object(Z.a)(Object(Z.a)({},e),{},{notesData:t.payload});case xt:return Object(Z.a)(Object(Z.a)({},e),{},{outlineData:t.payload});case pt:return Object(Z.a)(Object(Z.a)({},e),{},{currentFileID:t.payload});case bt:return Object(Z.a)(Object(Z.a)({},e),{},{projectFiles:t.payload});case ut:return Object(Z.a)(Object(Z.a)({},e),{},{userData:t.payload});case jt:return Object(Z.a)(Object(Z.a)({},e),{},{currentProjectID:t.payload});default:return e}},fc={showProjects:!0,projects:[]},Dc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(Z.a)(Object(Z.a)({},e),{},{showProjects:t.payload});case Fe:return Object(Z.a)(Object(Z.a)({},e),{},{projects:t.payload});default:return e}},Ic=Object(F.c)({app:Oc,dashboard:Dc}),yc=Object(F.d)(Ic,Object(F.a)(hc.a));B.a.render(Object(ee.jsx)(Q.a.StrictMode,{children:Object(ee.jsx)(Y.a,{store:yc,children:Object(ee.jsx)(Oi.a,{children:Object(ee.jsx)(xc,{})})})}),document.getElementById("root")),gc()}},[[69,1,2]]]);
//# sourceMappingURL=main.9dc0c94d.chunk.js.map