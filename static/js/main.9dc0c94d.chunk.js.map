{"version":3,"sources":["firebase.js","globalFunctions.js","Components/Dashboard/FilesList/RenameFileModal.js","Components/Dashboard/FilesList/DeleteFileModal.js","Components/Dashboard/FilesList/FilesTable.js","Components/Dashboard/FilesList/CreateFileModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/Files.js","Components/Dashboard/FilesList/CreateProjectModal.js","redux/actions/appActions.js","Components/Dashboard/FilesList/RenameProjectModal.js","Components/Dashboard/FilesList/DeleteProjectModal.js","Components/Dashboard/FilesList/ProjectsTable.js","Components/Dashboard/FilesList/Projects.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","updateLastModified","userID","projectID","fileID","timestamp","Date","now","ref","collection","doc","update","lastModified","then","console","log","catch","err","connect","state","userData","props","useState","fileName","setFileName","useEffect","document","getElementById","value","fileSelectedName","Container","Background","onClick","setShowRenameModal","Modal","ProjectTitle","autoComplete","id","onChange","e","target","Cancel","Create","String","fileSelectedID","styled","button","input","div","outlineData","currentFileID","outlineItemsForUpdate","outlineItemsDisplay","setShowDeleteModal","Header","Delete","delete","h1","projectFiles","showDeleteModal","showRenameModal","setFileSelectedID","setFileSelectedName","window","onclick","openFile","file","location","fileType","open","Table","role","Head","RowHeader","TableHead","aria-label","label","TableBody","map","index","Row","tabIndex","onKeyDown","activeElement","buttonPress","code","onFocus","Cell","moment","dateCreated","format","calendar","IconContainer","IconBackgroundContainer","stopPropagation","showRenameProject","IconTitle","Icon","alt","src","IconBackground","showDeleteProject","img","currentProjectID","setFileType","setIsCreateFileModal","SelectFileType","defaultValue","name","disabled","generateIDAndCreateFile","idAttempt","result","characters","charactersLength","length","i","charAt","Math","floor","random","generateID","where","get","data","empty","fileProperties","set","fileProps","add","select","SHOW_PROJECTS","PROJECTS","showProjects","dispatch","type","payload","projects","isCreateFileModal","isRenameFileModal","setIsRenameFileModal","isFileSelected","setIsFileSelected","style","width","Back","NewFile","RenameFile","className","projectName","setProjectName","setIsCreateProjectModal","merge","getProjects","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","projectSelectedName","projectSelectedID","forEach","item","dashboard","setProjectSelectedID","setProjectSelectedName","sortFiles","a","b","getProjectFiles","files","push","sort","project","RenameProjectModal","isCreateProjectModal","sortProjects","projectArr","Projects","dashboardCurrentSection","navigateSidebar","menuItem","filesArr","UL","LI","LiButton","background","hover","li","ul","display","newTitle","setNewTitle","newText","setNewText","setShowEditModal","Title","title","marginBottom","Text","text","Save","newCard","cardIndex","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","splice","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","setShowCreateModal","Label","Description","Location","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","preventDefault","keyBoardEdit","keyBoardDelete","CardNumber","p","h2","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","showEditModal","showCreateModal","getOutline","undefined","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","to","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","notesData","note","setNote","getNotes","flexDirection","alignItems","justifyContent","TextAreaPage","currentTime","GlobalStyles","createGlobalStyle","auth","onAuthStateChanged","user","userInfo","uid","path","render","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"gSAYIA,EAAMC,IAASC,cAVJ,CACbC,OAAQ,0CACRC,WAAY,gCACZC,YAAa,uCACbC,UAAW,gBACXC,cAAe,8BAYXC,EAAKR,EAAIS,Y,sCCPFC,EAAqB,SAACC,EAAQC,EAAWC,GAClD,IAAMC,EAAYC,KAAKC,MACjBC,EAAMT,EAAGU,WAAW,SACzBC,IAAIR,GAEFC,GACCK,EAAIC,WAAW,YACdC,IAAIP,GACJQ,OAAO,CACJC,aAAcP,IAEjBQ,MAAK,WACFC,QAAQC,IAAI,cAEfC,OAAM,SAACC,GACJH,QAAQC,IAAIE,MAGjBb,GACCI,EAAIC,WAAW,iBACdC,IAAIN,GACJO,OAAO,CACJC,aAAcP,IAEjBQ,MAAK,WACFC,QAAQC,IAAI,cAEfC,OAAM,SAACC,GACJH,QAAQC,IAAIE,O,QCoBTC,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,YAITF,EAtDS,SAACG,GAAW,IAAD,EACCC,mBAAS,IADV,mBACxBC,EADwB,KACdC,EADc,KAG/BC,qBAAU,WACNC,SAASC,eAAe,qBAAqBC,MAAQP,EAAMQ,mBAC5D,CAACR,EAAMQ,mBA6BV,OACI,gBAACC,GAAD,WACI,eAACC,GAAD,CAAYC,QAAS,kBAAIX,EAAMY,oBAAmB,MAClD,gBAACC,GAAD,yBAEI,eAACC,GAAD,CAAcC,aAAa,MAAMC,GAAG,oBAAoBC,SAAU,SAACC,GAAD,OAAKf,EAAYe,EAAEC,OAAOZ,UAC5F,iCACI,eAACa,GAAD,CAAQT,QAAS,kBAAIX,EAAMY,oBAAmB,IAA9C,oBACA,eAACS,GAAD,CAAQV,QAnCL,WAEf,IAAMxB,EAAMT,EAAGU,WAAW,SACzBC,IAAIW,EAAMD,SAASlB,QAEpBM,EAAIC,WAAW,iBACdC,IAAIiC,OAAOtB,EAAMuB,iBACjBjC,OAAO,CACJY,aAEHV,MAAK,WACFC,QAAQC,IAAI,0BACZM,EAAMY,oBAAmB,MAG7BzB,EAAIC,WAAW,SACdC,IAAIiC,OAAOtB,EAAMuB,iBACjBjC,OAAO,CACJY,aAEHV,MAAK,WACFC,QAAQC,IAAI,6BAGhBd,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAMuB,kBAW3C,qCAcdF,GAASG,IAAOC,OAAV,gJAQNL,GAASI,IAAOC,OAAV,sKAQNX,GAAeU,IAAOE,MAAV,2FAMZb,GAAQW,IAAOG,IAAV,4RAcLlB,GAAYe,IAAOG,IAAV,4BAGTjB,GAAac,IAAOG,IAAV,yMCjDD9B,gBARS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB6B,YAAa9B,EAAM5B,IAAI0D,YACvBC,cAAe/B,EAAM5B,IAAI2D,cACzBC,sBAAuBhC,EAAM5B,IAAI4D,sBACjCC,oBAAqBjC,EAAM5B,IAAI6D,uBAGpBlC,EA/CS,SAACG,GAuBrB,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYW,QAAS,kBAAIX,EAAMgC,oBAAmB,MAClD,gBAAC,GAAD,WACI,eAACC,GAAD,6BACA,+EACA,iCACI,eAAC,GAAD,CAAQtB,QAAS,kBAAIX,EAAMgC,oBAAmB,IAA9C,oBACA,eAACE,GAAD,CAAQvB,QA7BL,WACf,IAAMxB,EAAMT,EAAGU,WAAW,SACzBC,IAAIW,EAAMD,SAASlB,QAEpBM,EAAIC,WAAW,iBACdC,IAAIW,EAAMuB,gBACVY,SACA3C,MAAK,WACFC,QAAQC,IAAI,mBAGhBP,EAAIC,WAAW,SACdC,IAAIW,EAAMuB,gBACVY,SACA3C,MAAK,WACFC,QAAQC,IAAI,gBACZM,EAAMgC,oBAAmB,MAE7BpD,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAM4B,YAAY9C,aAWvD,gCAkBdmD,GAAST,IAAOY,GAAV,qDAINhB,GAASI,IAAOC,OAAV,2FAONS,GAASV,IAAOC,OAAV,iJASNZ,GAAQW,IAAOG,IAAV,0YAkBLjB,GAAac,IAAOG,IAAV,4NAWVlB,GAAYe,IAAOG,IAAV,4BCCA9B,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBsC,aAAcvC,EAAM5B,IAAImE,gBAGbxC,EAjGI,SAACG,GAAW,IAAD,EAEoBC,oBAAS,GAF7B,mBAEnBqC,EAFmB,KAEFN,EAFE,OAGoB/B,oBAAS,GAH7B,mBAGnBsC,EAHmB,KAGF3B,EAHE,OAIkBX,mBAAS,IAJ3B,mBAInBsB,EAJmB,KAIHiB,EAJG,OAKsBvC,mBAAS,IAL/B,mBAKnBO,EALmB,KAKDiC,EALC,KAO1BrC,qBAAU,WACN,OAAO,WACHsC,OAAOC,QAAU,QAGtB,IAEH,IAwBMC,EAAW,SAACC,GACd,IAAMC,EAAQ,4BAAwBD,EAAKE,SAA7B,YAAyCF,EAAK9D,QAC5D2D,OAAOM,KAAKF,EAAU,YAAczC,SAASyC,SAAWA,IAG5D,OACI,iCACI,gBAACG,GAAD,CAAOC,KAAK,QAAZ,UACI,eAACC,GAAD,CAAMD,KAAK,UAAX,SACI,gBAACE,GAAD,CAAWF,KAAK,YAAhB,UACI,eAACG,GAAD,CAAWH,KAAK,UAAhB,uBACA,eAACG,GAAD,CAAWH,KAAK,UAAhB,uBACA,eAACG,GAAD,CAAWH,KAAK,UAAhB,0BACA,eAACG,GAAD,CAAWH,KAAK,UAAhB,2BACA,eAACG,GAAD,CAAWC,aAAW,WAAWJ,KAAK,UAAUK,MAAM,kBAG9D,eAACC,GAAD,CAAWN,KAAK,MAAhB,SACKlD,EAAMqC,aAAaoB,KAAI,SAACZ,EAAMa,GAC3B,OACI,gBAACC,GAAD,CAAK3C,GAAG,kBAAkB4C,SAAS,IAAIV,KAAK,SAASW,UAAW,SAAC3C,GAAD,OAtCpE,SAACA,EAAG2B,GACV,UAAN3B,GAAuB,UAANA,GAA8C,oBAA5Bb,SAASyD,cAAc9C,IAE1D4B,EAASC,GAmC4EkB,CAAY7C,EAAE8C,KAAMnB,IAAOoB,QAAS,kBA5C7GlF,EA4C4H8D,EAAK9D,OA5CzHmB,EA4CiI2C,EAAK3C,SA3C9JsC,EAAkBzD,QAClB0D,EAAoBvC,GAFL,IAACnB,EAAQmB,GA4CiJS,QAAS,kBAAIiC,EAASC,IAA3K,UACI,eAACqB,GAAD,UAAOrB,EAAK3C,WACZ,eAACgE,GAAD,UAAOrB,EAAKE,WACZ,eAACmB,GAAD,UAAOC,IAAOtB,EAAKuB,aAAaC,OAAO,QACvC,eAACH,GAAD,UAAOC,IAAOtB,EAAKtD,cAAc+E,aACjC,gBAACC,GAAD,WACI,gBAACC,GAAD,CAAyB7D,QAAS,SAACO,GAAD,OArCxC,SAACA,GACvBA,EAAEuD,kBACF7D,GAAmB,GAmCgD8D,CAAkBxD,IAAIqC,MAAM,cAAnE,UACI,eAACoB,GAAD,qBACA,eAACC,GAAD,CAAMC,IAAI,GAAGC,IAAI,ugBACjB,eAACC,GAAD,OAEJ,gBAACP,GAAD,CAAyB7D,QAAS,SAACO,GAAD,OApCxC,SAACA,GACvBA,EAAEuD,kBACFzC,GAAmB,GAkCgDgD,CAAkB9D,IAAIqC,MAAM,cAAnE,UACI,eAACoB,GAAD,qBACA,eAACC,GAAD,CAAMC,IAAI,GAAGC,IAAI,mlBACjB,eAACC,GAAD,YAd2KrB,WAuBtMnB,GACG,eAAC,GAAD,CAAiB/B,iBAAkBA,EAAkBe,eAAgBA,EAAgBX,mBAAoBA,IAE5G0B,GACG,eAAC,GAAD,CAAiBf,eAAgBA,EAAgBS,mBAAoBA,UAc/E2C,GAAYnD,IAAOG,IAAV,8XAiBTyB,GAAY5B,IAAOG,IAAV,yFAKT4C,GAAgB/C,IAAOG,IAAV,iEAKb0B,GAAY7B,IAAOG,IAAV,kOAUTwB,GAAO3B,IAAOG,IAAV,8DAIJsB,GAAQzB,IAAOG,IAAV,yFAMLgC,GAAMnC,IAAOG,IAAV,2fAOC4C,GAOAA,IAOJf,GAAYhC,IAAOG,IAAV,2DAIToD,GAAiBvD,IAAOG,IAAV,qUAiBd6C,GAA0BhD,IAAOC,OAAV,mUAInBsD,GAGAJ,GAKAI,GAGAJ,IAMJC,GAAOpD,IAAOyD,IAAV,oLAUJf,GAAO1C,IAAOG,IAAV,uG,SC/HK9B,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBmF,iBAAkBpF,EAAM5B,IAAIgH,oBAGjBrF,EA5FS,SAACG,GAAW,IAAD,EACCC,mBAAS,IADV,mBACxBC,EADwB,KACdC,EADc,OAECF,mBAAS,IAFV,mBAExB8C,EAFwB,KAEdoC,EAFc,KAkE/B,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYxE,QAAS,kBAAIX,EAAMoF,sBAAqB,MACpD,gBAAC,GAAD,6BAEI,eAAC,GAAD,CAAcnE,SAAU,SAACC,GAAD,OAAKf,EAAYe,EAAEC,OAAOZ,UAClD,gBAAC8E,GAAD,CAAgBC,aAAa,GAAGC,KAAK,eAAetE,SAAU,SAACC,GAAD,OAAKiE,EAAYjE,EAAEC,OAAOZ,QAAxF,UACI,yBAAQA,MAAM,GAAGiF,UAAQ,EAAzB,2BACA,yBAAQjF,MAAM,aAAd,wBACA,yBAAQA,MAAM,QAAd,mBACA,yBAAQA,MAAM,UAAd,wBAEJ,iCACI,eAAC,GAAD,CAAQI,QAAS,kBAAIX,EAAMoF,sBAAqB,IAAhD,oBACA,eAAC,GAAD,CAAQzE,QA5EL,WACf,IAAI5B,EAAS,IACmB,SAA1B0G,IACF,IAAMC,EJZQ,WAItB,IAHA,IAAIC,EAAS,GACPC,EAAa,iEACbC,EAAmBD,EAAWE,OAC1BC,EAAI,EAAGA,EAAI,GAAIA,IACrBJ,GAAUC,EAAWI,OAAOC,KAAKC,MAAMD,KAAKE,SAAWN,IAE3D,OAAOF,EIKmBS,GAClB1H,EAAGU,WAAW,WACbiH,MAAM,SAAU,KAAMX,GACtBY,MACA9G,MAAK,SAAA+G,GACF,GAAGA,EAAKC,MAAO,CACXzH,EAAS2G,EACT,IAAM1G,EAAYC,KAAKC,MACjBuH,EAAiB,CACnBvG,WACA6C,WACAjE,UAAWkB,EAAMkF,iBACjBnG,SACAqF,YAAapF,EACbO,aAAcP,GAElBN,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,iBACXC,IAAIN,GACJ2H,IAJD,eAKOD,IAENjH,MAAK,WACFC,QAAQC,IAAI,4BACZM,EAAMoF,sBAAqB,MAEjB,YAAXrC,IACC0D,EAAc,KAAW,IAEf,UAAX1D,GAAiC,eAAXA,IACrB0D,EAAc,KAAW,IAEUA,EAA/BlH,aA5BG,IA4BcoH,EA5Bd,aA4B4BF,EA5B5B,kBA6BX/H,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIN,GACJ2H,IAJD,eAKOC,IAENnH,MAAK,WACFC,QAAQC,IAAI,oBACZ,IAAMoD,EAAQ,4BAAwBC,EAAxB,YAAoChE,GAClD2D,OAAOM,KAAKF,EAAU,YAAczC,SAASyC,SAAWA,MAE5DlE,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAMkF,mBACvDxG,EAAGU,WAAW,WACbwH,IAAI,CACD7H,gBAGJ0G,OAIZA,IAiBY,gCAcdJ,GAAiB7D,IAAOqF,OAAV,8CAIdxF,GAASG,IAAOC,OAAV,gJAQNL,GAASI,IAAOC,OAAV,sKAQNX,GAAeU,IAAOE,MAAV,2FAMZb,GAAQW,IAAOG,IAAV,yVAgBLlB,GAAYe,IAAOG,IAAV,4BAGTjB,GAAac,IAAOG,IAAV,yMClJHmF,GAAgB,gBAChBC,GAAW,WAgBjB,SAASC,GAAaT,GACzB,OAAM,SAACU,GACHA,EAAS,CAACC,KAAMJ,GAAeK,QAASZ,KAIzC,SAASa,GAASb,GACrB,OAAM,SAACU,GACHA,EAAS,CAACC,KAAMH,GAAUI,QAASZ,KCjB3C,I,oCAgCe1G,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBmF,iBAAkBpF,EAAM5B,IAAIgH,oBAGjBrF,EAhCD,SAACG,GAAW,IAAD,EAC6BC,oBAAS,GADtC,mBACdoH,EADc,KACKjC,EADL,OAE6BnF,oBAAS,GAFtC,mBAEdqH,EAFc,KAEKC,EAFL,OAGuBtH,oBAAS,GAHhC,mBAGduH,EAHc,KAGEC,EAHF,OAIuBxH,mBAAS,IAJhC,mBAIdsB,EAJc,KAIEiB,EAJF,OAK2BvC,mBAAS,IALpC,mBAKdO,EALc,KAKIiC,EALJ,KAOrB,OACI,uBAAKiF,MAAO,CAACC,MAAO,QAApB,UACKL,GACD,eAAC,GAAD,CAAiB/F,eAAgBA,EAAgBf,iBAAkBA,EAAkB+G,qBAAsBA,IAE1GF,GACD,eAAC,GAAD,CAAkBjC,qBAAsBA,IAExC,eAAC,GAAD,oBACA,eAACwC,GAAD,CAAMjH,QAAS,kBAAKX,EAAMiH,SAASD,IAAa,KAAhD,kCAEA,eAACa,GAAD,CAASlH,QAAS,kBAAIyE,GAAqB,IAA3C,6BACCoC,GACG,eAACM,GAAD,CAAYC,UAAU,eAAepH,QAAS,kBAAK4G,GAAqB,IAAxE,yBAEJ,eAAC,GAAD,CAAY9E,oBAAqBA,EAAqBgF,kBAAmBA,EAAmBjF,kBAAmBA,UAYrHsF,GAAatG,IAAOC,OAAV,gOAUVmG,GAAOpG,IAAOC,OAAV,gOAUJoG,GAAUrG,IAAOC,OAAV,gOAUPQ,GAAST,IAAOY,GAAV,4ECxBGvC,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,YAITF,EA1CY,SAACG,GAAW,IAAD,EACIC,mBAAS,IADb,mBAC3B+H,EAD2B,KACdC,EADc,KAsBlC,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYtH,QAAS,kBAAIX,EAAMkI,yBAAwB,MACvD,gBAAC,GAAD,gCAEI,eAAC,GAAD,CAAcjH,SAAU,SAACC,GAAD,OAAK+G,EAAe/G,EAAEC,OAAOZ,UACrD,iCACI,eAAC,GAAD,CAAQI,QAAS,kBAAIX,EAAMkI,yBAAwB,IAAnD,oBACA,eAAC,GAAD,CAAQvH,QA3BF,WAClB,IAAM3B,EAAYC,KAAKC,MACvBR,EAAGU,WAAW,SAASC,IAAIW,EAAMD,SAASlB,QACzCO,WAAW,YAAYC,IAAIiC,OAAOtC,IAClC0H,IAAI,CACDsB,YAAaA,EACblJ,UAAWE,EACXoF,YAAapF,EACbO,aAAcP,GACf,CAACmJ,OAAO,IACV3I,MAAK,WFRP,IAA0B+G,EESrB9G,QAAQC,IAAI,uBACZM,EAAMoI,cACNpI,EAAMkI,yBAAwB,GAC9BlI,EAAMiH,SAASD,IAAa,IAC5BhH,EAAMiH,UFbeV,EEaWvH,EFZlC,SAACiI,GACHA,EAAS,CAACC,KAXgB,qBAWUC,QAASZ,WEuBjC,wCAcdlF,GAASG,IAAOC,OAAV,kJAQNL,GAASI,IAAOC,OAAV,wKAQNX,GAAeU,IAAOE,MAAV,6FAMZb,GAAQW,IAAOG,IAAV,2VAgBLlB,GAAYe,IAAOG,IAAV,8BAGTjB,GAAac,IAAOG,IAAV,2MC3FH0G,GAAqB,qBACrBC,GAAY,YACZC,GAAgB,gBAChBC,GAAkB,kBAClBC,GAAe,eACfC,GAAwB,wBACxBC,GAA2B,2BAC3BC,GAAa,aACbC,GAA4B,4BAElC,SAAS/G,GAAsByE,GAClC,OAAM,SAACU,GACHA,EAAS,CAACC,KAAMyB,GAA0BxB,QAASZ,KAIpD,SAASxE,GAAoBwE,GAChC,OAAM,SAACU,GACHA,EAAS,CAACC,KAAMwB,GAAuBvB,QAASZ,KAgBjD,SAAS3E,GAAY2E,GACxB,OAAM,SAACU,GACHA,EAAS,CAACC,KAAMuB,GAActB,QAASZ,KAUxC,SAASlE,GAAakE,GACzB,OAAM,SAACU,GACHA,EAAS,CAACC,KAAMqB,GAAepB,QAASZ,KC3ChD,I,6LA0Ce1G,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,YAITF,EA1CS,SAACG,GAAW,IAAD,EACOC,mBAAS,IADhB,mBACxB+H,EADwB,KACXC,EADW,KAG/B7H,qBAAU,WACNC,SAASC,eAAe,qBAAqBC,MAAQP,EAAM8I,sBAE5D,CAAC9I,EAAMQ,mBAgBV,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYG,QAAS,kBAAIX,EAAMY,oBAAmB,MAClD,gBAAC,GAAD,4BAEI,eAAC,GAAD,CAAcI,GAAG,oBAAoBC,SAAU,SAACC,GAAD,OAAK+G,EAAe/G,EAAEC,OAAOZ,UAC5E,iCACI,eAAC,GAAD,CAAQI,QAAS,kBAAIX,EAAMY,oBAAmB,IAA9C,oBACA,eAAC,GAAD,CAAQD,QAtBL,WACfjC,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,YACXC,IAAIiC,OAAOtB,EAAM+I,oBACjBzJ,OAAO,CACJ0I,gBAEHxI,MAAK,WACFC,QAAQC,IAAI,0BACZM,EAAMY,oBAAmB,OAYjB,gCAcdS,GAASG,IAAOC,OAAV,kJAQNL,GAASI,IAAOC,OAAV,wKAQNX,GAAeU,IAAOE,MAAV,6FAMZb,GAAQW,IAAOG,IAAV,8RAcLlB,GAAYe,IAAOG,IAAV,8BAGTjB,GAAac,IAAOG,IAAV,2MCrBD9B,gBARS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB6B,YAAa9B,EAAM5B,IAAI0D,YACvBC,cAAe/B,EAAM5B,IAAI2D,cACzBC,sBAAuBhC,EAAM5B,IAAI4D,sBACjCC,oBAAqBjC,EAAM5B,IAAI6D,uBAGpBlC,EA/DY,SAACG,GAuCxB,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYW,QAAS,kBAAIX,EAAMgC,oBAAmB,MAClD,gBAAC,GAAD,WACI,eAAC,GAAD,6BACA,+EACA,iCACI,eAAC,GAAD,CAAQrB,QAAS,kBAAIX,EAAMgC,oBAAmB,IAA9C,oBACA,eAAC,GAAD,CAAQrB,QA7CF,WAClBjC,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXiH,MAAM,YAAa,KAAMrG,EAAM+I,mBAC/BzC,MACA9G,MAAK,SAAC+G,GACHA,EAAKyC,SAAQ,SAAAC,GACTA,EAAK9J,IAAIgD,eAGjBzD,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,iBACXiH,MAAM,YAAa,KAAMrG,EAAM+I,mBAC/BzC,MACA9G,MAAK,SAAC+G,GACHA,EAAKyC,SAAQ,SAAAC,GACTA,EAAK9J,IAAIgD,eAGjBzD,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,YACXiH,MAAM,YAAa,KAAMrG,EAAM+I,mBAC/BzC,MACA9G,MAAK,SAAC+G,GACHA,EAAKyC,SAAQ,SAAAC,GACTA,EAAK9J,IAAIgD,eAGhB3C,MAAK,WACFQ,EAAMgC,oBAAmB,OAajB,gCAkBdC,GAAST,IAAOY,GAAV,uDAINhB,GAASI,IAAOC,OAAV,6FAONS,GAASV,IAAOC,OAAV,iQAaNZ,GAAQW,IAAOG,IAAV,4YAkBLjB,GAAac,IAAOG,IAAV,8NAWVlB,GAAYe,IAAOG,IAAV,8BCTA9B,gBANS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBqH,SAAUtH,EAAMoJ,UAAU9B,SAC1BlC,iBAAkBpF,EAAM5B,IAAIgH,oBAGjBrF,EAvGO,SAACG,GAAW,IAAD,EACiBC,oBAAS,GAD1B,mBACtBqC,EADsB,KACLN,EADK,OAEiB/B,oBAAS,GAF1B,mBAEtBsC,EAFsB,KAEL3B,EAFK,OAGqBX,mBAAS,IAH9B,mBAGtB8I,EAHsB,KAGHI,EAHG,OAIyBlJ,mBAAS,IAJlC,mBAItB6I,EAJsB,KAIDM,EAJC,KAMvBC,EAAY,SAACC,EAAGC,GAClB,OAAOA,EAAEhK,aAAe+J,EAAE/J,cAGxBiK,EAAkB,SAAC1K,GHsCtB,IAA0ByH,EGrCzBvG,EAAMiH,UHqCmBV,EGrCOzH,EHsC9B,SAACmI,GACHA,EAAS,CAACC,KAAMmB,GAAoBlB,QAASZ,OGtC7C7H,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,iBACXiH,MAAM,YAAa,KAAMvH,GACzBwH,MACA9G,MAAK,SAAA+G,GACF,IAAMkD,EAAQ,GACdlD,EAAKyC,SAAQ,SAAAnG,GACT4G,EAAMC,KAAK7G,EAAK0D,WAEpBvG,EAAMiH,SAAS5E,GAAaoH,EAAME,KAAKN,KACvCrJ,EAAMiH,SAASD,IAAa,QA0BpC,OACI,iCACI,gBAAC,GAAD,CAAO9D,KAAK,QAAZ,UACI,eAAC,GAAD,CAAMA,KAAK,UAAX,SACI,gBAAC,GAAD,CAAWA,KAAK,YAAhB,UACI,eAAC,GAAD,CAAWA,KAAK,UAAhB,0BACA,eAAC,GAAD,CAAWA,KAAK,UAAhB,0BACA,eAAC,GAAD,CAAWA,KAAK,UAAhB,2BACA,eAAC,GAAD,CAAWI,aAAW,WAAWJ,KAAK,iBAG9C,eAAC,GAAD,CAAWA,KAAK,MAAhB,SACKlD,EAAMoH,SAAS3D,KAAI,SAACmG,EAASlG,GAC1B,OACI,gBAAC,GAAD,CAAK1C,GAAG,qBAAqB4C,SAAS,IAAIC,UAAW,SAAC3C,GAAD,OA/BzD,SAACA,EAAGpC,GACV,UAANoC,GAAsB,UAALA,GAA6C,uBAA5Bb,SAASyD,cAAc9C,IACzDwI,EAAgB1K,GA6B0DiF,CAAY7C,EAAE8C,KAAM4F,EAAQ9K,YAAYoE,KAAK,SAASe,QAAS,kBApC1HnF,EAoC4I8K,EAAQ9K,UApCzIkJ,EAoCoJ4B,EAAQ5B,YAnC1LmB,EAAqBrK,QACrBsK,EAAuBpB,GAFL,IAAClJ,EAAWkJ,GAoC0KrH,QAAS,kBAAI6I,EAAgBI,EAAQ9K,YAAzN,UACI,eAAC,GAAD,CAAMoE,KAAK,OAAX,SAAmB0G,EAAQ5B,cAC3B,eAAC,GAAD,CAAM9E,KAAK,OAAX,SAAmBiB,IAAOyF,EAAQxF,aAAaC,OAAO,QACtD,eAAC,GAAD,CAAMnB,KAAK,OAAX,SAAmBiB,IAAOyF,EAAQrK,cAAc+E,aAChD,eAAC,GAAD,CAAMpB,KAAK,OAAX,SACI,gBAAC,GAAD,WACI,gBAAC,GAAD,CAAyBvC,QAAS,SAACO,GAAD,OA/B5C,SAACA,GACvBA,EAAEuD,kBACF7D,GAAmB,GA6BoD8D,CAAkBxD,IAAIqC,MAAM,cAAnE,UACI,eAAC,GAAD,qBACA,eAAC,GAAD,CAAMsB,IAAI,GAAGC,IAAI,ugBACjB,eAAC,GAAD,OAEJ,gBAAC,GAAD,CAAyBnE,QAAS,SAACO,GAAD,OA9B5C,SAACA,GACvBA,EAAEuD,kBACFzC,GAAmB,GA4BoDgD,CAAkB9D,IAAIqC,MAAM,cAAnE,UACI,eAAC,GAAD,qBACA,eAAC,GAAD,CAAMsB,IAAI,GAAGC,IAAI,mlBACjB,eAAC,GAAD,cAd0NpB,WAuBzPnB,GACG,eAACsH,GAAD,CAAoBf,oBAAqBA,EAAqBC,kBAAmBA,EAAmBnI,mBAAoBA,IAE3H0B,GACG,eAAC,GAAD,CAAoByG,kBAAmBA,EAAmB/G,mBAAoBA,UAexF2C,GAAYnD,IAAOG,IAAV,gYAiBT4C,GAAgB/C,IAAOG,IAAV,mEAKb0B,GAAY7B,IAAOG,IAAV,oOAUT6B,GAAYhC,IAAOG,IAAV,6DAITwB,GAAO3B,IAAOG,IAAV,gEAIJsB,GAAQzB,IAAOG,IAAV,2FAMLyB,GAAY5B,IAAOG,IAAV,2FAKTgC,GAAMnC,IAAOG,IAAV,6fAOC4C,GAOAA,IAOJQ,GAAiBvD,IAAOG,IAAV,uUAiBd6C,GAA0BhD,IAAOC,OAAV,qUAInBsD,GAGAJ,GAKAI,GAGAJ,IAMJC,GAAOpD,IAAOyD,IAAV,sLAUJf,GAAO1C,IAAOG,IAAV,yGCzLK9B,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBqH,SAAUtH,EAAMoJ,UAAU9B,YAGfvH,EA3CG,SAACG,GAAW,IAAD,EAC+BC,oBAAS,GADxC,mBAClB6J,EADkB,KACI5B,EADJ,KAEzB9H,qBAAU,WACNgI,MAED,CAACpI,EAAMD,WAEV,IAAMgK,EAAe,SAACT,EAAGC,GACrB,OAAOA,EAAEhK,aAAe+J,EAAE/J,cAGxB6I,EAAc,WAChB1J,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,YACXkH,MACA9G,MAAK,SAAA+G,GACF,IAAMyD,EAAa,GACnBzD,EAAKyC,SAAQ,SAAAY,GACTI,EAAWN,KAAKE,EAAQrD,WAG5BvG,EAAMiH,SAASG,GAAS4C,EAAWL,KAAKI,SAIhD,OACI,uBAAKrC,MAAO,CAACC,MAAO,QAApB,UACKmC,GACG,eAAC,GAAD,CAAoB1B,YAAaA,EAAaF,wBAAyBA,IAE3E,eAAC,GAAD,uBACA,eAAC,GAAD,CAASvH,QAAS,kBAAIuH,GAAwB,IAA9C,gCACA,eAAC,GAAD,UAYNL,GAAUrG,IAAOC,OAAV,kOAUPQ,GAAST,IAAOY,GAAV,8EClBGvC,gBALS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBiH,aAAclH,EAAMoJ,UAAUlC,gBAGnBnH,EArCG,SAACG,GAEfI,qBAAU,WACNgI,MAED,CAACpI,EAAMD,WAEV,IAAMqI,EAAc,WAChB1J,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,YACXkH,MACA9G,MAAK,SAAA+G,GACF,IAAMyD,EAAa,GACnBzD,EAAKyC,SAAQ,SAAAY,GACTI,EAAWN,KAAKE,EAAQrD,WAE5BvG,EAAMiH,SAASG,GAAS4C,QAIhC,OACI,+BACKhK,EAAMgH,aACP,eAACiD,GAAD,IAEA,eAAC,GAAD,SCoDGpK,gBAPS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpBqH,SAAUtH,EAAMoJ,UAAU9B,SAC1B/E,aAAcvC,EAAM5B,IAAImE,aACxB6H,wBAAyBpK,EAAM5B,IAAIgM,2BAGxBrK,EA/EC,SAACG,GAEb,IAoCMmK,EAAkB,SAACC,GAGrB,MAFc,aAAXA,IAlB0B,IAA1BpK,EAAMoH,SAAStB,SACdpH,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,YACXkH,MACA9G,MAAK,SAAA+G,GACF,IAAMyD,EAAa,GACnBzD,EAAKyC,SAAQ,SAAAY,GACTI,EAAWN,KAAKE,EAAQrD,WAE5BvG,EAAMiH,SAASG,GAAS4C,OAE5BhK,EAAMiH,SAASD,IAAa,KAEhChH,EAAMiH,SAASD,IAAa,KAKd,UAAXoD,IArC8B,IAA9BpK,EAAMqC,aAAayD,QAClBpH,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,iBACXkH,MACA9G,MAAK,SAAAiK,GACF,IAAIY,EAAW,GACfZ,EAAMT,SAAQ,SAAAnG,GACVwH,EAASX,KAAK7G,EAAK0D,WAEvBvG,EAAMiH,SAAS5E,GAAagI,IAC5BrK,EAAMiH,SAASD,IAAa,OAGpChH,EAAMiH,SAASD,IAAa,KAwBrBhH,EAAMiH,UNzBmBV,EMyBc6D,ENxB5C,SAACnD,GACHA,EAAS,CAACC,KAAM2B,GAA2B1B,QAASZ,OAFrD,IAAiCA,GM4BpC,OACI,eAAC,GAAD,UACI,gBAAC+D,GAAD,WACI,eAACC,GAAD,UAAI,gBAACC,GAAD,CAAU7J,QAAS,kBAAIwJ,EAAgB,aAAaM,WAA4C,aAAhCzK,EAAMkK,wBAAuC,qBAAuB,cAAeQ,MAAuC,aAAhC1K,EAAMkK,wBAAuC,qBAAuB,qBAA9N,UACA,eAAC,GAAD,CAAMrF,IAAI,GAAGC,IAAI,mTADjB,gBAIJ,eAACyF,GAAD,UAAI,gBAACC,GAAD,CAAU7J,QAAS,kBAAIwJ,EAAgB,UAAUM,WAA4C,UAAhCzK,EAAMkK,wBAAoC,qBAAuB,cAAeQ,MAAuC,UAAhC1K,EAAMkK,wBAAoC,qBAAuB,qBAArN,UACA,eAAC,GAAD,CAAMrF,IAAI,GAAGC,IAAI,+bADjB,iBAIJ,eAACyF,GAAD,UAAI,gBAACC,GAAD,CAAU7J,QAAS,kBAAIwJ,EAAgB,cAAcM,WAA4C,cAAhCzK,EAAMkK,wBAAwC,qBAAuB,cAAeQ,MAAuC,cAAhC1K,EAAMkK,wBAAwC,qBAAuB,qBAAjO,UACA,eAAC,GAAD,CAAMrF,IAAI,GAAGC,IAAI,ugBADjB,iBAIJ,eAACyF,GAAD,UAAI,gBAACC,GAAD,CAAU7J,QAAS,kBAAIwJ,EAAgB,aAAaM,WAA4C,aAAhCzK,EAAMkK,wBAAuC,qBAAuB,cAAeQ,MAAuC,aAAhC1K,EAAMkK,wBAAuC,qBAAuB,qBAA9N,UACA,eAAC,GAAD,CAAMrF,IAAI,GAAGC,IAAI,u6DADjB,gBAIJ,eAACyF,GAAD,UAAI,gBAACC,GAAD,CAAU7J,QAAS,kBAAIwJ,EAAgB,YAAYM,WAA4C,YAAhCzK,EAAMkK,wBAAsC,qBAAuB,cAAeQ,MAAuC,YAAhC1K,EAAMkK,wBAAsC,qBAAuB,qBAA3N,UACA,eAAC,GAAD,CAAMrF,IAAI,GAAGC,IAAI,mlBADjB,uBAkBdrE,GAAYe,IAAOG,IAAV,gDAIT4I,GAAK/I,IAAOmJ,GAAV,8BAGFL,GAAK9I,IAAOoJ,GAAV,8BAGFJ,GAAWhJ,IAAOC,OAAV,uPACU,SAAAzB,GAAK,OAAGA,EAAMyK,cAOV,SAAAzK,GAAK,OAAGA,EAAM0K,SAIpC9F,GAAOpD,IAAOyD,IAAV,yHC3FKpF,gBAJS,SAAAC,GAAK,MAAK,CAC9BkH,aAAclH,EAAMoJ,UAAUlC,gBAGnBnH,EAdG,SAACG,GAEf,OACI,uBAAK0H,MAAO,CAACmD,QAAS,QAAtB,UACI,eAAC,GAAD,IACA,eAAC,GAAD,U,kBC6DGhL,gBARS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB6B,YAAa9B,EAAM5B,IAAI0D,YACvBC,cAAe/B,EAAM5B,IAAI2D,cACzBE,oBAAqBjC,EAAM5B,IAAI6D,oBAC/BD,sBAAuBhC,EAAM5B,IAAI4D,yBAGtBjC,EA/DO,SAACG,GAAW,IAAD,EACGC,mBAAS,IADZ,mBACtB6K,EADsB,KACZC,EADY,OAEC9K,mBAAS,IAFV,mBAEtB+K,EAFsB,KAEbC,EAFa,KAmC7B,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYtK,QAAS,kBAAIX,EAAMkL,kBAAiB,MAChD,gBAAC,GAAD,WACI,eAAC,GAAD,wBACA,iCACI,eAACC,GAAD,CAAOpK,aAAa,MAAME,SAAU,SAACC,GAAD,OAAK6J,EAAY7J,EAAEC,OAAOZ,QAAQS,GAAG,wBAAwBsE,aAActF,EAAMoL,QACrH,sBAAK1D,MAAO,CAAC2D,aAAc,UAC3B,eAACC,GAAD,CAAMrK,SAAU,SAACC,GAAD,OAAK+J,EAAW/J,EAAEC,OAAOZ,QAAQS,GAAG,uBAAuBsE,aAActF,EAAMuL,UAEnG,iCACI,eAAC,GAAD,CAAQ5K,QAAS,kBAAIX,EAAMkL,kBAAiB,IAA5C,oBACA,eAACM,GAAD,CAAM7K,QA3CA,WAClB,IAAM8K,EAAU,CACZ/H,MAAO1D,EAAM0L,UACbN,MAAON,GAAY9K,EAAMoL,MACzBG,KAAMP,GAAWhL,EAAMuL,MAErBI,EAAU,aAAO3L,EAAM8B,uBACvB8J,EAAoB,aAAO5L,EAAM+B,qBAEvC4J,EAAW3L,EAAM0L,WAAaD,EAC9BG,EAAqB5L,EAAM6L,YAAY7L,EAAM0L,YAAcD,EAC3DzL,EAAMiH,SAASlF,GAAoB,aAAI6J,KAGvClN,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBO,OAAO,CACJiH,KAAMoF,IAETnM,MAAK,WACFQ,EAAMkL,kBAAiB,MAE1BvL,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MAGhBhB,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAM4B,YAAY9C,WAAYkB,EAAM8L,MAAMC,OAAOhN,SAetF,8BAkBdkD,GAAST,IAAOY,GAAV,uDAINhB,GAASI,IAAOC,OAAV,6FAON+J,GAAOhK,IAAOC,OAAV,kJAQJ0J,GAAQ3J,IAAOE,MAAV,oEAKL4J,GAAO9J,IAAOwK,SAAV,qEAKJnL,GAAQW,IAAOG,IAAV,4YAkBLjB,GAAac,IAAOG,IAAV,8NAWVlB,GAAYe,IAAOG,IAAV,8BClEA9B,gBARS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB6B,YAAa9B,EAAM5B,IAAI0D,YACvBC,cAAe/B,EAAM5B,IAAI2D,cACzBC,sBAAuBhC,EAAM5B,IAAI4D,sBACjCC,oBAAqBjC,EAAM5B,IAAI6D,uBAGpBlC,EA1DS,SAACG,GAkCrB,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYW,QAAS,kBAAIX,EAAMgC,oBAAmB,MAClD,gBAAC,GAAD,WACI,eAAC,GAAD,0BACA,4EACA,iCACI,eAAC,GAAD,CAAQrB,QAAS,kBAAIX,EAAMgC,oBAAmB,IAA9C,oBACA,eAAC,GAAD,CAAQrB,QAxCL,WACf,IAAIgL,EAAU,aAAO3L,EAAM8B,uBAC3B6J,EAAWM,OAAOjM,EAAM0L,UAAW,GACnC,IAAMQ,EAAoBP,EAAWlI,KAAI,SAAC0I,EAAMzI,GAC5C,OAAO,2BAAIyI,GAAX,IAAiBzI,aAErB1D,EAAMiH,SAASnF,GAAsBoK,IACrClM,EAAMiH,SAASlF,GAAoBmK,IAGnC,IADA,IAAME,EAAiB,GACfrG,EAAI,EAAGA,EAAE/F,EAAM6L,YAAY/F,OAAS,EAAGC,IAC3CqG,EAAe1C,KAAKpI,OAAOyE,IAE/B/F,EAAMqM,eAAeD,GAErB1N,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBO,OAAO,CACJiH,KAAM2F,IAET1M,MAAK,WACFQ,EAAMgC,oBAAmB,MAE5BrC,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MAGhBhB,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAM4B,YAAY9C,WAAYkB,EAAM8L,MAAMC,OAAOhN,SAWtF,gCAkBdkD,GAAST,IAAOY,GAAV,uDAINhB,GAASI,IAAOC,OAAV,6FAONS,GAASV,IAAOC,OAAV,mJASNZ,GAAQW,IAAOG,IAAV,4YAkBLjB,GAAac,IAAOG,IAAV,8NAWVlB,GAAYe,IAAOG,IAAV,8BCvBA9B,gBARS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB6B,YAAa9B,EAAM5B,IAAI0D,YACvBC,cAAe/B,EAAM5B,IAAI2D,cACzBC,sBAAuBhC,EAAM5B,IAAI4D,sBACjCC,oBAAqBjC,EAAM5B,IAAI6D,uBAGpBlC,EArFS,SAACG,GAAW,IAAD,EACLC,mBAAS,IADJ,mBACxBmL,EADwB,KACjBkB,EADiB,OAEPrM,mBAAS,IAFF,mBAExBsL,EAFwB,KAElBgB,EAFkB,OAGCtM,qBAHD,mBAGxB6C,EAHwB,KAGd0J,EAHc,KAK/BpM,qBAAU,WACNC,SAASC,eAAe,wBAAwBC,MAAQP,EAAM8B,sBAAsBgE,OAAS,EAC7F0G,EAAYxM,EAAM4B,YAAY2E,KAAKT,OAAS,KAE7C,IA6CH,OACI,gBAAC,GAAD,WACI,eAAC,GAAD,CAAYnF,QAAS,kBAAIX,EAAMyM,oBAAmB,MAClD,gBAAC,GAAD,WACI,eAAC,GAAD,8BACA,eAACC,GAAD,oBACA,eAAC,GAAD,CAAOzL,SAAU,SAACC,GAAD,OAAKoL,EAASpL,EAAEC,OAAOZ,UACxC,eAACmM,GAAD,0BACA,eAACC,GAAD,CAAa1L,SAAU,SAACC,GAAD,OAAKqL,EAAQrL,EAAEC,OAAOZ,UAC7C,eAACmM,GAAD,kCACA,iCAEI,eAACE,GAAD,CAAU5L,GAAG,uBAAuBC,SAAU,SAACC,GAAD,OAAKsL,EAAYtL,EAAEC,OAAOZ,UAF5E,MAE0FP,EAAM4B,YAAY2E,KAAKT,OAAS,KAE1H,uBAAK4B,MAAO,CAACmD,QAAS,QAAtB,UACI,eAAC,GAAD,CAAQlK,QAAS,kBAAIX,EAAMyM,oBAAmB,IAA9C,oBACA,eAAC,GAAD,CAAQ9L,QA1DK,WACzB,IAAIkM,EAAgB,EACjB7M,EAAM8B,wBACL+K,EAAgB7M,EAAM8B,sBAAsBgE,QAEhD,IAAMgH,EAAa,CACf1B,QACAG,OACA7H,MAAOZ,GAELiK,EAAU,aAAO/M,EAAM8B,uBACvBkL,EAAW,aAAOhN,EAAM6L,aAE9BkB,EAAWd,OAAOnJ,EAAW,EAAG,EAAGgK,GACnC,IAAMZ,EAAoBa,EAAWtJ,KAAI,SAAC0I,EAAMzI,GAC5C,OAAO,2BAAIyI,GAAX,IAAiBzI,aAGrBsJ,EAAYf,OAAOnJ,EAAU,EAAGxB,OAAOuL,IAEvC,IADA,IAAMT,EAAiB,GACfrG,EAAI,EAAGA,EAAE/F,EAAM6L,YAAY/F,OAAS,EAAGC,IAC3CqG,EAAe1C,KAAKpI,OAAOyE,IAG/B/F,EAAMqM,eAAeD,GACrBpM,EAAMiH,SAASlF,GAAoBmK,IACnClM,EAAMiH,SAASnF,GAAsBoK,IAErCxN,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBO,OAAO,CACJiH,KAAM2F,IAET1M,MAAK,WACFQ,EAAMyM,oBAAmB,MAG7B7N,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAM4B,YAAY9C,WAAYkB,EAAM8L,MAAMC,OAAOhN,SAmBtF,gCAiBdkD,GAAST,IAAOY,GAAV,iFAKNuK,GAAcnL,IAAOwK,SAAV,8FAMXb,GAAQ3J,IAAOE,MAAV,6FAMLkL,GAAWpL,IAAOE,MAAV,6FAMRgL,GAAQlL,IAAO+B,MAAV,8BAGLnC,GAASI,IAAOC,OAAV,uFAMNJ,GAASG,IAAOC,OAAV,kJASNZ,GAAQW,IAAOG,IAAV,iZAkBLjB,GAAac,IAAOG,IAAV,8NAWVlB,GAAYe,IAAOG,IAAV,8B,kBCvGAsL,GA3DF,SAACjN,GAEV,IAAMkN,EAAW,SAAC9B,EAAOG,GACrBvL,EAAMsM,SAASlB,GACfpL,EAAMuM,QAAQhB,GACdvL,EAAMkL,kBAAiB,GACvBlL,EAAMmN,aAAanN,EAAM0D,QAGvB0J,EAAa,WACfpN,EAAMgC,oBAAmB,GACzBhC,EAAMmN,aAAanN,EAAM0D,QAqB7B,OACI,gBAAC,GAAD,2BAAe1D,GAAf,IAAsBb,IAAKa,EAAMqN,SAAjC,UACI,gBAACC,GAAD,WACI,eAAC,GAAD,UAAQtN,EAAMoL,QACd,gBAAC,GAAD,WACI,gBAACmC,GAAD,WACI,gBAAC,GAAD,CAAyB5M,QAAS,kBAAIuM,EAASlN,EAAMoL,MAAOpL,EAAMuL,OAAO1H,UAAW,SAAC3C,GAAD,OAfnF,SAACA,EAAGkK,EAAOG,GACjB,UAARrK,EAAEsM,KAAuB,UAARtM,EAAEsM,MAClBN,EAAS9B,EAAOG,GAChBrK,EAAEuD,kBACFvD,EAAEuM,YAAYC,2BACdxM,EAAEyM,kBAUmGC,CAAa1M,EAAGlB,EAAMoL,MAAOpL,EAAMuL,OAA5H,UACI,eAAC,GAAD,qBACA,eAAC,GAAD,IACA,eAAC,GAAD,CAAM1G,IAAI,OAAOC,IAAI,0gBAGzB,gBAAC,GAAD,CAAyBnE,QAASyM,EAAYvJ,UAAW,SAAC3C,GAAD,OA9BtD,SAACA,GACT,UAARA,EAAEsM,KAAuB,UAARtM,EAAEsM,MAClBJ,IACAlM,EAAEuD,kBACFvD,EAAEuM,YAAYC,2BACdxM,EAAEyM,kBAyBwEE,CAAe3M,IAA7E,UACI,eAAC,GAAD,qBACA,eAAC,GAAD,IACA,eAAC,GAAD,CAAM2D,IAAI,SAASC,IAAI,6ZAG/B,eAACgJ,GAAD,UAAa9N,EAAM0D,MAAQ,UAGnC,yBACA,eAAC,GAAD,UAAO1D,EAAMuL,YAOnB5G,GAAYnD,IAAOG,IAAV,gYAiBToD,GAAiBvD,IAAOG,IAAV,wSAgBdmM,GAAatM,IAAOuM,EAAV,uKAUVR,GAAQ/L,IAAOG,IAAV,2FAKL2L,GAAqB9L,IAAOG,IAAV,iHAMlB4C,GAAgB/C,IAAOG,IAAV,2MAMT4L,IAMJ/I,GAA0BhD,IAAOC,OAAV,qUAInBsD,GAGAJ,GAKAI,GAGAJ,IAMJC,GAAOpD,IAAOyD,IAAV,sLAUJkG,GAAQ3J,IAAOY,GAAV,2GAMLkJ,GAAO9J,IAAOwM,GAAV,8EAKJvN,GAAYe,IAAOG,IAAV,uVAYL4L,I,SC9IK1N,gBAJS,SAAAC,GAAK,MAAK,CAChCiC,oBAAqBjC,EAAM5B,IAAI6D,uBAGlBlC,EAnCM,SAACG,GAAW,IAAD,MAO1BiO,aAAY,CAACjN,GAAIhB,EAAMgB,KALzBkN,EAF4B,EAE5BA,WACAC,EAH4B,EAG5BA,UACAC,EAJ4B,EAI5BA,WACAC,EAL4B,EAK5BA,UACAC,EAN4B,EAM5BA,WAGI5G,EAAQ,CACZ2G,UAAWE,KAAIC,UAAUC,SAASJ,GAClCC,cAGF,OACE,0DAAKnP,IAAKiP,EAAY1G,MAAOA,GAAWwG,GAAgBC,GAAxD,cACQ,OAALnO,QAAK,IAALA,OAAA,EAAAA,EAAOuL,OACN,eAAC,GAAD,CACE7H,MAAO1D,EAAM0D,MACbyJ,aAAcnN,EAAMmN,aACpBb,SAAUtM,EAAMsM,SAAUC,QAASvM,EAAMuM,QACzCrB,iBAAkBlL,EAAMkL,iBACxBlJ,mBAAoBhC,EAAMgC,mBAC1BuJ,MAAW,OAALvL,QAAK,IAALA,GAAA,UAAAA,EAAOuL,KAAKmD,OAAO1O,EAAMgB,YAAzB,eAA+BuK,OAAQ,GAC7CH,OAAY,OAALpL,QAAK,IAALA,GAAA,UAAAA,EAAOuL,KAAKmD,OAAO1O,EAAMgB,YAAzB,eAA+BoK,QAAS,WC+H1CvL,gBARS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB6B,YAAa9B,EAAM5B,IAAI0D,YACvBC,cAAe/B,EAAM5B,IAAI2D,cACzBC,sBAAuBhC,EAAM5B,IAAI4D,sBACjCC,oBAAqBjC,EAAM5B,IAAI6D,uBAGpBlC,EAlIC,SAACG,GAAW,IAAD,IACmBC,oBAAS,GAD5B,mBAChB0O,EADgB,KACDzD,EADC,OAEuBjL,oBAAS,GAFhC,mBAEhBqC,EAFgB,KAECN,EAFD,OAGuB/B,oBAAS,GAHhC,mBAGhB2O,EAHgB,KAGCnC,EAHD,OAIGxM,mBAAS,IAJZ,mBAIhBmL,EAJgB,KAITkB,EAJS,OAKCrM,mBAAS,IALV,mBAKhBsL,EALgB,KAKVgB,EALU,OAMWtM,mBAAS,MANpB,mBAMhByL,EANgB,KAMLyB,EANK,OAOelN,mBAAS,IAPxB,mBAOhB4L,EAPgB,KAOHQ,EAPG,KASvBjM,qBAAU,WAENyO,MAED,CAAC7O,EAAM8L,QAGV,IAAM+C,EAAa,WACfnQ,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBuH,MACA9G,MAAK,SAACmG,GACH,QAAqBmJ,IAAlBnJ,EAAOY,OAAsB,CAC5B,IAAMwI,EAAUpJ,EAAOY,OACjByI,EAAeD,EAAQxI,KAC7BvG,EAAMiH,SAASrF,GAAYmN,IACxBC,EAAalJ,OAAS,IACrB9F,EAAMiH,SAASlF,GAAoB,aAAIiN,KACvChP,EAAMiH,SAASnF,GAAsB,aAAIkN,MAG7C,IADA,IAAM5C,EAAiB,GACfrG,EAAI,EAAGA,EAAEiJ,EAAalJ,OAAQC,IAClCqG,EAAe1C,KAAKpI,OAAOyE,IAE/BsG,EAAeD,QAyBrB6C,EAAUC,aACZC,aAAUC,MACVD,aAAUE,KAAgB,CACtBC,iBAAkBC,QA4B1B,OACI,iCACI,eAAC,KAAD,CAAMC,GAAG,eAAT,SACI,0CAFR,OAIKxP,QAJL,IAIKA,GAJL,UAIKA,EAAO4B,mBAJZ,aAIK,EAAoB1B,SACrB,yBAAQS,QAAS,kBAAI8L,GAAmB,IAAxC,6BACA,eAAC,KAAD,CAAYwC,QAASA,EAASQ,mBAAoBC,KAAcC,UA7BxE,SAAuBC,GAAQ,IACpBC,EAAgBD,EAAhBC,OAAQC,EAAQF,EAARE,KACf,GAAID,EAAO7O,KAAO8O,EAAK9O,GAAI,CACvB,IAAI+O,EACAC,EACJ3D,GAAe,SAACR,GAIZ,OAHAkE,EAAWlE,EAAYoE,QAAQJ,EAAO7O,IACtCgP,EAAWnE,EAAYoE,QAAQH,EAAK9O,IACrBkP,aAAUrE,EAAakE,EAAUC,MAGpD,IAAIG,EAAS,aAAOnQ,EAAM8B,uBACpBsO,EAAcD,EAAUlE,OAAO8D,EAAU,GAC/CI,EAAUlE,OAAV,MAAAkE,EAAS,CAAQH,EAAU,GAAlB,oBAAwBI,KACjC,IAAMC,EAAgBF,EAAU1M,KAAI,SAACwF,EAAMvF,GACvC,OAAO,2BAAIuF,GAAX,IAAiBvF,aAErB1D,EAAMiH,SAASnF,GAAsB,aAAIuO,KA9CxB,SAACC,GACtB,IAAMC,EAAkBD,EAAW7M,KAAI,SAAC0I,EAAMzI,GAC1C,OAAO,2BAAIyI,GAAX,IAAiBzI,aAEJ,eAAO9B,IACZ2E,KAAOgK,EACnB7R,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBO,OAAO,CACJiH,KAAMgK,IAET/Q,MAAK,WACFC,QAAQC,IAAI,cAGhBd,EAAmBoB,EAAMD,SAASlB,OAAQyC,OAAOtB,EAAM4B,YAAY9C,WAAYkB,EAAM8L,MAAMC,OAAOhN,QA8B9FyR,CAAiBH,KAWjB,SACA,eAAC,KAAD,CAAiBI,MAAO5E,EAAa6E,SAAUC,KAA/C,SACI,eAACC,GAAD,UACK/E,EAAYpI,KAAI,SAACoN,EAAWnN,GACzB,OACI,eAAC,GAAD,CAAcA,MAAOA,EAAOyJ,aAAcA,EAAcb,SAAUA,EAAUC,QAASA,EAASrB,iBAAkBA,EAAkBlJ,mBAAoBA,EAAoChB,GAAI6P,EAAWtF,KAAMvL,EAAM+B,qBAAtC8O,YAM9LlC,GACG,eAAC,GAAD,CAAe9C,YAAaA,EAAaC,MAAO9L,EAAM8L,MAAOJ,UAAWA,EAAWR,iBAAkBA,EAAkBE,MAAOA,EAAOG,KAAMA,IAE9IjJ,GACG,eAAC,GAAD,CAAiB+J,eAAgBA,EAAgBR,YAAaA,EAAaC,MAAO9L,EAAM8L,MAAOJ,UAAWA,EAAW1J,mBAAoBA,IAE5I4M,GACG,eAAC,GAAD,CAAiB/C,YAAaA,EAAcQ,eAAgBA,EAAiBP,MAAO9L,EAAM8L,MAAOW,mBAAoBA,EAAoBoC,WAAYA,UAgB/J+B,GAAOpP,IAAOG,IAAV,qKC1EK9B,gBANS,SAAAC,GAAK,MAAK,CAC9BC,SAAUD,EAAM5B,IAAI6B,SACpB+Q,UAAWhR,EAAM5B,IAAI4S,UACrBlP,YAAa9B,EAAM5B,IAAI0D,eAGZ/B,EA9ED,SAACG,GAAW,IAAD,IACGC,mBAAS,IADZ,mBACd8Q,EADc,KACRC,EADQ,KAErB5Q,qBAAU,WACN6Q,MAED,CAACjR,EAAM8L,QAEV,IAAMmF,EAAW,WACbvS,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBuH,MACA9G,MAAK,SAAAmG,GdQP,IAAmBY,OcPOuI,IAAlBnJ,EAAOY,SACNlG,SAASC,eAAe,kBAAkBC,MAAQoF,EAAOY,OAAOgF,MAEpEvL,EAAMiH,UdIQV,EcJWZ,EAAOY,OdKlC,SAACU,GACHA,EAAS,CAACC,KAAM0B,GAAYzB,QAASZ,WcoCzC,OACI,uBAAKmB,MAAO,CAACmD,QAAS,OAAQqG,cAAe,SAAUC,WAAY,SAAUC,eAAgB,UAA7F,UACI,eAAC,KAAD,CAAM5B,GAAG,eAAT,kBACA,yBAFJ,OAGKxP,QAHL,IAGKA,GAHL,UAGKA,EAAO8Q,iBAHZ,aAGK,EAAkB5Q,SACnB,yBACA,eAACmR,GAAD,CAAcpQ,SAAU,SAACC,GAAD,OAAM8P,EAAQ9P,EAAEC,OAAOZ,QAAQS,GAAG,mBAC1D,yBACA,yBAAQL,QA9CC,WAEb,IAAM2Q,EAAcrS,KAAKC,MAEzBR,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,SACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBO,OAAO,CACJiM,KAAMwF,EACNxR,aAAc+R,IAEjB9R,MAAK,WACFC,QAAQC,IAAI,iBAGhBhB,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,iBACXC,IAAIW,EAAM8L,MAAMC,OAAOhN,QACvBO,OAAO,CACJC,aAAc+R,IAEjB9R,MAAK,WACFC,QAAQC,IAAI,cAEhBhB,EAAGU,WAAW,SACbC,IAAIW,EAAMD,SAASlB,QACnBO,WAAW,YACXC,IAAIiC,OAAOtB,EAAM8Q,UAAUhS,YAC3BQ,OAAO,CACJC,aAAc+R,IAEjB9R,MAAK,WACFC,QAAQC,IAAI,eAYZ,6BAaN2R,GAAe7P,IAAOwK,SAAV,mPC3CHuF,GA1CMC,YAAH,u+B,SC+CH3R,gBAJS,SAAAC,GAAK,MAAK,CAChCC,SAAUD,EAAM5B,IAAI6B,YAGPF,EArCH,SAACG,GAcX,OAZAI,qBAAU,WACRjC,IAASsT,OAAOC,oBAAmB,SAASC,GAC1C,GAAIA,EAAM,CACR,IAAMC,EAAW,CACf/S,OAAQ8S,EAAKE,KAEfpS,QAAQC,IAAI,aACZM,EAAMiH,UhB+BWV,EgB/BOqL,EhBgCtB,SAAC3K,GACHA,EAAS,CAACC,KAAMoB,GAAWnB,QAASZ,OAFrC,IAAkBA,OgB3BpB,IAED,iCACE,eAAC,KAAD,CAAOuL,KAAK,oCAAoCC,OAAQ,SAAC/R,GAAD,OACtD,eAAC,GAAD,eAAaA,OAGf,eAAC,KAAD,CAAO8R,KAAK,kCAAkCC,OAAQ,SAAC/R,GAAD,OACpD,eAAC,GAAD,eAAWA,OAEb,eAAC,KAAD,CAAOgS,OAAK,EAACF,KAAK,eAAeC,OAAQ,SAAC/R,GAAD,OACvC,eAAC,GAAD,eAAeA,OAIjB,eAAC,GAAD,U,SC5BSiS,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3S,MAAK,YAAkD,IAA/C4S,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCLRO,GAAe,CACjB1S,SAAU,GACVmF,iBAAkB,GAClB7C,aAAc,GACdR,cAAe,GACfD,YAAa,GACbkP,UAAW,GACX5G,wBAAyB,WACzBpI,sBAAuB,GACvBC,oBAAqB,IAuDV2Q,GApDI,WAAiC,IAAhC5S,EAA+B,uDAAzB2S,GAAcE,EAAW,uCAC/C,OAAOA,EAAOzL,MACV,KAAK0L,GACD,OAAO,2BACA9S,GADP,IAEIiC,oBAAqB4Q,EAAOxL,UAEpC,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIgC,sBAAuB6Q,EAAOxL,UAEtC,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIoK,wBAAyByI,EAAOxL,UAExC,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIgR,UAAW6B,EAAOxL,UAE1B,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEI8B,YAAa+Q,EAAOxL,UAE5B,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEI+B,cAAe8Q,EAAOxL,UAE9B,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIuC,aAAcsQ,EAAOxL,UAE7B,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIC,SAAU4S,EAAOxL,UAEzB,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIoF,iBAAkByN,EAAOxL,UAEjC,QACI,OAAOrH,IC5Db2S,GAAe,CACjBzL,cAAc,EACdI,SAAU,IAoBCyL,GAjBU,WAAiC,IAAhC/S,EAA+B,uDAAzB2S,GAAcE,EAAW,uCACrD,OAAOA,EAAOzL,MACV,KAAK0L,GACD,OAAO,2BACA9S,GADP,IAEIkH,aAAc2L,EAAOxL,UAE7B,KAAKyL,GACD,OAAO,2BACA9S,GADP,IAEIsH,SAAUuL,EAAOxL,UAEzB,QACI,OAAOrH,IChBJgT,eAAgB,CAC3B5U,IAAKwU,GACLxJ,UAAW2J,KCKTE,GAAQC,YAAYC,GAAaC,YAAgBC,OAEvDC,IAASrB,OACP,eAAC,IAAMsB,WAAP,UACE,eAAC,IAAD,CAAUN,MAAOA,GAAjB,SACE,eAAC,KAAD,UACE,eAAC,GAAD,UAIN1S,SAASC,eAAe,SAM1B2R,O","file":"static/js/main.9dc0c94d.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    if(projectID) {\n        ref.collection('projects')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n        })\n    }\n    if(fileID) {\n        ref.collection('file-previews')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n        })\n    }\n\n}","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst RenameFileModal = (props) => {\n    const [fileName, setFileName] = useState('')\n\n    useEffect(()=> {\n        document.getElementById('rename-file-input').value = props.fileSelectedName\n    }, [props.fileSelectedName])\n\n    const renameFile = () => {\n\n        const ref = db.collection('users')\n        .doc(props.userData.userID)\n\n        ref.collection('file-previews')\n        .doc(String(props.fileSelectedID))\n        .update({\n            fileName,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n\n        ref.collection('files')\n        .doc(String(props.fileSelectedID))\n        .update({\n            fileName,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n        })\n\n        updateLastModified(props.userData.userID, String(props.fileSelectedID))\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setShowRenameModal(false)} />\n            <Modal>\n                Rename file\n                <ProjectTitle autoComplete='off' id='rename-file-input' onChange={(e)=>setFileName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onClick={renameFile}>Rename file</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    // projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst DeleteFileModal = (props) => {\n\n    const deleteFile = () => {\n        const ref = db.collection('users')\n        .doc(props.userData.userID)\n\n        ref.collection('file-previews')\n        .doc(props.fileSelectedID)\n        .delete()\n        .then(()=>{\n            console.log('file deleted')\n        })\n        \n        ref.collection('files')\n        .doc(props.fileSelectedID)\n        .delete()\n        .then(()=>{\n            console.log('file deleted')\n            props.setShowDeleteModal(false)\n        })\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID))\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete project</Header>\n                <p>Are you sure you want to delete this project?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteFile}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteFileModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport moment from 'moment'\nimport { connect } from 'react-redux'\nimport { useEffect, useState } from 'react'\nimport RenameFileModal from './RenameFileModal'\nimport DeleteFileModal from './DeleteFileModal'\n\nconst FilesTable = (props) => {\n\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n    const [fileSelectedID, setFileSelectedID] = useState('')\n    const [fileSelectedName, setFileSelectedName] = useState('')\n\n    useEffect(()=>{\n        return function() {\n            window.onclick = null;\n        } \n        // eslint-disable-next-line\n    }, [])\n\n    const selectFile = (fileID, fileName) => {\n        setFileSelectedID(fileID)\n        setFileSelectedName(fileName)\n        // props.setIsFileSelected(true)\n    }\n\n    const buttonPress = (e, file) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='files-table-row') {\n            // document.location = `/edit/${file.fileType}/${file.fileID}`\n            openFile(file)\n        }\n    }\n    \n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    const openFile = (file) => {\n        const location = `/writing-app/edit/${file.fileType}/${file.fileID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    return(\n        <div>\n            <Table role='table'> \n                <Head role='heading'>\n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>File name</TableHead>\n                        <TableHead role='heading'>File type</TableHead>\n                        <TableHead role='heading'>Date created</TableHead>\n                        <TableHead role='heading'>Last modified</TableHead>\n                        <TableHead aria-label='settings' role='heading' label='settings'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {props.projectFiles.map((file, index)=> {\n                        return(\n                            <Row id='files-table-row' tabIndex='0' role='button' onKeyDown={(e)=>buttonPress(e.code, file)} onFocus={()=>selectFile(file.fileID, file.fileName)} onClick={()=>openFile(file)} key={index}>\n                                <Cell>{file.fileName}</Cell>\n                                <Cell>{file.fileType}</Cell>\n                                <Cell>{moment(file.dateCreated).format('ll')}</Cell>\n                                <Cell>{moment(file.lastModified).calendar()}</Cell>\n                                <IconContainer>\n                                    <IconBackgroundContainer onClick={(e)=>showRenameProject(e)} label='rename file'>\n                                        <IconTitle>Rename</IconTitle>\n                                        <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                        <IconBackground />\n                                    </IconBackgroundContainer>\n                                    <IconBackgroundContainer onClick={(e)=>showDeleteProject(e)} label='delete file'>\n                                        <IconTitle>Delete</IconTitle>\n                                        <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                        <IconBackground />\n                                    </IconBackgroundContainer>\n                                </IconContainer>\n                             </Row>\n\n                        )\n                    })}\n                </TableBody>\n            </Table>\n            {showRenameModal && \n                <RenameFileModal fileSelectedName={fileSelectedName} fileSelectedID={fileSelectedID} setShowRenameModal={setShowRenameModal} />\n            }\n            {showDeleteModal && \n                <DeleteFileModal fileSelectedID={fileSelectedID} setShowDeleteModal={setShowDeleteModal} />\n            }\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projectFiles: state.app.projectFiles\n})\n\nexport default connect(mapStateToProps)(FilesTable)\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    padding: 0.5rem;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n`\n\nconst Row = styled.div`\n    cursor: pointer;\n    display: table-row;\n    background-color: transparent;\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    /* margin-right: 10px; */\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 10px;\n    vertical-align: middle;\n`","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { generateID } from '../../../globalFunctions'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst CreateFileModal = (props) => {\n    const [fileName, setFileName] = useState('')\n    const [fileType, setFileType] = useState('')\n\n    const createFile = () => {\n        let fileID = ''\n        const generateIDAndCreateFile = () => {\n            const idAttempt = generateID()\n            db.collection('fileIDs')\n            .where('fileID', '==', idAttempt)\n            .get()\n            .then(data=> {\n                if(data.empty) {\n                    fileID = idAttempt\n                    const timestamp = Date.now()\n                    const fileProperties = {\n                        fileName,\n                        fileType,\n                        projectID: props.currentProjectID,\n                        fileID,\n                        dateCreated: timestamp,\n                        lastModified: timestamp,\n                    }\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('file-previews')\n                    .doc(fileID)\n                    .set({\n                        ...fileProperties\n                    })\n                    .then(()=> {\n                        console.log('new file preview created')\n                        props.setIsCreateFileModal(false)\n                    })\n                    if(fileType==='outline') {\n                        fileProperties['data'] = []\n                    }\n                    if(fileType==='notes' || fileType==='screenplay') {\n                        fileProperties['text'] = ''\n                    }\n                    const { lastModified, ...fileProps } = fileProperties\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files')\n                    .doc(fileID)\n                    .set({\n                        ...fileProps\n                    })\n                    .then(()=> {\n                        console.log('new file created')\n                        const location = `/writing-app/edit/${fileType}/${fileID}`\n                        window.open(location, \"_blank\") || (document.location = location)\n                    })\n                    updateLastModified(props.userData.userID, String(props.currentProjectID))\n                    db.collection('fileIDs')\n                    .add({\n                        fileID,\n                    })\n                }else{\n                    generateIDAndCreateFile()\n                }\n            })\n        }\n        generateIDAndCreateFile()\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setIsCreateFileModal(false)} />\n            <Modal>\n                Create new file\n                <ProjectTitle onChange={(e)=>setFileName(e.target.value)} />\n                <SelectFileType defaultValue='' name='project type' onChange={(e)=>setFileType(e.target.value)}>\n                    <option value=\"\" disabled>Document type</option>\n                    <option value='screenplay'>screenplay</option>\n                    <option value='notes'>notes</option>\n                    <option value='outline'>outline</option>\n                </SelectFileType>\n                <div>\n                    <Cancel onClick={()=>props.setIsCreateFileModal(false)}>Cancel</Cancel>\n                    <Create onClick={createFile}>Create</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentProjectID: state.app.currentProjectID,\n})\n\nexport default connect(mapStateToProps)(CreateFileModal)\n\nconst SelectFileType = styled.select`\n    width: 20vw;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 40vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    justify-content: space-evenly;\n    align-items: center;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","export const SHOW_PROJECTS = 'SHOW_PROJECTS'\nexport const PROJECTS = 'PROJECTS'\nexport const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\nexport function showProjects(data) {\n    return(dispatch) => {\n        dispatch({type: SHOW_PROJECTS, payload: data})\n    }\n}\n\nexport function projects(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECTS, payload: data})\n    }\n}","import FilesTable from './FilesTable'\nimport { useState } from 'react'\nimport styled from 'styled-components'\nimport RenameFileModal from './RenameFileModal'\nimport { connect } from 'react-redux'\nimport CreateFilesModal from './CreateFileModal'\nimport { showProjects } from '../../../redux/actions/dashboardActions'\n\nconst Files = (props) => {\n    const [isCreateFileModal, setIsCreateFileModal] = useState(false)\n    const [isRenameFileModal, setIsRenameFileModal] = useState(false)\n    const [isFileSelected, setIsFileSelected] = useState(false)\n    const [fileSelectedID, setFileSelectedID] = useState('')\n    const [fileSelectedName, setFileSelectedName] = useState('')\n\n    return(\n        <div style={{width: '80vw'}}>\n            {isRenameFileModal &&\n            <RenameFileModal fileSelectedID={fileSelectedID} fileSelectedName={fileSelectedName} setIsRenameFileModal={setIsRenameFileModal} />\n            }\n            {isCreateFileModal &&\n            <CreateFilesModal setIsCreateFileModal={setIsCreateFileModal} />\n            }\n            <Header>Files</Header>\n            <Back onClick={()=> props.dispatch(showProjects(true))}>Back to all projects</Back>\n\n            <NewFile onClick={()=>setIsCreateFileModal(true)}>Create new file</NewFile>\n            {isFileSelected && \n                <RenameFile className='files-delete' onClick={()=> setIsRenameFileModal(true)}>Rename file</RenameFile>\n            }\n            <FilesTable setFileSelectedName={setFileSelectedName} setIsFileSelected={setIsFileSelected} setFileSelectedID={setFileSelectedID} />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentProjectID: state.app.currentProjectID,\n})\n\nexport default connect(mapStateToProps)(Files)\n\nconst RenameFile = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst Back = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst NewFile = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    font-weight: 500;\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { showProjects, currentProjectID } from '../../../redux/actions/dashboardActions'\n\nconst CreateProjectModal = (props) => {\n    const [projectName, setProjectName] = useState('')\n\n    const createProject = () => {\n        const timestamp = Date.now()\n        db.collection('users').doc(props.userData.userID)\n        .collection('projects').doc(String(timestamp))\n        .set({\n            projectName: projectName,\n            projectID: timestamp,\n            dateCreated: timestamp,\n            lastModified: timestamp,\n        }, {merge: true})\n        .then(()=> {\n            console.log('created new project')\n            props.getProjects()\n            props.setIsCreateProjectModal(false)\n            props.dispatch(showProjects(false))\n            props.dispatch(currentProjectID(timestamp))\n        })\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setIsCreateProjectModal(false)} />\n            <Modal>\n                Create new project\n                <ProjectTitle onChange={(e)=>setProjectName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                    <Create onClick={createProject}>Create project</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    // projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(CreateProjectModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nconst RenameFileModal = (props) => {\n    const [projectName, setProjectName] = useState('')\n\n    useEffect(()=> {\n        document.getElementById('rename-file-input').value = props.projectSelectedName\n        // eslint-disable-next-line\n    }, [props.fileSelectedName])\n\n    const renameFile = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .doc(String(props.projectSelectedID))\n        .update({\n            projectName,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setShowRenameModal(false)} />\n            <Modal>\n                Rename Project\n                <ProjectTitle id='rename-file-input' onChange={(e)=>setProjectName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onClick={renameFile}>Rename</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    // projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\n\nconst DeleteProjectModal = (props) => {\n\n    const deleteProject = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .where('projectID', '==', props.projectSelectedID)\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n                item.ref.delete()\n            })\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('file-previews')\n        .where('projectID', '==', props.projectSelectedID)\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n                item.ref.delete()\n            })\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .where('projectID', '==', props.projectSelectedID)\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n                item.ref.delete()\n            })\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n            // getProjects()\n        })\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete project</Header>\n                <p>Are you sure you want to delete this project?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteProject}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteProjectModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { currentProjectID, projectFiles } from '../../../redux/actions/appActions'\nimport moment from 'moment'\nimport RenameProjectModal from './RenameProjectModal'\nimport DeleteProjectModal from './DeleteProjectModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { showProjects } from '../../../redux/actions/dashboardActions'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n    const [projectSelectedID, setProjectSelectedID] = useState('')\n    const [projectSelectedName, setProjectSelectedName] = useState('')\n\n    const sortFiles = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const getProjectFiles = (projectID) => {\n        props.dispatch(currentProjectID(projectID))\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('file-previews')\n        .where('projectID', '==', projectID)\n        .get()\n        .then(data=> {\n            const files = []\n            data.forEach(file=> {\n                files.push(file.data())\n            })\n            props.dispatch(projectFiles(files.sort(sortFiles)))\n            props.dispatch(showProjects(false))\n        })\n    }\n\n    const selectProject = (projectID, projectName) => {\n        setProjectSelectedID(projectID)\n        setProjectSelectedName(projectName)\n    }\n\n    const buttonPress = (e, projectID) => {\n        if((e === 'Enter' || e=== 'Space') && document.activeElement.id==='projects-table-row') {\n            getProjectFiles(projectID)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>Project name</TableHead>\n                        <TableHead role='heading'>Date created</TableHead>\n                        <TableHead role='heading'>Last modified</TableHead>\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {props.projects.map((project, index)=> {\n                        return(\n                            <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>buttonPress(e.code, project.projectID)} role='button' onFocus={()=>selectProject(project.projectID, project.projectName)} onClick={()=>getProjectFiles(project.projectID)} key={index}>\n                                <Cell role='cell'>{project.projectName}</Cell>\n                                <Cell role='cell'>{moment(project.dateCreated).format('ll')}</Cell>\n                                <Cell role='cell'>{moment(project.lastModified).calendar()}</Cell>\n                                <Cell role='cell'>\n                                    <IconContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showRenameProject(e)} label='rename file'>\n                                            <IconTitle>Rename</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showDeleteProject(e)} label='delete file' >\n                                            <IconTitle>Delete</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                    </IconContainer>\n                                </Cell>\n                            </Row>\n                        )\n                    })}\n                </TableBody>\n            </Table> \n            {showRenameModal && \n                <RenameProjectModal projectSelectedName={projectSelectedName} projectSelectedID={projectSelectedID} setShowRenameModal={setShowRenameModal} />\n            }\n            {showDeleteModal && \n                <DeleteProjectModal projectSelectedID={projectSelectedID} setShowDeleteModal={setShowDeleteModal} />\n            }\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    currentProjectID: state.app.currentProjectID,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst IconTitle = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    padding: 0.5rem;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst Row = styled.div`\n    cursor: pointer;\n    display: table-row;\n    background-color: transparent;\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    /* margin-right: 10px; */\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 10px;\n    vertical-align: middle;\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { projects } from '../../../redux/actions/dashboardActions'\nimport CreateProjectModal from './CreateProjectModal'\nimport ProjectsTable from './ProjectsTable'\nconst Dashboard = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjects = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n\n            props.dispatch(projects(projectArr.sort(sortProjects)))\n        })\n    }\n\n    return(\n        <div style={{width: '80vw'}}>\n            {isCreateProjectModal &&\n                <CreateProjectModal getProjects={getProjects} setIsCreateProjectModal={setIsCreateProjectModal} />\n            }\n            <Header>Projects</Header>\n            <NewFile onClick={()=>setIsCreateProjectModal(true)}>Create new project</NewFile>\n            <ProjectsTable />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n\nconst NewFile = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    font-weight: 500;\n`","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport Files from './Files'\nimport Projects from './Projects'\nimport { connect } from 'react-redux'\nimport { projects } from '../../../redux/actions/dashboardActions'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n            props.dispatch(projects(projectArr))\n        })\n    }\n\n    return(\n        <div>\n            {props.showProjects ? \n            <Projects />\n            :\n            <Files />\n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { projectFiles, dashboardCurrentSection } from '../../../redux/actions/appActions'\nimport { showProjects, projects } from '../../../redux/actions/dashboardActions'\n\nconst Sidebar = (props) => {\n\n    const getAllFiles = () => {\n        if(props.projectFiles.length === 0) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('file-previews')\n            .get()\n            .then(files=> {\n                let filesArr = []\n                files.forEach(file=> {\n                    filesArr.push(file.data())\n                })\n                props.dispatch(projectFiles(filesArr))\n                props.dispatch(showProjects(false))\n            })\n        }\n        props.dispatch(showProjects(false))\n    }\n\n    const getProjects = () => {\n        if(props.projects.length === 0) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('projects')\n            .get()\n            .then(data=> {\n                const projectArr = []\n                data.forEach(project=> {\n                    projectArr.push(project.data())\n                })\n                props.dispatch(projects(projectArr))\n            })\n            props.dispatch(showProjects(true))\n        }\n        props.dispatch(showProjects(true))\n    }\n\n    const navigateSidebar = (menuItem) => {\n        if(menuItem==='projects') getProjects()\n        if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <UL>\n                <LI><LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='projects' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'} >\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                    Projects\n                    </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('files')} background={props.dashboardCurrentSection==='files' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='files' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" />\n                    All files\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4=\" /> \n                    Analytics\n                </LiButton ></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='settings' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4=\" />\n                    Settings\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                    Deleted\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst Container = styled.div`\n    width: 20vw;\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    border: none;\n    padding: 5px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.img`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n`","// import Projects from './FilesList/Projects'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport { connect } from 'react-redux'\nconst Dashboard = (props) => {\n\n    return(\n        <div style={{display: 'flex'}}>\n            <Sidebar />\n            <FilesList />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowEditModal(false)}></Background>\n            <Modal>\n                <Header>Edit card</Header>\n                <div>\n                    <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                    <div style={{marginBottom: '20px'}}></div>\n                    <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n                </div>\n                <div>\n                    <Cancel onClick={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                    <Save onClick={saveCardEdits}>Save</Save>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled.div`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n    z-index: 100;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete card</Header>\n                <p>Are you sure you want to delete this card?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteCard}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props.outlineData.data.length + 1)\n        // eslint-disable-next-line \n    }, [])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowCreateModal(false)} />\n            <Modal>\n                <Header>Create new card</Header>\n                <Label>Title</Label>\n                <Title onChange={(e)=>setTitle(e.target.value)} />\n                <Label>Description</Label>\n                <Description onChange={(e)=>setText(e.target.value)} />\n                <Label>Insert at location:</Label>\n                <div>\n\n                    <Location id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineData.data.length + 1}\n                </div>\n                <div style={{display: 'flex'}}>\n                    <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                    <Create onClick={createNewOutlineCard}>Create</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <IconBackgroundContainer onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)}>\n                            <IconTitle>Rename</IconTitle>\n                            <IconBackground />\n                            <Icon alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                        \n                        <IconBackgroundContainer onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)}>\n                            <IconTitle>Delete</IconTitle>\n                            <IconBackground />\n                            <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.div`\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import React, { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        // console.log(props.match)\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        const outlineCopy = {...outlineData}\n        outlineCopy.data = cardsNewIndexes\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/writing-app'>\n                <div>Home</div>\n            </Link>\n            {props?.outlineData?.fileName}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n            {showEditModal && \n                <EditCardModal itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            }\n            {showDeleteModal &&\n                <DeleteCardModal setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n            }\n            {showCreateModal && \n                <CreateCardModal itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n            }\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n        })\n    }\n\n    const saveWork = () => {\n\n        const currentTime = Date.now()\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('work saved')\n        })\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('file-previews')\n        .doc(props.match.params.fileID)\n        .update({\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .doc(String(props.notesData.projectID))\n        .update({\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n    }\n\n    return(\n        <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center'}}>\n            <Link to='/writing-app'>Home</Link>\n            <div></div>\n            {props?.notesData?.fileName}\n            <div></div>\n            <TextAreaPage onChange={(e)=> setNote(e.target.value)} id='notes-textarea' />\n            <div></div>\n            <button onClick={saveWork}>Save work</button>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst TextAreaPage = styled.textarea`\n    padding: 40px 100px;\n    background-color: hsl(0, 10%, 95%);\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 60vw;\n    height: 90vh;\n    border: none;\n    resize: none;\n`","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyles = createGlobalStyle`\n    html, body, div, span, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nexport default GlobalStyles","import { useEffect } from 'react'\n// import Signup from './Components/Signup/Signup'\n// import Signin from './Components/Signup/Signin'\nimport Dashbaord from './Components/Dashboard/Dashboard'\nimport Outline from './Components/Edit/Outline/Outline'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData } from './redux/actions/appActions'\n\nconst App = (props) => {\n\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n      }\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    <div>\n      <Route path='/writing-app/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n        // <OutlineDND {...props} />\n      )} />\n      <Route path='/writing-app/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route exact path='/writing-app' render={(props)=> (\n        <Dashbaord {...props} />\n      )} />\n      {/* <Signup /> */}\n      {/* <Signin /> */}\n      <GlobalStyles />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    showProjects: true,\n    projects: [],\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.SHOW_PROJECTS:\n            return {\n                ...state,\n                showProjects: action.payload\n            }\n        case actions.PROJECTS:\n            return {\n                ...state,\n                projects: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}