{"version":3,"sources":["firebase.js","Components/Signup/Signup.js","Components/Signup/Signin.js","globalFunctions.js","redux/actions/appActions.js","Components/Dashboard/FilesList/CreateDocModal.js","Icons/IconComponent.js","Components/Dashboard/FilesList/NewDocListItem.js","Components/Dashboard/FilesList/Table/FileIcons.js","Components/Dashboard/FilesList/Table/ModifierIcon.js","Components/Dashboard/FilesList/Table/TableBodyComponent.js","Components/Dashboard/FilesList/RenameDocModal.js","Components/Dashboard/FilesList/DeleteDocModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/Table/TableHeadComponent.js","Components/Dashboard/FilesList/DocsTable.js","Components/Dashboard/FilesList/AllFiles.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Settings/ChangeColors/ColorSelection.js","Components/Settings/ChangeColors/ColorThemeCard.js","Components/Settings/ChangeColors/ColorTemplates.js","Components/Settings/ChangeColors/ChangeColors.js","Components/Settings/Settings.js","Components/Dashboard/Breadcrumbs.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Screenplay/Autocomplete.js","Components/Edit/Screenplay/EditorAssets.js","Components/Edit/Screenplay/Editor.js","Components/Edit/Screenplay/Screenplay.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","SignUp","onClick","auth","createUserWithEmailAndPassword","then","userCredential","user","console","log","collection","doc","uid","set","userID","catch","error","signInWithEmailAndPassword","updateLastModified","projectID","fileID","timestamp","Date","now","ref","undefined","update","lastModified","err","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","ROOT_DOCS","LAYER_ONE_DOCS","LAYER_TWO_DOCS","LAYER_THREE_DOCS","CURRENT_LAYER","COLOR_THEMES","colorThemes","data","dispatch","type","payload","currentLayer","layerThreeDocs","layerTwoDocs","layerOneDocs","rootDocs","outlineItemsForUpdate","outlineItemsDisplay","connect","state","userData","breadcrumbs","dashboard","props","useState","name","setName","getParentId","length","docID","createFolder","parentID","folderProperties","String","addFileToPreviews","setIsCreateProjectModal","fileProperties","closeModal","addDocToStore","addFileToFiles","fileProps","openFileInNewTab","projectSelectedData","location","window","open","document","startFileCreation","generateIDAndCreateFile","result","characters","charactersLength","i","charAt","Math","floor","random","generateID","where","get","empty","dateCreated","createFile","add","addDocID","Modal","aria-label","isOpen","isCreateProjectModal","onDismiss","HeaderIconContainer","createType","CloseDialog","label","Icon","alt","src","ProjectTitle","autoComplete","onChange","e","target","value","Cancel","Create","styled","div","button","img","input","Dialog","IconComponent","Fill","fill","xmlns","width","height","viewBox","children","svg","NewDocListItem","Item","onSelect","openModal","docType","IconContainer","Type","MenuItem","p","FileIcons","DocIconNameContainer","DocIcon","d","docName","ModifierIcon","IconBackgroundContainer","labelName","IconTitle","title","IconBackground","TableBodyComponent","TableBody","role","folderMap","map","index","Row","id","tabIndex","onKeyDown","buttonPress","code","onFocus","selectProject","selectItem","Cell","moment","format","showRenameProject","showDeleteProject","renameFile","renameStoreDocs","setShowRenameModal","0","1","2","3","renamedItems","currentIndex","preventDefault","Container","NewModal","showRenameModal","onMouseDown","Header","defaultValue","h1","outlineData","currentFileID","deleteDoc","docData","deleteFile","deleteFolder","delete","setShowDeleteModal","forEach","item","initialDelete","deletedItem","splice","removeDocFromStore","showDeleteModal","Delete","BREADCRUMBS","SORT_METHOD","sortMethod","TableHeadComponent","TableHead","ColumnNameButton","changeSortOrder","sortType","sortMethodValue1","ArrowIcon","rotate","sortMethodValue2","currentProjectID","activeElement","blur","sortMethodToUse","dataArr","push","sortProjectsDateAsc","sortProjectsDateDesc","sortProjectsTypeAsc","sortProjectsTypeDesc","sortProjectsNameAsc","sortProjectsNameDesc","sort","breadcrumb","breadcrumbsCopy","openFile","fileType","a","b","localeCompare","sortMethodName","Table","Head","RowHeader","setProjectSelectedData","stopPropagation","RenameDocModal","projects","setCreateType","useEffect","getInitialFilesAndFolders","sortMethodType","projectArr","project","getProjects","CreateNew","Plus","List","span","MenuButton","MenuList","showProjects","projectFiles","dashboardCurrentSection","navigateSidebar","menuItem","Logo","UL","LI","style","textDecoration","to","LiButton","background","hover","NavigationItem","li","ul","changeColor","color","getElementById","ColorPickers","Picker","htmlFor","primaryText","sidebar","highlight","colors","addTheme","themes","FieldValue","arrayUnion","ColorThemeCard","Option","isSelected","theme","SelectOption","selectTheme","isDefault","DeleteOption","Colors","Object","entries","Color","backgroundColor","article","themeColors","setThemes","themesCopy","Settings","rootLayer","crumb","Crumb","indexToRoute","breadcrumbsReduced","slice","breadcrumbRoute","nav","FilesContainer","exact","path","render","newTitle","setNewTitle","newText","setNewText","setShowEditModal","showEditModal","Title","marginBottom","Text","text","cardIndex","focus","Save","newCard","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","showCreateModal","setShowCreateModal","Label","Description","Location","display","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","keyBoardEdit","keyBoardDelete","CardNumber","h2","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","getOutline","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","Autocomplete","AutocompleteContainer","AutocompleteBackground","position","AutocompleteItem","top","left","CenteredItemsContainer","DialogStyles","Character","CharacterStyles","SceneHeading","SceneHeadingStyles","Paragraph","ParagraphStyles","Transition","TransitionStyles","Parenthetical","ParentheticalStyles","TIME_OF_DAY","editor","useMemo","withReact","createEditor","setTarget","setIndex","setPosition","searchType","setSearchType","searchQuery","setSearchQuery","searchResults","names","times","locations","filter","startsWith","toUpperCase","selection","currentText","rect","ReactEditor","toDOMRange","getBoundingClientRect","pageYOffset","pageXOffset","renderElement","useCallback","element","functions","checkTransition","shiftKey","this","setNode","checkDescription","previousText","previousPreviousType","currentTextUppercase","includes","checkDialog","previousType","Transforms","setNodes","at","n","Editor","isBlock","mode","checkParenthetical","character","checkCharacter","currentType","incrementIndex","timeSearch","newValue","splitValue","split","trim","insertNodes","obj","replaceLocation","intExt","Range","edges","endPosition","offset","startPosition","range","insertText","handleDelete","handleEnter","insertBreak","handleReplace","newType","replaceCharacter","addCharacter","replaceTime","before","unit","heading","addLocation","checkHeading","splitText","handleOnChange","currentOffset","anchor","startValue","shift","joinedValue","join","minOffset","maxOffset","Infinity","splitDash","locationsOnChange","pop","timesOnChange","namesOnChange","setValue","boxShadow","autoFocus","placeholder","isPreventSave","setIsPreventSave","currentWords","setCurrentWords","savingStatus","setSavingStatus","setCharacters","charactersObj","setCharactersObj","setLocations","locationsObj","setLocationsObj","updateSavingStatus","save","setTimeout","saveScript","clearTimeout","script","getCharacters","getLocations","getWords","words","scriptObject","scriptID","newWordCount","change","saveScriptToDatabase","incrementWordsInDatabase","wordsAdded","wordsToAdd","increment","today","sortArray","array","characterCount","incrementItem","getCharacterCount","charactersArray","charactersList","itemName","itemCount","splitHeading","locationsArray","locationsList","status","incrementedLocations","characterName","characterUppercase","notesData","note","setNote","lastSaved","setLastSaved","savedStatus","setSavedStatus","getNotes","timeout","saveWork","fitTextarea","watch","onbeforeunload","updateLastUpdatedFunction","currentTime","collectionName","sendToDatabase","updateLastUpdated","TextAreaPage","rows","GlobalStyles","createGlobalStyle","isLoading","setIsLoading","onAuthStateChanged","userInfo","preferences","Signup","Signin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","docId","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.b5a275f7.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import firebase from 'firebase'\nimport { db } from '../../firebase'\nconst SignUp = () => {\n    const submit = () => {\n        firebase.auth().createUserWithEmailAndPassword('hel2lo@gai1l.com', 'hello123')\n        .then((userCredential) => {\n            // Signed in \n            var user = userCredential.user;\n            console.log(user)\n            db.collection('users').doc(user.uid).set({\n                userID: user.uid\n            })\n        })\n        .catch((error) => {\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n            // ..\n            console.log('error signing up', error)\n        });\n    }\n    return(\n        <div>\n            <input></input>\n            <input></input>\n            <button onClick={submit}>Signup</button>\n        </div>\n    )\n}\n\nexport default SignUp","import firebase from 'firebase'\nconst SignUp = () => {\n    const submit = () => {\n\n        firebase.auth().signInWithEmailAndPassword('hel2lo@gai1l.com', 'hello123')\n        .then((userCredential) => {\n            // Signed in\n            // var user = userCredential.user;\n            // ...\n            console.log('signed in')\n        })\n        .catch((error) => {\n            console.log(error)\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n        });\n    }\n    return(\n        <div>\n            <input></input>\n            <input></input>\n            <button onClick={submit}>Signup</button>\n        </div>\n    )\n}\n\nexport default SignUp","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    console.log(projectID)\n    if(projectID!==undefined) {\n        ref.collection('files-folders')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            \n        })\n    }\n    if(fileID) {\n        ref.collection('files-folders')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            console.log(2)\n        })\n    }\n\n}","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\nexport const ROOT_DOCS = 'ROOT_DOCS'\nexport const LAYER_ONE_DOCS = 'LAYER_ONE_DOCS'\nexport const LAYER_TWO_DOCS = 'LAYER_TWO_DOCS'\nexport const LAYER_THREE_DOCS = 'LAYER_THREE_DOCS'\nexport const CURRENT_LAYER = 'CURRENT_LAYER'\nexport const COLOR_THEMES = 'COLOR_THEMES'\n\nexport function colorThemes(data) {\n    return(dispatch) => {\n        dispatch({type: COLOR_THEMES, payload: data})\n    }\n}\n\n\nexport function currentLayer(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_LAYER, payload: data})\n    }\n}\n\nexport function layerThreeDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_THREE_DOCS, payload: data})\n    }\n}\n\nexport function layerTwoDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_TWO_DOCS, payload: data})\n    }\n}\n\nexport function layerOneDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_ONE_DOCS, payload: data})\n    }\n}\n\nexport function rootDocs(data) {\n    return(dispatch) => {\n        dispatch({type: ROOT_DOCS, payload: data})\n    }\n}\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { generateID } from '../../../globalFunctions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    // currentLayer,\n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs\n} from '../../../redux/actions/appActions'\n\nconst CreateDocModal = (props) => {\n    const [name, setName] = useState('')\n\n    const createProject = () => {\n        if (props.createType==='folder' && props.currentLayer < 3) return createFolder()\n        if (props.createType!=='folder') return startFileCreation(props.createType)\n    }\n\n    const getParentId = () => {\n        if(props.breadcrumbs.length === 1) return props.userData.userID\n        return props.breadcrumbs[props.breadcrumbs.length - 1].docID\n    }\n\n    const createFolder = () => {\n        const parentID = getParentId()\n        const timestamp = Date.now()\n        const folderProperties = {\n            name,\n            parentID: String(parentID),\n            type: 'folder',\n            docID: String(timestamp),\n            lastModified: timestamp,\n        }\n        addFileToPreviews(String(timestamp), folderProperties, props.setIsCreateProjectModal)\n    }\n\n    const addDocID = (docID) => {\n        db.collection('docID')\n        .add({\n            docID,\n        })\n        .catch(err=> console.log(err))\n    }\n\n    const createFile = (parentID, docID, type) => {\n        const timestamp = Date.now()\n        const fileProperties = {\n            name,\n            type,\n            parentID: String(parentID),\n            docID: String(docID),\n            dateCreated: timestamp,\n            lastModified: timestamp,\n        }\n        addFileToPreviews(docID, fileProperties)\n        if(type==='outline') {\n            fileProperties['data'] = []\n        }\n        if(type==='notes' || type==='screenplay') {\n            fileProperties['text'] = ''\n        }\n        const { lastModified, ...fileProps } = fileProperties\n        addFileToFiles(docID, fileProps, type)\n    }\n\n    const addFileToPreviews = (docID, fileProperties, closeModal) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(docID)\n        .set({\n            ...fileProperties\n        })\n        .then(()=> {\n            console.log('new file preview created')\n            addDocToStore(fileProperties)\n            if(closeModal) closeModal(false)\n        })\n    }\n\n    const addFileToFiles = (docID, fileProps, type) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(docID)\n        .set({\n            ...fileProps\n        })\n        .then(()=> {\n            console.log('new file created')\n            openFileInNewTab(type, docID)\n            props.setIsCreateProjectModal(false)\n            if(props.projectSelectedData.docID) {\n                updateLastModified(props.userData.userID, String(props.projectSelectedData.docID))\n            }\n        })\n    }\n\n    const openFileInNewTab = (type, docID) => {\n        const location = `/writing-app/edit/${type}/${docID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    const startFileCreation = (type) => {\n        const parentID = getParentId()\n        generateIDAndCreateFile(parentID, type)\n    }\n\n    const generateIDAndCreateFile = (parentID, type) => {\n        const docID = generateID()\n        db.collection('docID')\n        .where('docID', '==', docID)\n        .get()\n        .then(data=> {\n            if(data.empty) {\n                createFile(parentID, docID, type)\n                addDocID(docID)\n            }else{\n                generateIDAndCreateFile()\n            }\n        })\n    }\n\n    const addDocToStore = (data) => {\n        if(props.currentLayer===0) props.dispatch(rootDocs([data, ...props.rootDocs]))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs([data, ...props.layerOneDocs]))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs([data, ...props.layerTwoDocs]))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs([data, ...props.layerThreeDocs]))\n    }\n \n    return (\n        <Modal aria-label='create document' isOpen={props.isCreateProjectModal} onDismiss={()=>props.setIsCreateProjectModal(false)}>\n            <HeaderIconContainer>\n                <h1>Create new {props.createType}</h1>\n                <CloseDialog label='close rename dialog' onClick={()=>props.setIsCreateProjectModal(false)}>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n            </HeaderIconContainer>\n            <ProjectTitle autoComplete='off' onChange={(e)=>setName(e.target.value)} />\n            <div>\n                <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                <Create onClick={createProject}>Create project</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(CreateDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 10px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled(Dialog)`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`","import styled from 'styled-components'\n\nconst IconComponent = (props) => {\n    return (\n        <Fill fill={props.fill} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">{props.children}</Fill>\n    )\n}\n\nexport default IconComponent\n\nconst Fill = styled.svg`\n    fill: var(--primary-text);\n`","import styled from 'styled-components'\nimport IconComponent from '../../../Icons/IconComponent'\nimport {\n    MenuItem,\n} from \"@reach/menu-button\";\n\nconst NewDocListItem = (props) => {\n    return(\n        <Item onSelect={()=>props.openModal(props.docType)}>\n            <IconContainer>\n                <IconComponent>{props.children}</IconComponent>\n            </IconContainer>\n            <Type>{props.docType}</Type>\n        </Item>\n    ) \n}\n\nexport default NewDocListItem\n\nconst IconContainer = styled.div`\n    transform: scale(.8);\n    margin-right: 5px;\n`\n\nconst Item = styled(MenuItem)`\n    font-size: 1rem;\n    display: flex;\n    align-items: center;\n`\n\nconst Type = styled.p`\n    text-transform: capitalize;\n`","import styled from 'styled-components'\nimport IconComponent from '../../../../Icons/IconComponent'\n\nconst FileIcons = (props) => {\n    return(\n        <DocIconNameContainer>\n            {props.docType==='folder' &&\n                <DocIcon><IconComponent><path d=\"M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z\"/></IconComponent></DocIcon>\n            }\n            {props.docType==='screenplay' &&\n                <DocIcon><IconComponent><path d=\"M21.155 8.64c-.909 1.519-2.327 3.067-4.097 3.004-.413.706-.852 1.677-1.339 2.803l-1.312.553c.936-2.343 2.231-4.961 3.698-6.994-.67.529-1.746 1.637-2.662 2.783-1.098-1.828-.3-3.691.973-5.179.021.641.359 1.196.601 1.475-.087-.53-.114-1.489.195-2.351.718-.732 1.364-1.271 2.113-1.76-.083.478.08 1.026.262 1.361.024-.49.224-1.43.521-1.84.924-.727 2.332-1.373 3.892-1.495-.081.973-.436 2.575-1.024 3.604-.515.404-1.221.68-1.791.833.493.089 1.031.077 1.494-.001-.269.743-.552 1.428-.998 2.276-.679.468-1.578.732-2.203.825.46.187 1.272.245 1.677.103zm-13.841 3.805l.645.781 4.773-2.791-.668-.768-4.75 2.778zm6.96-.238l-.668-.767-4.805 2.808.645.781 4.828-2.822zm4.679.007c-.421.203-.851.341-1.286.398-.12.231-.246.494-.377.773l.298.342c.623.692.459 1.704-.376 2.239-.773.497-5.341 3.376-6.386 4.035-.074-.721-.358-1.391-.826-1.948-.469-.557-6.115-7.376-7.523-9.178-.469-.6-.575-1.245-.295-1.816.268-.549.842-.918 1.43-.918.919 0 1.408.655 1.549 1.215.16.641-.035 1.231-.623 1.685l1.329 1.624 7.796-4.446c1.422-1.051 1.822-2.991.93-4.513-.618-1.053-1.759-1.706-2.978-1.706-1.188 0-.793-.016-9.565 4.475-1.234.591-2.05 1.787-2.05 3.202 0 .87.308 1.756.889 2.487 1.427 1.794 7.561 9.185 7.616 9.257.371.493.427 1.119.15 1.673-.277.555-.812.886-1.429.886-.919 0-1.408-.655-1.549-1.216-.156-.629.012-1.208.604-1.654l-1.277-1.545c-.822.665-1.277 1.496-1.377 2.442-.232 2.205 1.525 3.993 3.613 3.993.596 0 1.311-.177 1.841-.51l9.427-5.946c.957-.664 1.492-1.781 1.492-2.897 0-.745-.24-1.454-.688-2.003l-.359-.43zm-7.933-10.062c.188-.087.398-.134.609-.134.532 0 .997.281 1.243.752.312.596.226 1.469-.548 1.912l-5.097 2.888c-.051-1.089-.579-2.081-1.455-2.732l5.248-2.686zm2.097 13.383l.361-.905.249-.609-3.449 2.017.645.781 2.194-1.284z\"/></IconComponent></DocIcon>\n            }\n            {props.docType==='notes' &&\n                <DocIcon><IconComponent><path d=\"M4 22v-20h16v11.543c0 4.107-6 2.457-6 2.457s1.518 6-2.638 6h-7.362zm18-7.614v-14.386h-20v24h10.189c3.163 0 9.811-7.223 9.811-9.614zm-5-1.386h-10v-1h10v1zm0-4h-10v1h10v-1zm0-3h-10v1h10v-1z\"/></IconComponent></DocIcon>\n            }\n            {props.docType==='outline' &&\n                <DocIcon><IconComponent><path d=\"M4 4v20h20v-20h-20zm18 18h-16v-13h16v13zm-3-3h-10v-1h10v1zm0-3h-10v-1h10v1zm0-3h-10v-1h10v1zm2-11h-19v19h-2v-21h21v2z\"/></IconComponent></DocIcon>\n            }\n            {props.docName}\n        </DocIconNameContainer>\n    )\n}\n\nexport default FileIcons\n\nconst DocIconNameContainer = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst DocIcon = styled.div`\n    margin-right: 10px;\n`","import styled from 'styled-components'\nimport IconComponent from '../../../../Icons/IconComponent'\n\nconst ModifierIcon = (props) => {\n    return(\n        <IconBackgroundContainer onClick={(e)=>props.openModal(e)} label={props.labelName} >\n            <IconTitle>{props.title}</IconTitle>\n            <Icon><IconComponent>\n                {props.children}\n            </IconComponent></Icon>\n            <IconBackground />\n        </IconBackgroundContainer>\n    )\n}\n\nexport default ModifierIcon\n\nconst IconTitle = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: var(--sidebar);\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.div` \n    /* width: 18px;\n    height: 18px; */\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%) scale(.7);\n`","import styled from 'styled-components'\nimport FileIcons from '../Table/FileIcons'\nimport ModifierIcon from '../Table/ModifierIcon'\nimport moment from 'moment'\n\nconst TableBodyComponent = (props) => {\n    return(\n        <TableBody role='row'>\n            {props.folderMap[props.currentLayer]?.map((doc, index)=> {\n                return(\n                    <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>props.buttonPress(e.code, doc.type, doc.docID, doc.name)} role='button' onFocus={()=>props.selectProject(doc, index)} onClick={()=>props.selectItem(doc.type, doc.docID, doc.name)} key={index}>\n                        <Cell role='cell'>\n                            <FileIcons docType={doc.type} docName={doc.name} />\n                        </Cell>\n                        <Cell role='cell'>{doc.type}</Cell>\n                        <Cell role='cell'>{moment(doc.lastModified).format('ll')}</Cell>\n                        <Cell role='cell'>\n                        <IconContainer>\n                            <ModifierIcon title='Rename' openModal={props.showRenameProject} labelName='rename file'>\n                                <path d=\"M18.363 8.464l1.433 1.431-12.67 12.669-7.125 1.436 1.439-7.127 12.665-12.668 1.431 1.431-12.255 12.224-.726 3.584 3.584-.723 12.224-12.257zm-.056-8.464l-2.815 2.817 5.691 5.692 2.817-2.821-5.693-5.688zm-12.318 18.718l11.313-11.316-.705-.707-11.313 11.314.705.709z\"/>\n                            </ModifierIcon>\n                            <ModifierIcon title='Delete' openModal={props.showDeleteProject} labelName='delete file'>\n                                <path d=\"M9 19c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5-17v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712zm-3 4v16h-14v-16h-2v18h18v-18h-2z\"/>\n                            </ModifierIcon>\n                        </IconContainer>\n                        </Cell>\n                    </Row>\n                )\n            })}\n        </TableBody>\n    )\n}\n\nexport default TableBodyComponent\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Row = styled.div`\n    border-collapse: separate;\n    cursor: pointer;\n    display: table-row;\n    background-color: var(--sidebar);\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        /* background-color: hsl(0, 0%, 95%); */\n        background-color: var(--highlight);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        /* background-color: hsl(0, 0%, 90%); */\n        background-color: var(--highlight);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 15px 20px;\n    vertical-align: middle;\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst RenameFileModal = (props) => {\n    const [name, setName] = useState('')\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-file-input').value = props.projectSelectedData.name\n    //     // eslint-disable-next-line\n    // }, [props.fileSelectedName])\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-doc-close-button').focus()\n    // }, [])\n\n    const renameFile = (e) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(props.projectSelectedData.docID))\n        .update({\n            name,\n        })\n        .then(()=> {\n            renameStoreDocs()\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n        if(props.projectSelectedData.type!=='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files')\n            .doc(String(props.projectSelectedData.docID))\n            .update({\n                name,\n            })\n            .then(()=> {\n                console.log('file rename successful')\n                closeModal(e)\n                props.setShowRenameModal(false)\n            })\n        }\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const renameStoreDocs = () => {\n        let renamedItems = folderMap[props.currentLayer]\n        renamedItems[props.projectSelectedData.currentIndex].name = name\n        if(props.currentLayer===0) props.dispatch(rootDocs(renamedItems))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(renamedItems))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(renamedItems))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(renamedItems))\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowRenameModal(false)\n        }\n    }\n\n    const renameFileOnKeyDown = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            renameFile(e)\n        }\n    }\n\n    return (\n        <Container>\n            {/* <Background onClick={()=>props.setShowRenameModal(false)} /> */}\n            <NewModal aria-label={`change ${props.projectSelectedData.type} name of ${props.projectSelectedData.name}`} isOpen={props.showRenameModal} onDismiss={()=>props.setShowRenameModal(false)}>\n                <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle defaultValue={props.projectSelectedData.name} autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </NewModal>\n            {/* <Modal>\n                <CloseDialog onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </Modal> */}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 5px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst NewModal = styled(Dialog)`\n    background-color: white;\n    min-height: 400px;\n    width: 500px;\n    /* position: fixed; */\n    /* top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); */\n    border-radius: 15px;\n    flex-direction: column;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst DeleteDocModal = (props) => {\n\n    const deleteDoc = (docData) => {\n        console.log('deleting docs')\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID, docData.currentIndex)\n        }else{\n            deleteFolder(docData.docID, docData.currentIndex)\n        }\n    }\n\n    const deleteFile = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        \n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        props.setShowDeleteModal(false)\n    }\n\n    const deleteFolder = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', String(docID))\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n               deleteDoc(item.data())\n            })\n        })\n        .then(()=> {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(docID))\n            .delete()\n            .then(()=>null)\n            .catch(err=>console.log(err))\n            props.setShowDeleteModal(false)\n        })\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const removeDocFromStore = (currentIndex) => {\n        let deletedItem = [...folderMap[props.currentLayer]]\n        deletedItem.splice(currentIndex, 1)\n        if(props.currentLayer===0) props.dispatch(rootDocs(deletedItem))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(deletedItem))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(deletedItem))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(deletedItem))\n    }\n\n    const initialDelete = (docData) => {\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID)\n        }else{\n            deleteFolder(docData.docID)\n        }\n        removeDocFromStore(docData.currentIndex)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n        }\n    }\n\n    return(      \n        <div>\n            <Modal isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)} aria-label='cancel delete'>\n                <HeaderIconContainer>\n                    <Header>{`Delete ${props.projectSelectedData.type}`}</Header>\n                    <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowDeleteModal(false)}>\n                        <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                    </CloseDialog>\n                </HeaderIconContainer>\n                <p>{`Are you sure you want to delete ${props.projectSelectedData.name}?`}</p>\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)}  onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={()=>initialDelete(props.projectSelectedData)}>Delete</Delete>\n                </div>\n            </Modal>\n        </div>      \n\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(DeleteDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const BREADCRUMBS = 'BREADCRUMBS'\nexport const SORT_METHOD = 'SORT_METHOD'\n\nexport function sortMethod(data) {\n    return(dispatch) => {\n        dispatch({type: SORT_METHOD, payload: data})\n    }\n}\n\nexport function breadcrumbs(data) {\n    return(dispatch) => {\n        dispatch({type: BREADCRUMBS, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}","import styled from 'styled-components'\nimport IconsComponent from '../../../../Icons/IconComponent'\n\nconst TableHeadComponent = (props) => {\n    return(\n        <TableHead role='heading'>\n            <ColumnNameButton onClick={()=>props.changeSortOrder(props.sortType)}>\n                {props.name}\n                {props.sortMethod === props.sortMethodValue1 &&\n                    <ArrowIcon rotate='rotate(180deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                }\n                {props.sortMethod === props.sortMethodValue2 &&\n                    <ArrowIcon rotate='rotate(0deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                }\n            </ColumnNameButton>\n        </TableHead>\n    )\n}\n\nexport default TableHeadComponent\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    padding: 10px 15px;\n    border-bottom: 2px solid var(--primary-text);\n    border-top: 2px solid var(--primary-text);\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n    white-space: nowrap;\n`\n\nconst ColumnNameButton = styled.button`\n    display: flex;\n    align-items: center;\n`\n\nconst ArrowIcon = styled.div`\n    transform: scale(.6) ${props=>props.rotate};\n    margin-left: 5px;\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n    currentLayer,\n} from '../../../redux/actions/appActions'\nimport TableBodyComponent from './Table/TableBodyComponent'\nimport RenameDocModal from './RenameDocModal'\nimport DeleteProjectModal from './DeleteDocModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { breadcrumbs, sortMethod } from '../../../redux/actions/dashboardActions'\nimport TableHeadComponent from './Table/TableHeadComponent'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const selectProject = (docData, index) => {\n        props.setProjectSelectedData({...docData, currentIndex: index})\n    }\n\n    const buttonPress = (e, type, docID, name) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='projects-table-row') {\n            selectItem(type, docID, name)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    const selectItem = (type, docID, name) => {\n        document.activeElement.blur()\n        if(type==='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .where('parentID', '==', docID)\n            .get()\n            .then(data=> {\n                const dataArr = []\n                data.forEach(item=> {\n                    dataArr.push(item.data())\n                })\n                let sortMethodToUse\n                if(props.sortMethod==='dateAsc') sortMethodToUse = sortProjectsDateAsc\n                if(props.sortMethod==='dateDesc') sortMethodToUse = sortProjectsDateDesc\n                if(props.sortMethod==='typeAsc') sortMethodToUse = sortProjectsTypeAsc\n                if(props.sortMethod==='typeDesc') sortMethodToUse = sortProjectsTypeDesc\n                if(props.sortMethod==='nameAsc') sortMethodToUse = sortProjectsNameAsc\n                if(props.sortMethod==='nameDesc') sortMethodToUse = sortProjectsNameDesc\n                if(props.currentLayer === 0) {\n                    props.dispatch(layerOneDocs(dataArr.sort(sortMethodToUse)))\n                }else if(props.currentLayer === 1) {\n                    props.dispatch(layerTwoDocs(dataArr.sort(sortMethodToUse)))\n                }else if(props.currentLayer === 2) {\n                    props.dispatch(layerThreeDocs(dataArr.sort(sortMethodToUse)))\n                    console.log(dataArr)\n                }\n                props.dispatch(currentLayer(props.currentLayer + 1))\n                const breadcrumb = {\n                    name,\n                    docID, \n                }\n                const breadcrumbsCopy = [...props.breadcrumbs]\n                breadcrumbsCopy.push(breadcrumb)\n                props.dispatch(breadcrumbs(breadcrumbsCopy))\n            })\n        }else{\n            openFile(type, docID)\n        }\n    }\n\n    const openFile = (fileType, docID) => {\n        const location = `/writing-app/edit/${fileType}/${docID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    const sortProjectsDateAsc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.type.localeCompare(a.type)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const changeSortOrder = (sortType) => {\n        let sortMethodToUse\n        let sortMethodName\n        if(sortType === 'name') {\n            if(props.sortMethod === 'nameDesc') {\n                sortMethodToUse = sortProjectsNameAsc\n                sortMethodName = 'nameAsc'\n            }else{\n                sortMethodToUse = sortProjectsNameDesc\n                sortMethodName = 'nameDesc'\n            }\n        }\n        if(sortType === 'type') {\n            if(props.sortMethod === 'typeDesc') {\n                sortMethodToUse = sortProjectsTypeAsc\n                sortMethodName = 'typeAsc'\n            }else{\n                sortMethodToUse = sortProjectsTypeDesc\n                sortMethodName = 'typeDesc'\n            }\n        }\n        if(sortType === 'date') {\n            if(props.sortMethod === 'dateDesc') {\n                sortMethodToUse = sortProjectsDateAsc\n                sortMethodName = 'dateAsc'\n            }else{\n                sortMethodToUse = sortProjectsDateDesc\n                sortMethodName = 'dateDesc'\n            }\n        }\n        props.dispatch(sortMethod(sortMethodName))\n        if(props.rootDocs.length > 0) {\n            props.dispatch(rootDocs(props.rootDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerOneDocs.length > 0) {\n            props.dispatch(layerOneDocs(props.layerOneDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerTwoDocs.length > 0) {\n            props.dispatch(layerTwoDocs(props.layerTwoDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerThreeDocs.length > 0) {\n            props.dispatch(layerThreeDocs(props.layerThreeDocs.sort(sortMethodToUse)))\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc('preferences')\n        .update({\n            sortMethod: sortMethodName\n        })\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHeadComponent name='Name' sortType='name' sortMethodValue1='nameDesc' sortMethodValue2='nameAsc' sortMethod={props.sortMethod} changeSortOrder={changeSortOrder} />\n                        <TableHeadComponent name='Type' sortType='type' sortMethodValue1='typeDesc' sortMethodValue2='typeAsc' sortMethod={props.sortMethod} changeSortOrder={changeSortOrder} />\n                        <TableHeadComponent name='Last modified' sortType='date' sortMethodValue1='dateDesc' sortMethodValue2='dateAsc' sortMethod={props.sortMethod} changeSortOrder={changeSortOrder} />\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBodyComponent selectItem={selectItem} selectProject={selectProject} showRenameProject={showRenameProject} showDeleteProject={showDeleteProject} buttonPress={buttonPress} currentLayer={props.currentLayer} folderMap={folderMap} />\n            </Table> \n            <RenameDocModal showRenameModal={showRenameModal} projectSelectedData={props.projectSelectedData} setShowRenameModal={setShowRenameModal} />\n            <DeleteProjectModal showDeleteModal={showDeleteModal} projectSelectedData={props.projectSelectedData} setShowDeleteModal={setShowDeleteModal} />\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    rootDocs: state.app.rootDocs,\n    currentLayer: state.app.currentLayer,\n    currentProjectID: state.app.currentProjectID,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    sortMethod: state.dashboard.sortMethod,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    padding: 10px 15px;\n    border-bottom: 2px solid var(--primary-text);\n    border-top: 2px solid var(--primary-text);\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n    white-space: nowrap;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport CreateDocModal from './CreateDocModal'\nimport NewDocListItem from './NewDocListItem'\nimport {\n    Menu,\n    MenuList,\n    MenuButton,\n} from \"@reach/menu-button\";\nimport \"@reach/menu-button/styles.css\";\nimport ProjectsTable from './DocsTable'\nimport { rootDocs, currentLayer } from '../../../redux/actions/appActions'\nimport { sortMethod } from '../../../redux/actions/dashboardActions'\nconst AllFiles = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    const [projectSelectedData, setProjectSelectedData] = useState({})\n    const [createType, setCreateType] = useState('')\n    useEffect(()=> {\n        if(props.userData.userID) {\n            getInitialFilesAndFolders()\n        }\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjectsDateAsc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const getInitialFilesAndFolders = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', props.userData.userID)\n        .get()\n        .then(data=> {\n            const projectArr = []\n            let sortMethodType\n            data.forEach(project=> {\n                const docData = project.data()\n                if(docData.sortMethod) {\n                    sortMethodType = docData.sortMethod\n                    props.dispatch(sortMethod(docData.sortMethod))\n                }else{\n                    projectArr.push(docData)\n                }\n            })\n            props.dispatch(currentLayer(0))\n            if(sortMethodType==='dateAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateAsc)))\n            if(sortMethodType==='dateDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateDesc)))\n            if(sortMethodType==='nameAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameAsc)))\n            if(sortMethodType==='nameDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameDesc)))\n            if(sortMethodType==='typeAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeAsc)))\n            if(sortMethodType==='typeDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeDesc)))\n        })\n    }\n\n    const openModal = (type) => {\n        setIsCreateProjectModal(true)\n        setCreateType(type)\n    }\n\n    return(\n        <Container>\n            <CreateDocModal isCreateProjectModal={isCreateProjectModal} projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} createType={createType} getProjects={getInitialFilesAndFolders} setIsCreateProjectModal={setIsCreateProjectModal} />\n            <Menu>\n                <CreateNew><Plus>+</Plus> Create new</CreateNew>\n                <List>\n                    <NewDocListItem docType='folder' openModal={openModal}><path d=\"M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z\"/></NewDocListItem>\n                    <NewDocListItem docType='screenplay' openModal={openModal}><path d=\"M21.155 8.64c-.909 1.519-2.327 3.067-4.097 3.004-.413.706-.852 1.677-1.339 2.803l-1.312.553c.936-2.343 2.231-4.961 3.698-6.994-.67.529-1.746 1.637-2.662 2.783-1.098-1.828-.3-3.691.973-5.179.021.641.359 1.196.601 1.475-.087-.53-.114-1.489.195-2.351.718-.732 1.364-1.271 2.113-1.76-.083.478.08 1.026.262 1.361.024-.49.224-1.43.521-1.84.924-.727 2.332-1.373 3.892-1.495-.081.973-.436 2.575-1.024 3.604-.515.404-1.221.68-1.791.833.493.089 1.031.077 1.494-.001-.269.743-.552 1.428-.998 2.276-.679.468-1.578.732-2.203.825.46.187 1.272.245 1.677.103zm-13.841 3.805l.645.781 4.773-2.791-.668-.768-4.75 2.778zm6.96-.238l-.668-.767-4.805 2.808.645.781 4.828-2.822zm4.679.007c-.421.203-.851.341-1.286.398-.12.231-.246.494-.377.773l.298.342c.623.692.459 1.704-.376 2.239-.773.497-5.341 3.376-6.386 4.035-.074-.721-.358-1.391-.826-1.948-.469-.557-6.115-7.376-7.523-9.178-.469-.6-.575-1.245-.295-1.816.268-.549.842-.918 1.43-.918.919 0 1.408.655 1.549 1.215.16.641-.035 1.231-.623 1.685l1.329 1.624 7.796-4.446c1.422-1.051 1.822-2.991.93-4.513-.618-1.053-1.759-1.706-2.978-1.706-1.188 0-.793-.016-9.565 4.475-1.234.591-2.05 1.787-2.05 3.202 0 .87.308 1.756.889 2.487 1.427 1.794 7.561 9.185 7.616 9.257.371.493.427 1.119.15 1.673-.277.555-.812.886-1.429.886-.919 0-1.408-.655-1.549-1.216-.156-.629.012-1.208.604-1.654l-1.277-1.545c-.822.665-1.277 1.496-1.377 2.442-.232 2.205 1.525 3.993 3.613 3.993.596 0 1.311-.177 1.841-.51l9.427-5.946c.957-.664 1.492-1.781 1.492-2.897 0-.745-.24-1.454-.688-2.003l-.359-.43zm-7.933-10.062c.188-.087.398-.134.609-.134.532 0 .997.281 1.243.752.312.596.226 1.469-.548 1.912l-5.097 2.888c-.051-1.089-.579-2.081-1.455-2.732l5.248-2.686zm2.097 13.383l.361-.905.249-.609-3.449 2.017.645.781 2.194-1.284z\"/></NewDocListItem>\n                    <NewDocListItem docType='outline' openModal={openModal}><path d=\"M4 4v20h20v-20h-20zm18 18h-16v-13h16v13zm-3-3h-10v-1h10v1zm0-3h-10v-1h10v1zm0-3h-10v-1h10v1zm2-11h-19v19h-2v-21h21v2z\"/></NewDocListItem>\n                    <NewDocListItem docType='notes' openModal={openModal}><path d=\"M4 22v-20h16v11.543c0 4.107-6 2.457-6 2.457s1.518 6-2.638 6h-7.362zm18-7.614v-14.386h-20v24h10.189c3.163 0 9.811-7.223 9.811-9.614zm-5-1.386h-10v-1h10v1zm0-4h-10v1h10v-1zm0-3h-10v1h10v-1z\"/></NewDocListItem>\n                </List>\n            </Menu>\n            <ProjectsTable projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(AllFiles)\n\nconst Container = styled.div`\n    width: 75vw;\n`\n\nconst Plus = styled.span`\n    font-size: 1.75rem;\n    margin-right: 5px;\n    background-color: inherit;\n    color: inherit;\n`\n\nconst CreateNew = styled(MenuButton)`\n    background-color: var(--primary-text);\n    color: var(--sidebar);\n    padding: 8px 15px;\n    border-radius: 10px;\n    margin: 0px 0 20px 0;\n    display: flex;\n    align-items: center;\n    font-size: .875rem;\n`\n\nconst List = styled(MenuList)`\n    min-width: 100px;\n    background-color: var(--sidebar);\n`","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport AllFiles from './AllFiles'\nimport { connect } from 'react-redux'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n        })\n    }\n\n    return(\n        <div>\n            <AllFiles />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport IconComponent from '../../../Icons/IconComponent'\nimport { connect } from 'react-redux'\nimport { dashboardCurrentSection } from '../../../redux/actions/appActions'\n\nconst Sidebar = (props) => {\n\n    const navigateSidebar = (menuItem) => {\n        // if(menuItem==='projects') getProjects()\n        // if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <Logo>Redraft</Logo>\n            <UL>\n                <LI>\n                <Link style={{textDecoration: 'none'}} to='/writing-app/dashboard'>\n                    <LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'var(--highlight)' : 'transparent'} hover={props.dashboardCurrentSection!=='projects' ? 'var(--highlight)' : 'transparent'} >\n                    {/* <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" /> */}\n                    <Icon><IconComponent><path d=\"M6 22v-16h16v7.543c0 4.107-6 2.457-6 2.457s1.518 6-2.638 6h-7.362zm18-7.614v-10.386h-20v20h10.189c3.163 0 9.811-7.223 9.811-9.614zm-10 1.614h-5v-1h5v1zm5-4h-10v1h10v-1zm0-3h-10v1h10v-1zm2-7h-19v19h-2v-21h21v2z\"/></IconComponent></Icon>\n                    <NavigationItem>All files</NavigationItem>\n                    </LiButton>\n                </Link>\n                </LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'var(--highlight)' : 'transparent'} hover={props.dashboardCurrentSection!=='analytics' ? 'var(--highlight)' : 'transparent'}>\n                    <Icon><IconComponent><path d=\"M13 12.414v-12.364c6.158.51 11 5.66 11 11.95 0 6.627-5.373 12-12 12-2.953 0-5.654-1.072-7.744-2.842l8.744-8.744zm-2-12.364c-6.158.51-11 5.66-11 11.95 0 2.954 1.072 5.654 2.842 7.745l1.42-1.42c-1.412-1.725-2.262-3.928-2.262-6.325 0-5.177 3.953-9.446 9-9.949v-2.001z\"/></IconComponent></Icon>\n                    <NavigationItem>Analytics</NavigationItem>\n                </LiButton ></LI>\n                <LI>\n                <Link style={{textDecoration: 'none'}} to='/writing-app/dashboard/settings'>\n                    <LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'var(--highlight)' : 'transparent'} hover={props.dashboardCurrentSection!=='settings' ? 'var(--highlight)' : 'transparent'}>\n                    <Icon><IconComponent><path d=\"M24 14.187v-4.374c-2.148-.766-2.726-.802-3.027-1.529-.303-.729.083-1.169 1.059-3.223l-3.093-3.093c-2.026.963-2.488 1.364-3.224 1.059-.727-.302-.768-.889-1.527-3.027h-4.375c-.764 2.144-.8 2.725-1.529 3.027-.752.313-1.203-.1-3.223-1.059l-3.093 3.093c.977 2.055 1.362 2.493 1.059 3.224-.302.727-.881.764-3.027 1.528v4.375c2.139.76 2.725.8 3.027 1.528.304.734-.081 1.167-1.059 3.223l3.093 3.093c1.999-.95 2.47-1.373 3.223-1.059.728.302.764.88 1.529 3.027h4.374c.758-2.131.799-2.723 1.537-3.031.745-.308 1.186.099 3.215 1.062l3.093-3.093c-.975-2.05-1.362-2.492-1.059-3.223.3-.726.88-.763 3.027-1.528zm-4.875.764c-.577 1.394-.068 2.458.488 3.578l-1.084 1.084c-1.093-.543-2.161-1.076-3.573-.49-1.396.581-1.79 1.693-2.188 2.877h-1.534c-.398-1.185-.791-2.297-2.183-2.875-1.419-.588-2.507-.045-3.579.488l-1.083-1.084c.557-1.118 1.066-2.18.487-3.58-.579-1.391-1.691-1.784-2.876-2.182v-1.533c1.185-.398 2.297-.791 2.875-2.184.578-1.394.068-2.459-.488-3.579l1.084-1.084c1.082.538 2.162 1.077 3.58.488 1.392-.577 1.785-1.69 2.183-2.875h1.534c.398 1.185.792 2.297 2.184 2.875 1.419.588 2.506.045 3.579-.488l1.084 1.084c-.556 1.121-1.065 2.187-.488 3.58.577 1.391 1.689 1.784 2.875 2.183v1.534c-1.188.398-2.302.791-2.877 2.183zm-7.125-5.951c1.654 0 3 1.346 3 3s-1.346 3-3 3-3-1.346-3-3 1.346-3 3-3zm0-2c-2.762 0-5 2.238-5 5s2.238 5 5 5 5-2.238 5-5-2.238-5-5-5z\"/></IconComponent></Icon>\n                    <NavigationItem>Settings</NavigationItem>\n                </LiButton></Link></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'var(--highlight)' : 'transparent'} hover={props.dashboardCurrentSection!=='deleted' ? 'var(--highlight)' : 'transparent'}>\n                    {/* <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" /> */}\n                    <Icon><IconComponent><path d=\"M9 19c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5-17v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712zm-3 4v16h-14v-16h-2v18h18v-18h-2z\"/></IconComponent></Icon>\n                    <NavigationItem>Deleted</NavigationItem>\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst NavigationItem = styled.p`\n    /* text-decoration: none; */\n`\n\nconst Container = styled.div`\n    width: 18vw;\n    /* margin: 0 0 0 20px; */\n    padding: 0 20px;\n    /* background-color: hsl(0, 0%, 97%); */\n    background-color: var(--sidebar);\n    height: 100vh;\n    /* margin-top: 115px; */\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    display: flex;\n    border: none;\n    padding: 10px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    border-radius: 5px;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.div`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: -3px;\n`\n\nconst Logo = styled.h1`\n    font-size: 1.5rem;\n    font-weight: 700;\n    display: grid;\n    justify-content: center;\n    padding: 20px;\n    margin: 30px 0 70px 0;\n`","import { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport firebase from 'firebase'\nimport { colorThemes } from '../../../redux/actions/appActions'\nimport { useState } from 'react'\nimport styled from 'styled-components'\n\nconst ColorSelection = (props) => {\n    const [name, setName] = useState('')\n\n    const changeColor = (type) => {\n        const color = document.getElementById(type).value\n        props.dispatch(colorThemes({\n            ...props.colorThemes,\n            [type]: color,\n            name: null,\n        }))\n        db.collection('users')\n        .doc(props.userData.userID)\n        .update({\n            ['preferences.colors.' + type]: color,\n        })\n        .catch(err=>console.log(err))\n    }\n\n    const saveTheme = () => {\n        const colors = {\n            background: document.getElementById('background').value,\n            primaryText: document.getElementById('primaryText').value,\n            sidebar: document.getElementById('sidebar').value,\n            highlight: document.getElementById('highlight').value,\n            name,\n        }\n        props.addTheme({\n            colors,\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('page-preferences')\n        .doc('color-themes')\n        .update({\n            themes: firebase.firestore.FieldValue.arrayUnion({\n                colors,\n            })\n        })\n    }\n\n    return(\n        <Container>\n            <h1>Change colors</h1>\n            <ColorPickers>\n                <Picker>\n                    <label htmlFor='background'>Background:</label>\n                    <input defaultValue={props.colorThemes.background} onChange={()=>changeColor('background')} type='color' id='background' />\n                </Picker>\n                <Picker>\n                    <label htmlFor='primaryText'>Primary text:</label>\n                    <input defaultValue={props.colorThemes.primaryText} onChange={()=>changeColor('primaryText')} type='color' id='primaryText' />\n                </Picker>\n                <Picker>\n                    <label htmlFor='sidebar'>Sidebar:</label>\n                    <input defaultValue={props.colorThemes.sidebar} onChange={()=>changeColor('sidebar')}type='color' id='sidebar' />\n                </Picker>\n                <Picker>\n                    <label htmlFor='highlight'>Highlight:</label>\n                    <input defaultValue={props.colorThemes.highlight} onChange={()=>changeColor('highlight')}type='color' id='highlight' />\n                </Picker>\n            </ColorPickers>\n            <input onChange={(e)=>setName(e.target.value)}></input>\n            <button onClick={saveTheme}>Save theme</button>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    colorThemes: state.app.colorThemes,\n})\n\nexport default connect(mapStateToProps)(ColorSelection)\n\nconst Container = styled.div`\n\n`\n\nconst ColorPickers = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    margin: 40px 0;\n    gap: 30px;\n`\n\nconst Picker = styled.div`\n\n`","import styled from 'styled-components'\n\nconst ColorThemeCard = (props) => {\n    return(\n        <Option isSelected={props.theme.colors.name}>\n            <SelectOption onClick={()=>props.selectTheme(props.theme.colors)}>\n                {props.theme.colors.name}\n            </SelectOption>\n            {props.theme.colors.isDefault===false &&\n                <DeleteOption>X</DeleteOption>\n            }\n            <Colors>\n                {Object.entries(props.theme.colors).map((color, index)=> {\n                    return(\n                        color[0] !== 'name' && color[0] !== 'isDefault' &&\n                        <Color backgroundColor={color[1]} key={index}></Color>\n                    )\n                })}\n            </Colors>\n        </Option>\n    )\n}\n\nexport default ColorThemeCard\n\nconst Color = styled.div`\n    background-color: ${props=>props.backgroundColor};\n    height: 15px;\n    width: 15px;\n    border: 1px solid var(--primary-text);\n`\n\nconst Colors = styled.div`\n    display: flex;\n    gap: 5px;\n`\n\nconst SelectOption = styled.button`\n\n`\n\nconst DeleteOption = styled.button`\n\n`\n\nconst Option = styled.article`\n    background-color: var(--sidebar);\n    padding: 10px;\n    margin: 5px 5px 5px 0px;\n    width: 200px;\n    height: 50px;\n    outline: ${props=>props.isSelected===null ? 'transparent' : '1px solid white'}\n`","import { connect } from 'react-redux'\nimport { colorThemes } from '../../../redux/actions/appActions'\nimport { db } from '../../../firebase'\nimport ColorThemeCard from './ColorThemeCard'\nimport styled from 'styled-components'\n\nconst ColorTemplates = (props) => {\n\n    const updateColorPickers = (colorsArray) => {\n        colorsArray.forEach(color=> {\n            if(color[0] === 'name') return\n            if(color[0] === 'isDefault') return\n            document.getElementById(color[0]).value = color[1]\n        })\n    }\n\n    const selectTheme = (themeColors) => {\n        updateColorPickers(Object.entries(themeColors))\n        props.dispatch(colorThemes(themeColors))\n        db.collection('users')\n        .doc(props.userData.userID)\n        .update({\n            'preferences.colors': themeColors,\n        })\n        .catch(err=>console.log(err))\n    }\n\n    return(\n        <div>\n            Color Themes:\n            <Container>\n            {props.themes.map((theme, index)=> {\n                return(\n                    <ColorThemeCard selectTheme={selectTheme} theme={theme} key={index} />\n                )\n            })}\n            </Container>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    colorThemes: state.app.colorThemes,\n})\n\nexport default connect(mapStateToProps)(ColorTemplates)\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n`","import { db } from '../../../firebase'\nimport { useEffect, useState } from 'react'\nimport ColorSelection from './ColorSelection'\nimport ColorTemplates from './ColorTemplates'\nimport { connect } from 'react-redux'\n\nconst ChangeColors = (props) => {\n\n    const [themes, setThemes] = useState([])\n\n    useEffect(()=> {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('page-preferences')\n        .doc('color-themes')\n        .get()\n        .then(data=> {\n            setThemes(data.data().themes)\n        })\n        // eslint-disable-next-line\n    }, [])\n\n    const addTheme = (theme) => {\n        const themesCopy = [...themes]\n        themesCopy.push(theme)\n        setThemes(themesCopy)\n    }\n\n    return(\n        <div>\n            <ColorSelection addTheme={addTheme} />\n            <ColorTemplates themes={themes} />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n})\n\nexport default connect(mapStateToProps)(ChangeColors)","import ChangeColors from './ChangeColors/ChangeColors'\n\nconst Settings = () => {\n    return(\n        <div>\n            <ChangeColors />\n        </div>\n    )\n}\n\nexport default Settings","import styled from \"styled-components\";\nimport { connect } from 'react-redux'\nimport { \n    currentLayer,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n } from '../../redux/actions/appActions'\nimport { breadcrumbs } from '../../redux/actions/dashboardActions'\n\nconst Breadcrumbs = (props) => {\n\n    const breadcrumbRoute = (indexToRoute) => {\n        props.dispatch(currentLayer(indexToRoute))\n        const crumbsCopy = [...props.breadcrumbs]\n        const breadcrumbsReduced = crumbsCopy.slice(0, indexToRoute+1)\n        props.dispatch(breadcrumbs(breadcrumbsReduced))\n        if(indexToRoute <= 0) props.dispatch(layerOneDocs([]))\n        if(indexToRoute <= 1) props.dispatch(layerTwoDocs([]))\n        if(indexToRoute <= 2) props.dispatch(layerThreeDocs([]))\n    }\n\n    return(\n        <Container>\n            {props.breadcrumbs.map((crumb, index)=> {\n                return(\n                    <Crumb onClick={()=>breadcrumbRoute(index)} key={index}>{crumb.name}</Crumb>\n                )\n            })}\n        </Container>\n    )\n} \n\nconst mapStateToProps = state => ({\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootLayer: state.app.rootLayer,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(Breadcrumbs)\n\nconst Crumb = styled.button`\n    cursor: pointer;\n    font-size: 1.75rem;\n    font-weight: 500;\n    &:not(:first-of-type) {\n        margin-left: 5px;\n        &:before {\n            margin-right: 5px;\n            content: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAzbDMuMDU3LTMgMTEuOTQzIDEyLTExLjk0MyAxMi0zLjA1Ny0zIDktOXoiLz48L3N2Zz4=\");\n        }\n    }\n    &:not(:last-of-type) {\n        margin-left: 5px;\n        opacity: 0.6;\n        font-size: 1.7rem;\n        font-weight: 400;\n    }\n    &:hover{\n        opacity: 1;\n    }\n`\n\nconst Container = styled.nav`\n    display: flex;\n    margin: 20px 0;\n`","// import Projects from './FilesList/Projects'\nimport styled from 'styled-components'\nimport { Route } from 'react-router-dom'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport Settings from '../Settings/Settings'\nimport { connect } from 'react-redux'\nimport Breadcrumbs from './Breadcrumbs'\nconst Dashboard = () => {\n    return(\n        <Container>\n            <Sidebar />\n            <FilesContainer>\n                <Route exact path='/writing-app/dashboard' render={(props)=> (\n                    <div>\n                        <Breadcrumbs />\n                        <FilesList {...props} />\n                    </div>\n                )} />\n                <Route exact path='/writing-app/dashboard/settings' render={(props)=> (\n                    <Settings {...props} />\n                )} />\n            </FilesContainer>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n\nexport const FilesContainer = styled.div`\n    padding: 0 10px 0 50px;\n`\n\nexport const Container = styled.div`\n    /* width: 100vw;  */\n    display: flex;\n`","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n        props.dispatch(outlineItemsForUpdate(newOutline))\n\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowEditModal(false)\n            document.getElementById(`card-edit-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal onDismiss={()=>props.setShowEditModal(false)} aria-label='edit card' isOpen={props.showEditModal}>\n            <Header>Edit card</Header>\n            <div>\n                <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                <div style={{marginBottom: '20px'}}></div>\n                <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n            </div>\n            <div>\n                <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                <Save onClick={saveCardEdits}>Save</Save>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled(Dialog)`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n            document.getElementById(`card-delete-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal aria-label='delete card dialog' isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)}>\n            <Header>Delete card</Header>\n            <p>Are you sure you want to delete this card?</p>\n            <div>\n                <Cancel onKeyDown={closeModal} onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                <Delete onClick={deleteCard}>Delete</Delete>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        // document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props?.outlineItemsForUpdate?.length + 1)\n        // eslint-disable-next-line \n    }, [props.outlineItemsForUpdate])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Modal aria-label='create card' isOpen={props.showCreateModal} onDismiss={()=>props.setShowCreateModal(false)}>\n            <Header>Create new card</Header>\n            <Label>Title</Label>\n            <Title onChange={(e)=>setTitle(e.target.value)} />\n            <Label>Description</Label>\n            <Description onChange={(e)=>setText(e.target.value)} />\n            <Label>Insert at location:</Label>\n            <div>\n                <Location defaultValue={props.outlineItemsForUpdate.length + 1} id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineItemsDisplay.length + 1}\n            </div>\n            <div style={{display: 'flex'}}>\n                <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                <Create onClick={createNewOutlineCard}>Create</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport IconComponent from '../../../Icons/IconComponent'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <IconBackgroundContainer id={`card-edit-button-${props.index}`} role='button' onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)}>\n                            <IconTitle>Rename</IconTitle>\n                            <IconBackground />\n                            <Icon>\n                                <IconComponent>\n                                    <path d=\"M18.363 8.464l1.433 1.431-12.67 12.669-7.125 1.436 1.439-7.127 12.665-12.668 1.431 1.431-12.255 12.224-.726 3.584 3.584-.723 12.224-12.257zm-.056-8.464l-2.815 2.817 5.691 5.692 2.817-2.821-5.693-5.688zm-12.318 18.718l11.313-11.316-.705-.707-11.313 11.314.705.709z\"/>\n                                </IconComponent>\n                            </Icon>\n                            {/* <Icon alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" /> */}\n                        </IconBackgroundContainer>\n                        \n                        <IconBackgroundContainer id={`card-delete-button-${props.index}`} role='button' onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)}>\n                            <IconTitle>Delete</IconTitle>\n                            <IconBackground />\n                            <Icon>\n                                <IconComponent>\n                                    <path d=\"M9 19c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5-17v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712zm-3 4v16h-14v-16h-2v18h18v-18h-2z\"/>\n                                </IconComponent>\n                            </Icon>\n                            {/* <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" /> */}\n                        </IconBackgroundContainer>\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n    font-size: 1rem;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    /* background-color: lightblue; */\n    background-color: var(--background);\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    /* color: hsl(0, 0%, 40%); */\n    color: var(--primary-text);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.div` \n    transform: translate(-50%, -50%) scale(.7);\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    /* transform: ; */\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    /* color: hsl(0, 0%, 40%); */\n    color: var(--primary-text);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.article`\n    font-size: 1.3rem; \n    /* background-color: hsl(0, 0%, 95%);  */\n    background-color: var(--sidebar);\n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/writing-app/dashboard'>\n                <div>Home</div>\n            </Link>\n            {props?.outlineData?.name}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n\n            <EditCardModal showEditModal={showEditModal} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            \n\n            <DeleteCardModal showDeleteModal={showDeleteModal} setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n\n\n            <CreateCardModal showCreateModal={showCreateModal} itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\n\nconst Autocomplete = (props) => {\n    return(\n        <AutocompleteContainer >\n            <AutocompleteBackground position={props.position}>\n                {props.items.map((item, index)=> {\n                    return <AutocompleteItem isSelected={index===props.index} key={item}>{item}</AutocompleteItem>\n                })}\n            </AutocompleteBackground>\n        </AutocompleteContainer>\n    )\n}\n\nexport default Autocomplete\n\nconst AutocompleteContainer = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n`\n\nconst AutocompleteBackground = styled.div`\n    position: absolute;\n    top: ${props=>props.position.top};\n    left: ${props=>props.position.left};\n    display: ${props=>props.position.display};\n    flex-direction: column;\n    font-family: 'Courier New', Courier, monospace;\n    background-color: white;\n    border-radius: 5px;\n`\n\nconst AutocompleteItem = styled.span`\n    padding: 8px;\n    font-family: 'Courier New', Courier, monospace;\n    font-weight: 600;\n    color: black;\n    background-color: ${props=>props.isSelected ? 'hsl(217, 49%, 94%)' : 'transparent'};\n    &:first-of-type {\n        border-radius: 5px 5px 0 0;\n    }\n    &:last-of-type {\n        border-radius: 0 0 5px 5px;\n    }\n`","import styled from 'styled-components'\n\n//components \n\nexport const Dialog = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <DialogStyles {...props.attributes}>{props.children}</DialogStyles>\n        </CenteredItemsContainer>\n    )\n}\n\nexport const Character = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <CharacterStyles {...props.attributes}>{props.children}</CharacterStyles>\n        </CenteredItemsContainer>\n    )\n}\n\nexport const SceneHeading = (props) => {\n    return <SceneHeadingStyles {...props.attributes}>{props.children}</SceneHeadingStyles>\n}\n\nexport const Paragraph = (props) => {\n    return <ParagraphStyles {...props.attributes}>{props.children}</ParagraphStyles>\n}\n\nexport const Transition = (props) => {\n    return <TransitionStyles {...props.attributes}>{props.children}</TransitionStyles>\n}\n\nexport const Parenthetical = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <ParentheticalStyles {...props.attributes}>{props.children}</ParentheticalStyles>\n        </CenteredItemsContainer>\n    )\n}\n\n//styles \n\nexport const TransitionStyles = styled.p`\n    font-weight: 500;\n    display: flex;\n    justify-content: flex-end;\n    /* color: red; */\n    font-family: 'Courier New', Courier, monospace;\n    text-transform: uppercase;\n    margin-left: 1px;\n    transform: translate(-1px);\n`\n\nexport const SceneHeadingStyles = styled.p`\n    font-weight: 600;\n    text-transform: uppercase;\n    font-family: 'Courier New', Courier, monospace;\n`\n\nexport const ParagraphStyles = styled.p`\n    /* color: blue; */\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 1rem;\n    max-width: 60ch;\n`\n\nexport const CenteredItemsContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    margin-left: 1px;\n    transform: translate(-1px);\n`\n\nexport const CharacterStyles = styled.p`\n    /* text-align: center; */\n    font-family: 'Courier New', Courier, monospace;\n    /* color: orange; */\n`\n\nexport const ParentheticalStyles = styled.p`\n    font-family: 'Courier New', Courier, monospace;\n    width: 26ch;\n    /* color: brown; */\n`\n\nexport const DialogStyles = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n    width: 34ch;\n`\n\nexport const Container = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n    width: 60vw;\n    max-width: 600px;\n    margin: 0 auto;\n`\n\n// dropdown items\nexport const TIME_OF_DAY = [\n    'DAWN',\n    'MORNING',\n    'DAY',\n    'AFTERNOON',\n    'DUSK',\n    'NIGHT',\n    'EVENING',\n]","// @refresh reset\nimport { createEditor, Editor, Transforms, Range } from 'slate'\nimport { Slate, Editable, withReact, ReactEditor } from 'slate-react'\nimport { useMemo, useState, useCallback, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport Autocomplete from './Autocomplete'\nimport {\n    TIME_OF_DAY,\n    Container,\n    Dialog,\n    SceneHeading,\n    Paragraph,\n    Transition,\n    Character,\n    Parenthetical\n} from './EditorAssets'\n\nconst EditorInterface = (props) => {\n    const editor = useMemo(()=> withReact(createEditor()), [])\n    // const [value, setValue] = useState([{type: 'paragraph', children: [{text: ''}]}])\n    const [target, setTarget] = useState()\n    const [index, setIndex] = useState(0)\n    const [position, setPosition] = useState({top: '-9999px', left: '-9999px', display: 'none',})\n    const [searchType, setSearchType] = useState('')\n    const [searchQuery, setSearchQuery] = useState('')\n\n    const searchMap = {\n        names: props.characters,\n        times: TIME_OF_DAY,\n        locations: props.locations,\n    }\n\n    const searchResults = searchMap[searchType]?.filter(item=> {\n        return item.startsWith(searchQuery.toUpperCase()) && item!==searchQuery.toUpperCase()\n    })\n\n    useEffect(() => {\n        if(editor.selection) {\n            const { path } = editor.selection.focus\n            const currentText = props.value[path[0]]?.children[0]?.text\n            if (target && searchType.length > 0 && searchResults?.length > 0 && currentText?.length > 0) {\n                const domRange = ReactEditor.toDOMRange(editor, target)\n                const rect = domRange.getBoundingClientRect()\n                setPosition({\n                    top: `${rect.top + window.pageYOffset + 25}px`,\n                    left: `${rect.left + window.pageXOffset}px`,\n                    display: 'flex',\n                })\n            }else{\n                setPosition({\n                    top: '-9999px',\n                    left: '-9999px',\n                    display: 'none'\n                })\n            }\n        }\n        // eslint-disable-next-line \n    }, [searchResults?.length, searchType, editor.selection, searchQuery, target])\n    \n    const renderElement = useCallback((props)=> {\n        const { type } = props.element\n        if(type==='character') return <Character {...props} />\n        if(type==='dialog') return <Dialog {...props} />\n        if(type==='heading') return <SceneHeading {...props} />\n        if(type==='transition') return <Transition {...props} />\n        if(type==='parenthetical') return <Parenthetical {...props} />\n        return <Paragraph {...props} />\n    }, [])\n\n    const functions = {\n        checkTransition(e, currentText) {\n            if(e.code==='Semicolon' \n            && e.shiftKey\n            && currentText === currentText.toUpperCase()\n            ) {\n                this.setNode('transition')\n                return true\n            }\n            return false\n        },\n        checkDescription(path, e, currentText) {\n            const previousText = props.value[path[0]-1].children[path[1]].text \n            const previousPreviousType = props.value[path[0]-2].type\n            const currentTextUppercase = currentText.toUpperCase()\n            if(previousText === '' \n                && e.key !== 'Enter'\n                && !currentTextUppercase.includes('EXT.')\n                && !currentTextUppercase.includes('INT.')\n                && !currentTextUppercase.includes('INT./EXT.')\n                && previousPreviousType !== 'dialog'\n            ) {\n                this.setNode(null)\n                return true\n            }\n            return false\n        },\n        checkDialog(path) {\n            const previousText = props.value[path[0]-1].children[path[1]].text\n            const previousType = props.value[path[0]-1].type\n            if(\n                previousText === previousText.toUpperCase() \n                && previousText.length > 0\n                && previousText[previousText.length - 1] !== ':'\n            ) {\n                Transforms.setNodes(\n                    editor,\n                    { type: 'character' },\n                    { \n                        at: [path[0]-1],\n                        match: n => Editor.isBlock(editor, n),\n                        mode: 'lowest',\n                    },\n                )\n                this.setNode('dialog')\n                return true\n            }else if(previousText[0] === '(' || previousType==='character') {\n                this.setNode('dialog')\n                return true\n            }\n            return false\n        },\n        checkParenthetical(path, currentText, e) {\n            const character = props.value[path[0]-1].children[path[1]].text\n            if(character === character.toUpperCase() \n            && (currentText[0] === '(' || (e.key==='(' && e.shiftKey))\n            ) {\n                this.setNode('parenthetical')\n                Transforms.setNodes(\n                    editor,\n                    { type: 'character' },\n                    { \n                        at: [path[0]-1],\n                        match: n => Editor.isBlock(editor, n),\n                        mode: 'lowest',\n                    },\n                )\n                return true\n            }\n            return false\n        },\n        checkCharacter(path, currentText, currentType) {\n            if(path[0] > 1) {\n                const previousType = props.value[path[0]-2].type\n                if(\n                    previousType === 'dialog' \n                    && currentType\n                    && currentText === currentText.toUpperCase()\n                    && !currentText.includes('INT.')\n                    && !currentText.includes('EXT.')\n                    && !currentText.includes('INT./EXT.')\n                ) {\n                    this.setNode('character')\n                    return true\n                }\n            }\n            return false\n        },\n        incrementIndex(e) {\n            if(e.key==='ArrowUp') {\n                e.preventDefault()\n                setIndex(index === 0 ? searchResults.length - 1 : index - 1)\n                return true\n            }\n            if(e.key==='ArrowDown') {\n                e.preventDefault()\n                setIndex(index === searchResults.length - 1 ? 0 : index + 1)\n                return true\n            }\n        },\n        timeSearch(newValue) {\n            const { path } = editor.selection.focus\n            const currentText = newValue[path[0]].children[0].text\n            if(!currentText.includes('-')) return\n            const splitValue = currentText.split('-')\n            if(splitValue.length > 1) {\n                setSearchQuery((splitValue[splitValue.length - 1]).trim())\n            }\n        },\n        insertNodes(type) {\n            const obj = {children: [{ text: '' }]}\n            if(type) obj['type'] = type\n            Transforms.insertNodes(editor, [obj])  \n        },\n        replaceLocation(path) {\n            const currentText = props.value[path[0]].children[path[1]].text\n            const intExt = currentText.split(' ')[0].toUpperCase() \n            const [endPosition] = Range.edges(editor.selection)\n            let offset = 0\n            if(intExt=== 'INT.' || intExt === 'EXT.') offset = 5\n            if(intExt=== 'INT./EXT.') offset = 10\n            const startPosition = { offset, path }\n            const range = Editor.range(editor, startPosition, endPosition)\n            this.insertText(searchResults[index], range)\n            if(!currentText.includes('-')) {\n                this.insertText(' - ')\n            }\n            setIndex(0)\n            setSearchQuery('')\n        },\n        handleDelete(path, e, type) {\n            const currentText = props.value[path[0]].children[path[1]].text\n            const offset = editor.selection.focus.offset\n            if(currentText.length > 0 && offset > 0) return\n            if(currentText === '' && (type==='heading' || !type)) return\n            e.preventDefault()\n            return this.setNode(null)\n        },\n        handleEnter(path, e, type) {\n            if(type === 'transition') {\n                editor.insertBreak()\n                return this.setNode(null)\n            }\n            if(!type) {\n                editor.insertBreak()\n            }\n            if(type === 'dialog') {\n                e.preventDefault()\n                this.insertNodes(null)\n                this.insertNodes('character')\n            }\n            if(type === 'parenthetical') {\n                e.preventDefault()\n                return this.insertNodes('dialog')\n            }\n            return this.handleReplace(path, e, type)\n        }, \n        setNode(newType) {\n            return Transforms.setNodes(\n                editor,\n                { type: newType },\n                { match: n => Editor.isBlock(editor, n) },\n            )\n        },\n        insertText(text, position) {\n            Transforms.insertText(\n                editor,\n                text, \n                { at: position }\n            )\n        },\n        replaceCharacter(path) {\n            this.insertText(searchResults[index], [path[0]])\n            props.addCharacter(searchResults[index])\n            if(props.value[path[0]].type==='character') {\n                this.insertNodes('dialog')\n            }else{\n                editor.insertBreak()\n            }\n        },\n        replaceTime(path) {\n            const [endPosition] = Range.edges(editor.selection)\n            const startPosition = Editor.before(editor, endPosition, { unit: 'word' })\n            const range =  Editor.range(editor, startPosition, endPosition)\n            this.insertText(searchResults[index], range)\n            this.insertNodes(null)\n            const heading = props.value[path[0]].children[0].text\n            props.addLocation(heading)\n            return this.insertNodes(null)\n        },\n        handleReplace(path, e, type) {\n            if(searchResults?.length > 0 && searchType==='locations' && searchQuery.length>0) {\n                e.preventDefault()\n                return functions.replaceLocation(path)\n            }\n\n            if(searchResults?.length > 0 && searchType.length > 0 && searchQuery.length>0) {\n                e.preventDefault()\n                setSearchQuery('')\n                setIndex(0)\n                if(searchType==='names') return functions.replaceCharacter(path)\n                return functions.replaceTime(path)\n            } else if (e.key==='Enter' && type === 'character') {\n                e.preventDefault()\n                const character = props.value[path[0]].children[0].text\n                props.addCharacter(character)\n                return this.insertNodes('dialog')\n            } else if (e.key==='Enter' && type === 'heading') {\n                e.preventDefault()\n                this.insertNodes(null)\n                const heading = props.value[path[0]].children[0].text\n                props.addLocation(heading)\n                return this.insertNodes(null)\n            }\n        },\n\n        checkHeading(splitText) {\n            const intExt = splitText[0].toUpperCase()\n            if(intExt === 'INT.' || intExt === 'EXT.' || intExt === 'INT./EXT.') {\n                this.setNode('heading')\n                return true\n            }\n            return false\n        },\n    }\n\n    const modifiers = (e) => {\n        if(props.isPreventSave) props.setIsPreventSave(false)\n        if(!editor.selection) return\n        if(searchQuery.length > 0 && searchType.length > 0 && searchResults.length > 0) {\n            if(functions.incrementIndex(e)) return\n        }\n        const { path } = editor.selection.focus\n        const { type } = props.value[path[0]]\n        const currentText = props.value[path[0]].children[0].text\n        const splitText = currentText.split(' ')\n        if (e.key==='Backspace') return functions.handleDelete(path, e, type)\n        if (e.key === 'Enter') return functions.handleEnter(path, e, type)\n        if (e.key === 'Tab') return functions.handleReplace(path, e, type)\n        if (functions.checkTransition(e, currentText)) return\n        if (functions.checkHeading(splitText)) return\n        if(path[0] > 1) {\n            if (functions.checkDescription(path, e, currentText)) return\n        }\n        if (functions.checkCharacter(path, currentText, type)) return\n        if(path[0] > 0) {\n            if (functions.checkParenthetical(path, currentText, e)) return\n            if (functions.checkDialog(path)) return\n        }\n    }\n\n    const namesOnChange = (newValue, path) => {\n        setSearchType('names')\n        setSearchQuery(newValue[path[0]].children[0].text)\n        const [endPosition] = Range.edges(editor.selection)\n        const startPosition = Editor.before(editor, endPosition, { unit: 'word' })\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const locationsOnChange = (startValue, joinedValue, path) => {\n        setSearchType('locations')\n        setSearchQuery(joinedValue.split('-')[0].trim())\n        const [endPosition] = Range.edges(editor.selection)\n        let offset = 0\n        const intExt = startValue.toUpperCase()\n        if(intExt=== 'INT.' || intExt === 'EXT.') offset = 4\n        if(intExt=== 'INT./EXT.') offset = 9\n        const startPosition = { offset, path }\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const timesOnChange = (newValue, currentText, path) => {\n        setSearchType('times')\n        functions.timeSearch(newValue)\n        const splitText = currentText.split('-')\n        splitText.pop()\n        const joinedText = splitText.join('')\n        let offset = joinedText.length + 1\n        const [endPosition] = Range.edges(editor.selection)\n        const startPosition = { path, offset }\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const handleOnChange = (newValue) => {\n        const { path } = editor.selection.focus\n        const currentText = newValue[path[0]]?.children[path[1]]?.text\n\n        if((currentText?.length > 0 || newValue[path[0]].type === 'character') && currentText===currentText.toUpperCase() && !currentText?.includes('INT.') && !currentText?.includes('EXT.') && !currentText?.includes('INT./EXT.')) {\n            namesOnChange(newValue, path)\n        }else if(newValue[path[0]].type === 'heading') {\n            const currentOffset = editor.selection.anchor.offset\n            const splitValue = currentText?.split(' ')\n            const startValue = splitValue.shift()\n            const joinedValue = splitValue.join(' ')\n            const minOffset = startValue.length\n            let maxOffset = Infinity\n            if(joinedValue.includes('-')){\n                const splitDash = joinedValue.split('-')\n                maxOffset = currentText.length - splitDash.length - 4\n            }\n            if(currentOffset > minOffset && currentOffset < maxOffset) {\n                locationsOnChange(startValue, joinedValue, path)\n            } else if (currentOffset > maxOffset) {\n                timesOnChange(newValue, currentText, path)\n            }\n        }else{\n            setTarget(null)\n            setSearchType('')\n        }\n    }\n\n    return(\n        <Container>\n            <Slate value={props.value} editor={editor} onChange={newValue => {\n                props.setValue(newValue)\n                if(editor.selection) {\n                    handleOnChange(newValue)\n                }\n            }}>\n                <Editable style={{boxShadow: 'none'}} autoFocus placeholder='Masterpiece goes here' onKeyDown={modifiers} renderElement={renderElement} />\n                {((searchQuery.length > 1 && searchType==='names') || (searchQuery.length > 0 && searchType==='names' && props.value[editor?.selection?.focus?.path[0]]?.type==='character')) &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n                {searchQuery.length > 0 && searchType==='locations' && searchResults?.length> 0 &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n                {searchQuery.length > 0 && searchType==='times' && searchResults.length> 0 &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n            </Slate>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n\n})\n\nexport default connect(mapStateToProps)(EditorInterface)","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport firebase from 'firebase'\nimport EditorInterface from './Editor'\n\nconst Screenplay = (props) => {\n    const [value, setValue] = useState([{type: 'paragraph', children: [{text: ''}]}])\n    const [isPreventSave, setIsPreventSave] = useState(true)\n    const [currentWords, setCurrentWords] = useState(0)\n    const [savingStatus, setSavingStatus] = useState('All changes saved')\n    const [characters, setCharacters] = useState([])\n    const [charactersObj, setCharactersObj] = useState({})\n    const [locations, setLocations] = useState([])\n    const [locationsObj, setLocationsObj] = useState({})\n\n    useEffect(()=> {\n        if(isPreventSave) return\n        updateSavingStatus('Saving...')\n        const save = setTimeout(()=> saveScript(value, props.userData.userID, props.match.params.fileID), 2000)\n        return ()=> clearTimeout(save)\n        // eslint-disable-next-line\n    }, [value])\n\n    useEffect(()=> {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(data=> {\n            const script = data.data().text\n            if(script.length > 0) {\n                setValue(script)\n                getCharacters(script)\n                getLocations(script)\n                setCurrentWords(getWords(script))\n            }\n        })\n        // eslint-disable-next-line\n    }, [])\n\n    const getWords = () => {\n        let words = 0\n        value.forEach(item=> {\n            if(item.children[0].text.length===0) return\n            let text = item.children[0].text.trim()\n            if(item.type==='heading') {\n                text = text.split(' -').join('').split(' ')\n            }else {\n                text = text.split(' ')\n            }\n            words += text.length\n        })\n        return words\n    }\n\n    const saveScript = (scriptObject, userID, scriptID) => {\n        const newWordCount = getWords(value)\n        const change = newWordCount - currentWords\n        setCurrentWords(newWordCount)\n        saveScriptToDatabase(scriptObject, userID, scriptID)\n        if(change > 0) return incrementWordsInDatabase(change)\n    }\n\n    const saveScriptToDatabase = (scriptObject, userID, scriptID) => {\n        db.collection('users')\n        .doc(userID)\n        .collection('files')\n        .doc(scriptID)\n        .update({\n            text: scriptObject\n        })\n        .then(()=> {\n            updateSavingStatus('All changes saved')\n        })\n    }\n\n    const incrementWordsInDatabase = (wordsAdded) => {\n        const wordsToAdd = firebase.firestore.FieldValue.increment(wordsAdded)\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('statistics')\n        .doc('words-written')\n        .update({\n            today: wordsToAdd,\n        })\n    }\n\n\n    const getCharacterCount = (scriptObject) => {\n        const characters = {}\n        scriptObject.forEach(item=> {\n            if(item?.type !== 'character') return\n            const name = item.children[0].text.toUpperCase()\n            incrementItem(name, characters)\n        })\n        return characters\n    }\n\n    const sortArray = (array) => {\n        array.sort((a, b)=> b[1] - a[1])\n        return array.map(item=> {\n            return item[0]\n        }) \n    }\n\n    const getCharacters = (scriptObject) => {\n        const characterCount = getCharacterCount(scriptObject)\n        setCharactersObj(characterCount)\n        const charactersArray =  Object.entries(characterCount)\n        const charactersList = sortArray(charactersArray)\n        setCharacters(charactersList)\n    }\n\n    const incrementItem = (itemName, itemCount) => {\n        if(itemCount[itemName]) {\n            return itemCount[itemName] += 1\n        }else{\n            return itemCount[itemName] = 1\n        }\n    }\n\n    const addCharacter = (characterName) => {\n        const characterUppercase = characterName.toUpperCase()\n        const characterCount = incrementItem(characterUppercase, {...charactersObj})\n        setCharactersObj(characterCount)\n        const charactersArray =  Object.entries(characters)\n        const charactersList = sortArray(charactersArray)\n        setCharacters(charactersList)\n    }\n\n\n\n\n    const getLocations = (scriptObject) => {\n        const locations = {}\n        scriptObject.forEach(item=> {\n            if(item?.type === 'heading') {\n                const heading = item.children[0].text\n                const splitHeading = heading.split(' ')\n                if(splitHeading.length > 1) {\n                    splitHeading.shift()\n                    const joined = splitHeading.join(' ')\n                    const splitDash = joined.split('-')\n                    splitDash.pop()\n                    splitDash.join('')\n                    const location = splitDash[0].trim().toUpperCase()\n                    incrementItem(location, locations)\n                } \n            }\n        })\n        setLocationsObj(locations)\n        const locationsArray =  Object.entries(locations)\n        const locationsList = sortArray(locationsArray)\n        setLocations(locationsList)\n    }\n\n    const addLocation = (heading) => {\n        const splitHeading = heading.split(' ')\n        if(splitHeading.length < 2) return\n        splitHeading.shift()\n        const joined = splitHeading.join(' ')\n        const splitDash = joined.split('-')\n        splitDash.pop()\n        splitDash.join('')\n        const location = splitDash[0].trim().toUpperCase()\n        const incrementedLocations = incrementItem(location, {...locationsObj})\n        setLocationsObj(incrementedLocations)\n        const locationsArray = Object.entries(incrementedLocations)\n        const locationsList = sortArray(locationsArray)\n        setLocations(locationsList)\n    }\n\n\n    const updateSavingStatus = (status) => {\n        setSavingStatus(status)\n    }\n\n    return(\n        <Container>\n            <button onClick={getWords}>Words</button>\n            {savingStatus}\n            <EditorInterface isPreventSave={isPreventSave} setIsPreventSave={setIsPreventSave} value={value} setValue={setValue} locations={locations} addLocation={addLocation} getLocations={getLocations} characters={characters} addCharacter={addCharacter} match={props.match} getCharacters={getCharacters} updateSavingStatus={updateSavingStatus} />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n})\n\nexport default connect(mapStateToProps)(Screenplay)\n\nexport const Container = styled.div`\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport fitTextarea from 'fit-textarea';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    const [lastSaved, setLastSaved] = useState(0)\n    const [savedStatus, setSavedStatus] = useState('All changes saved')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    \n    useEffect(()=> {\n        if(props.userData.userID) {\n            setSavedStatus('Saving...')\n            const timeout = setTimeout(()=>saveWork(), 1000)\n            return  ()=>clearTimeout(timeout)\n        }\n        // eslint-disable-next-line \n    }, [note])\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n            const textarea = document.getElementById('notes-textarea');\n            fitTextarea.watch(textarea);\n        })\n    }\n\n    window.onbeforeunload = function() {\n        if(savedStatus==='Saving...') {\n            return 'saving'\n        }\n    }\n\n    const sendToDatabase = (note) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n        })\n        .then(()=> {\n            console.log('work saved')\n            setSavedStatus('All changes saved')\n        })\n    }\n\n    const updateLastUpdatedFunction = (currentTime, collectionName, fileID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection(collectionName)\n        .doc(fileID)\n        .update({\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n    }\n\n    const updateLastUpdated = (currentTime) => {\n        if(currentTime - lastSaved > 600000) {\n            updateLastUpdatedFunction(currentTime, 'files-folders', props.match.params.fileID)\n            updateLastUpdatedFunction(currentTime, 'files-folders', String(props.notesData.docID))\n        }\n    }\n\n    const saveWork = () => {\n        const currentTime = Date.now()\n        sendToDatabase(note)\n        updateLastUpdated(currentTime)\n        setLastSaved(currentTime)\n    }\n\n    return(\n        <Container>\n            <div>\n                <Link to='/writing-app/dashboard'>Home</Link>\n                <Title>{props?.notesData?.name}</Title>\n                <h4>{savedStatus}</h4>\n                <TextAreaPage rows='5' placeholder='Write notes here' onChange={(e)=> setNote(e.target.value)} autoFocus id='notes-textarea' />\n            </div>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst Container = styled.div`\n    display: flex; \n    flex-direction: column; \n    align-items: center; \n    justify-content: center;\n    padding: 20px 30vw;\n`\n\nconst Title = styled.h1`\n    font-size: 3rem;\n    font-weight: 600;\n    margin-bottom: 10px;\n`\n\nconst TextAreaPage = styled.textarea`\n    /* padding: 40px 0px; */\n    margin: 40px 0 0 0;\n    /* background-color: hsl(0, 10%, 5%); */\n    background-color: transparent;\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 50vw;\n    color: var(--primary-text);\n    /* height: 80vh; */\n    border: none;\n    resize: none;\n    &:focus{\n        box-shadow: none;\n    }\n`","import { createGlobalStyle } from 'styled-components'\nimport { connect } from 'react-redux'\nconst GlobalStyles = createGlobalStyle`\n\n    html {\n        --background: ${props=>props.colorThemes.background};\n        --sidebar: ${props=>props.colorThemes.sidebar};\n        --primary-text: ${props=>props.colorThemes.primaryText};\n        --highlight: ${props=>props.colorThemes.highlight};\n    }\n\n    html, body {\n        background-color: var(--background);\n    }\n\n    * {\n        &:focus {\n            box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n            outline: none;\n        }\n    }\n\n    html, body, div, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a, div, label {\n        line-height: 1;\n        color: var(--primary-text);\n    }\n\n    button {\n        color: var(--primary-text);\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nconst mapStateToProps = state => ({\n    colorThemes: state.app.colorThemes    \n})\n\nexport default connect(mapStateToProps)(GlobalStyles)","import { useEffect, useState } from 'react'\nimport Signup from './Components/Signup/Signup'\nimport Signin from './Components/Signup/Signin'\nimport Dashboard from './Components/Dashboard/Dashboard'\nimport Outline from './Components/Edit/Outline/Outline'\nimport Screenplay from './Components/Edit/Screenplay/Screenplay'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData, colorThemes } from './redux/actions/appActions'\nimport { db } from './firebase'\n\nconst App = (props) => {\n  const [isLoading, setIsLoading] = useState(true)\n  // const [colors, setColors] = useState({mainColor: 'red'})\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n        db.collection('users')\n        .doc(user.uid)\n        .get()\n        .then(data=> {\n          const preferences = data.data().preferences\n          const colors = preferences.colors\n          props.dispatch(colorThemes(colors))\n          setIsLoading(false)\n        })\n      }\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    isLoading ? \n    null\n    :\n    (props.userData.userID ? \n    <div>\n      <Route path='/writing-app/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n      )} />\n      <Route path='/writing-app/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route path='/writing-app/edit/screenplay/:fileID' render={(props)=> (\n        <Screenplay {...props} />\n      )} />\n      <Route path='/writing-app/dashboard/' render={(props)=> (\n        <Dashboard {...props} />\n      )} />\n      <GlobalStyles />\n    </div>\n    :\n    <div>\n      <Signup />\n      <Signin />\n    </div>)\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n    rootDocs: [],\n    layerOneDocs: [],\n    layerTwoDocs: [],\n    layerThreeDocs: [],\n    currentLayer: null,\n    colorThemes: {},\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.COLOR_THEMES:\n            return {\n                ...state,\n                colorThemes: action.payload\n            }\n        case actions.CURRENT_LAYER:\n            return {\n                ...state,\n                currentLayer: action.payload\n            }\n        case actions.LAYER_THREE_DOCS:\n            return {\n                ...state,\n                layerThreeDocs: action.payload\n            }\n        case actions.LAYER_TWO_DOCS:\n            return {\n                ...state,\n                layerTwoDocs: action.payload\n            }\n        case actions.LAYER_ONE_DOCS:\n            return {\n                ...state,\n                layerOneDocs: action.payload\n            }\n        case actions.ROOT_DOCS:\n            return {\n                ...state,\n                rootDocs: action.payload\n            }\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    breadcrumbs: [{name: 'all files', docId: null}],\n    sortMethod: null,\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.SORT_METHOD:\n            return {\n                ...state,\n                sortMethod: action.payload\n            }\n        case actions.BREADCRUMBS:\n            return {\n                ...state,\n                breadcrumbs: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}