{"version":3,"sources":["firebase.js","globalFunctions.js","Components/Dashboard/FilesList/RenameFileModal.js","Components/Dashboard/FilesList/DeleteFileModal.js","Components/Dashboard/FilesList/FilesTable.js","Components/Dashboard/FilesList/CreateFileModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/Files.js","Components/Dashboard/FilesList/CreateProjectModal.js","redux/actions/appActions.js","Components/Dashboard/FilesList/RenameProjectModal.js","Components/Dashboard/FilesList/DeleteProjectModal.js","Components/Dashboard/FilesList/ProjectsTable.js","Components/Dashboard/FilesList/Projects.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","updateLastModified","userID","projectID","fileID","timestamp","Date","now","ref","collection","doc","update","lastModified","then","console","log","catch","err","connect","state","userData","props","useState","fileName","setFileName","useEffect","document","getElementById","value","fileSelectedName","Container","Background","onClick","setShowRenameModal","Modal","ProjectTitle","autoComplete","id","onChange","e","target","Cancel","Create","String","fileSelectedID","styled","button","input","div","outlineData","currentFileID","outlineItemsForUpdate","outlineItemsDisplay","setShowDeleteModal","Header","Delete","delete","h1","projectFiles","showDeleteModal","showRenameModal","setFileSelectedID","setFileSelectedName","window","onclick","openFile","file","location","fileType","open","Table","role","Head","RowHeader","TableHead","aria-label","label","TableBody","map","index","Row","tabIndex","onKeyDown","activeElement","buttonPress","code","onFocus","Cell","moment","dateCreated","format","calendar","IconContainer","Icon","stopPropagation","showRenameProject","type","alt","src","showDeleteProject","currentProjectID","setFileType","setIsCreateFileModal","SelectFileType","defaultValue","name","disabled","generateIDAndCreateFile","idAttempt","result","characters","charactersLength","length","i","charAt","Math","floor","random","generateID","where","get","data","empty","fileProperties","set","fileProps","add","select","SHOW_PROJECTS","PROJECTS","showProjects","dispatch","payload","projects","isCreateFileModal","isRenameFileModal","setIsRenameFileModal","isFileSelected","setIsFileSelected","style","width","Back","NewFile","RenameFile","className","projectName","setProjectName","setIsCreateProjectModal","merge","getProjects","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","projectSelectedName","projectSelectedID","forEach","item","dashboard","setProjectSelectedID","setProjectSelectedName","sortFiles","a","b","getProjectFiles","files","push","sort","project","IconBackground","RenameProjectModal","isCreateProjectModal","sortProjects","projectArr","Projects","dashboardCurrentSection","navigateSidebar","menuItem","filesArr","UL","LI","LiButton","background","hover","li","ul","img","display","newTitle","setNewTitle","newText","setNewText","setShowEditModal","Title","title","marginBottom","Text","text","Save","newCard","cardIndex","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","splice","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","setShowCreateModal","Label","Description","Location","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","preventDefault","keyBoardEdit","keyBoardDelete","CardNumber","p","h2","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","showEditModal","showCreateModal","getOutline","undefined","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","to","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","notesData","note","setNote","getNotes","flexDirection","alignItems","justifyContent","TextAreaPage","currentTime","GlobalStyles","createGlobalStyle","auth","onAuthStateChanged","user","userInfo","uid","path","render","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.4895245b.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    if(projectID) {\n        ref.collection('projects')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n        })\n    }\n    if(fileID) {\n        ref.collection('file-previews')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n        })\n    }\n\n}","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst RenameFileModal = (props) => {\n    const [fileName, setFileName] = useState('')\n\n    useEffect(()=> {\n        document.getElementById('rename-file-input').value = props.fileSelectedName\n    }, [props.fileSelectedName])\n\n    const renameFile = () => {\n\n        const ref = db.collection('users')\n        .doc(props.userData.userID)\n\n        ref.collection('file-previews')\n        .doc(String(props.fileSelectedID))\n        .update({\n            fileName,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n\n        ref.collection('files')\n        .doc(String(props.fileSelectedID))\n        .update({\n            fileName,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n        })\n\n        updateLastModified(props.userData.userID, String(props.fileSelectedID))\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setShowRenameModal(false)} />\n            <Modal>\n                Rename file\n                <ProjectTitle autoComplete='off' id='rename-file-input' onChange={(e)=>setFileName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onClick={renameFile}>Rename file</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    // projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst DeleteFileModal = (props) => {\n\n    const deleteFile = () => {\n        const ref = db.collection('users')\n        .doc(props.userData.userID)\n\n        ref.collection('file-previews')\n        .doc(props.fileSelectedID)\n        .delete()\n        .then(()=>{\n            console.log('file deleted')\n        })\n        \n        ref.collection('files')\n        .doc(props.fileSelectedID)\n        .delete()\n        .then(()=>{\n            console.log('file deleted')\n            props.setShowDeleteModal(false)\n        })\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID))\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete project</Header>\n                <p>Are you sure you want to delete this project?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteFile}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteFileModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport moment from 'moment'\nimport { connect } from 'react-redux'\nimport { useEffect, useState } from 'react'\nimport RenameFileModal from './RenameFileModal'\nimport DeleteFileModal from './DeleteFileModal'\n\nconst FilesTable = (props) => {\n\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n    const [fileSelectedID, setFileSelectedID] = useState('')\n    const [fileSelectedName, setFileSelectedName] = useState('')\n\n    useEffect(()=>{\n        return function() {\n            window.onclick = null;\n        } \n        // eslint-disable-next-line\n    }, [])\n\n    const selectFile = (fileID, fileName) => {\n        setFileSelectedID(fileID)\n        setFileSelectedName(fileName)\n        // props.setIsFileSelected(true)\n    }\n\n    const buttonPress = (e, file) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='files-table-row') {\n            // document.location = `/edit/${file.fileType}/${file.fileID}`\n            openFile(file)\n        }\n    }\n    \n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    const openFile = (file) => {\n        const location = `/edit/${file.fileType}/${file.fileID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    return(\n        <div>\n            <Table role='table'> \n                <Head role='heading'>\n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>File name</TableHead>\n                        <TableHead role='heading'>File type</TableHead>\n                        <TableHead role='heading'>Date created</TableHead>\n                        <TableHead role='heading'>Last modified</TableHead>\n                        <TableHead aria-label='settings' role='heading' label='settings'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {props.projectFiles.map((file, index)=> {\n                        return(\n                            <Row id='files-table-row' tabIndex='0' role='button' onKeyDown={(e)=>buttonPress(e.code, file)} onFocus={()=>selectFile(file.fileID, file.fileName)} onClick={()=>openFile(file)} key={index}>\n                                <Cell>{file.fileName}</Cell>\n                                <Cell>{file.fileType}</Cell>\n                                <Cell>{moment(file.dateCreated).format('ll')}</Cell>\n                                <Cell>{moment(file.lastModified).calendar()}</Cell>\n                                <IconContainer>\n                                    <Icon onClick={(e)=>showRenameProject(e)} type='image' tabIndex='0' label='rename file' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                    <Icon onClick={(e)=>showDeleteProject(e)} type='image' tabIndex='0' label='delete file' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                </IconContainer>\n                             </Row>\n\n                        )\n                    })}\n                </TableBody>\n            </Table>\n            {showRenameModal && \n                <RenameFileModal fileSelectedName={fileSelectedName} fileSelectedID={fileSelectedID} setShowRenameModal={setShowRenameModal} />\n            }\n            {showDeleteModal && \n                <DeleteFileModal fileSelectedID={fileSelectedID} setShowDeleteModal={setShowDeleteModal} />\n            }\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projectFiles: state.app.projectFiles\n})\n\nexport default connect(mapStateToProps)(FilesTable)\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    padding: 0.5rem;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n`\n\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n`\n\nconst Row = styled.div`\n    cursor: pointer;\n    display: table-row;\n    background-color: transparent;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Icon = styled.input` \n    margin-right: 10px;\n    transform: scale(.8);\n    position: relative;\n    top: 5px;\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 10px;\n`\n\n\n\n\n\n\n\n\n\n\n\n// const Table = styled.table`\n//     border-collapse: collapse;\n//     border-spacing: 0;\n//     width: 100%;\n//     max-width: 100%;\n// `\n\n// const THEAD = styled.thead`\n//     border-bottom: 2px solid #dedede;\n// `\n\n// const TH = styled.th`\n//     text-align: left;\n//     padding: 0.5rem;\n//     border-bottom: 2px solid #dedede;\n//     border-top: 2px solid #dedede;\n//     color: hsl(0, 0%, 20%);\n//     font-weight: 400;\n// `\n\n// const TD = styled.td`\n//     text-align: left;\n//     padding: 1rem 0.5rem;\n//     border-bottom: 1px solid #dedede;\n// `\n\n// const TR = styled.tr`\n//     cursor: pointer;\n//     &:focus {\n//         background-color: hsl(0, 0%, 95%);\n//     }\n// `","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { generateID } from '../../../globalFunctions'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst CreateFileModal = (props) => {\n    const [fileName, setFileName] = useState('')\n    const [fileType, setFileType] = useState('')\n\n    const createFile = () => {\n        let fileID = ''\n        const generateIDAndCreateFile = () => {\n            const idAttempt = generateID()\n            db.collection('fileIDs')\n            .where('fileID', '==', idAttempt)\n            .get()\n            .then(data=> {\n                if(data.empty) {\n                    fileID = idAttempt\n                    const timestamp = Date.now()\n                    const fileProperties = {\n                        fileName,\n                        fileType,\n                        projectID: props.currentProjectID,\n                        fileID,\n                        dateCreated: timestamp,\n                        lastModified: timestamp,\n                    }\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('file-previews')\n                    .doc(fileID)\n                    .set({\n                        ...fileProperties\n                    })\n                    .then(()=> {\n                        console.log('new file preview created')\n                        props.setIsCreateFileModal(false)\n                    })\n                    if(fileType==='outline') {\n                        fileProperties['data'] = []\n                    }\n                    if(fileType==='notes' || fileType==='screenplay') {\n                        fileProperties['text'] = ''\n                    }\n                    const { lastModified, ...fileProps } = fileProperties\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files')\n                    .doc(fileID)\n                    .set({\n                        ...fileProps\n                    })\n                    .then(()=> {\n                        console.log('new file created')\n                        const location = `/edit/${fileType}/${fileID}`\n                        window.open(location, \"_blank\") || (document.location = location)\n                    })\n                    updateLastModified(props.userData.userID, String(props.currentProjectID))\n                    db.collection('fileIDs')\n                    .add({\n                        fileID,\n                    })\n                }else{\n                    generateIDAndCreateFile()\n                }\n            })\n        }\n        generateIDAndCreateFile()\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setIsCreateFileModal(false)} />\n            <Modal>\n                Create new file\n                <ProjectTitle onChange={(e)=>setFileName(e.target.value)} />\n                <SelectFileType defaultValue='' name='project type' onChange={(e)=>setFileType(e.target.value)}>\n                    <option value=\"\" disabled>Document type</option>\n                    <option value='screenplay'>screenplay</option>\n                    <option value='notes'>notes</option>\n                    <option value='outline'>outline</option>\n                </SelectFileType>\n                <div>\n                    <Cancel onClick={()=>props.setIsCreateFileModal(false)}>Cancel</Cancel>\n                    <Create onClick={createFile}>Create</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentProjectID: state.app.currentProjectID,\n})\n\nexport default connect(mapStateToProps)(CreateFileModal)\n\nconst SelectFileType = styled.select`\n    width: 20vw;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 40vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    justify-content: space-evenly;\n    align-items: center;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","export const SHOW_PROJECTS = 'SHOW_PROJECTS'\nexport const PROJECTS = 'PROJECTS'\nexport const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\nexport function showProjects(data) {\n    return(dispatch) => {\n        dispatch({type: SHOW_PROJECTS, payload: data})\n    }\n}\n\nexport function projects(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECTS, payload: data})\n    }\n}","import FilesTable from './FilesTable'\nimport { useState } from 'react'\nimport styled from 'styled-components'\nimport RenameFileModal from './RenameFileModal'\nimport { connect } from 'react-redux'\nimport CreateFilesModal from './CreateFileModal'\nimport { showProjects } from '../../../redux/actions/dashboardActions'\n\nconst Files = (props) => {\n    const [isCreateFileModal, setIsCreateFileModal] = useState(false)\n    const [isRenameFileModal, setIsRenameFileModal] = useState(false)\n    const [isFileSelected, setIsFileSelected] = useState(false)\n    const [fileSelectedID, setFileSelectedID] = useState('')\n    const [fileSelectedName, setFileSelectedName] = useState('')\n\n    return(\n        <div style={{width: '80vw'}}>\n            {isRenameFileModal &&\n            <RenameFileModal fileSelectedID={fileSelectedID} fileSelectedName={fileSelectedName} setIsRenameFileModal={setIsRenameFileModal} />\n            }\n            {isCreateFileModal &&\n            <CreateFilesModal setIsCreateFileModal={setIsCreateFileModal} />\n            }\n            <Header>Files</Header>\n            <Back onClick={()=> props.dispatch(showProjects(true))}>Back to all projects</Back>\n\n            <NewFile onClick={()=>setIsCreateFileModal(true)}>Create new file</NewFile>\n            {isFileSelected && \n                <RenameFile className='files-delete' onClick={()=> setIsRenameFileModal(true)}>Rename file</RenameFile>\n            }\n            <FilesTable setFileSelectedName={setFileSelectedName} setIsFileSelected={setIsFileSelected} setFileSelectedID={setFileSelectedID} />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentProjectID: state.app.currentProjectID,\n})\n\nexport default connect(mapStateToProps)(Files)\n\nconst RenameFile = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst Back = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst NewFile = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    font-weight: 500;\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { showProjects, currentProjectID } from '../../../redux/actions/dashboardActions'\n\nconst CreateProjectModal = (props) => {\n    const [projectName, setProjectName] = useState('')\n\n    const createProject = () => {\n        const timestamp = Date.now()\n        db.collection('users').doc(props.userData.userID)\n        .collection('projects').doc(String(timestamp))\n        .set({\n            projectName: projectName,\n            projectID: timestamp,\n            dateCreated: timestamp,\n            lastModified: timestamp,\n        }, {merge: true})\n        .then(()=> {\n            console.log('created new project')\n            props.getProjects()\n            props.setIsCreateProjectModal(false)\n            props.dispatch(showProjects(false))\n            props.dispatch(currentProjectID(timestamp))\n        })\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setIsCreateProjectModal(false)} />\n            <Modal>\n                Create new project\n                <ProjectTitle onChange={(e)=>setProjectName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                    <Create onClick={createProject}>Create project</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    // projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(CreateProjectModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nconst RenameFileModal = (props) => {\n    const [projectName, setProjectName] = useState('')\n\n    useEffect(()=> {\n        document.getElementById('rename-file-input').value = props.projectSelectedName\n        // eslint-disable-next-line\n    }, [props.fileSelectedName])\n\n    const renameFile = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .doc(String(props.projectSelectedID))\n        .update({\n            projectName,\n        })\n        .then(()=> {\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n    }\n\n    return (\n        <Container>\n            <Background onClick={()=>props.setShowRenameModal(false)} />\n            <Modal>\n                Rename Project\n                <ProjectTitle id='rename-file-input' onChange={(e)=>setProjectName(e.target.value)} />\n                <div>\n                    <Cancel onClick={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onClick={renameFile}>Rename</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    // projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled.div`\n    background-color: white;\n    height: 300px;\n    width: 400px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n`\n\nconst Container = styled.div`\n`\n\nconst Background = styled.div`\n    height: 100vh;\n    width: 100vw;\n    position: fixed;\n    background-color: rgba(0, 0, 0, .6);\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\n\nconst DeleteProjectModal = (props) => {\n\n    const deleteProject = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .where('projectID', '==', props.projectSelectedID)\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n                item.ref.delete()\n            })\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('file-previews')\n        .where('projectID', '==', props.projectSelectedID)\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n                item.ref.delete()\n            })\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .where('projectID', '==', props.projectSelectedID)\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n                item.ref.delete()\n            })\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n            // getProjects()\n        })\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete project</Header>\n                <p>Are you sure you want to delete this project?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteProject}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteProjectModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { currentProjectID, projectFiles } from '../../../redux/actions/appActions'\nimport moment from 'moment'\nimport RenameProjectModal from './RenameProjectModal'\nimport DeleteProjectModal from './DeleteProjectModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { showProjects } from '../../../redux/actions/dashboardActions'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n    const [projectSelectedID, setProjectSelectedID] = useState('')\n    const [projectSelectedName, setProjectSelectedName] = useState('')\n\n    const sortFiles = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const getProjectFiles = (projectID) => {\n        props.dispatch(currentProjectID(projectID))\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('file-previews')\n        .where('projectID', '==', projectID)\n        .get()\n        .then(data=> {\n            const files = []\n            data.forEach(file=> {\n                files.push(file.data())\n            })\n            props.dispatch(projectFiles(files.sort(sortFiles)))\n            props.dispatch(showProjects(false))\n        })\n    }\n\n    const selectProject = (projectID, projectName) => {\n        setProjectSelectedID(projectID)\n        setProjectSelectedName(projectName)\n    }\n\n    const buttonPress = (e, projectID) => {\n        if((e === 'Enter' || e=== 'Space') && document.activeElement.id==='projects-table-row') {\n            getProjectFiles(projectID)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>Project name</TableHead>\n                        <TableHead role='heading'>Date created</TableHead>\n                        <TableHead role='heading'>Last modified</TableHead>\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                        {/* <TableHead role='heading'>Settings</TableHead> */}\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {props.projects.map((project, index)=> {\n                        return(\n                            <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>buttonPress(e.code, project.projectID)} role='button' onFocus={()=>selectProject(project.projectID, project.projectName)} onClick={()=>getProjectFiles(project.projectID)} key={index}>\n                                <Cell role='cell'>{project.projectName}</Cell>\n                                <Cell role='cell'>{moment(project.dateCreated).format('ll')}</Cell>\n                                <Cell role='cell'>{moment(project.lastModified).calendar()}</Cell>\n                                <Cell role='cell'>\n                                    <IconContainer>\n                                        <IconBackground>\n                                            <Icon onClick={(e)=>showRenameProject(e)} type='image' tabIndex='0' label='rename file' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                        </IconBackground>\n                                        <IconBackground>\n                                            <Icon onClick={(e)=>showDeleteProject(e)} type='image' tabIndex='0' label='delete file' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                        </IconBackground>\n                                    </IconContainer>\n                                </Cell>\n                            </Row>\n                        )\n                    })}\n                </TableBody>\n            </Table> \n            {showRenameModal && \n                <RenameProjectModal projectSelectedName={projectSelectedName} projectSelectedID={projectSelectedID} setShowRenameModal={setShowRenameModal} />\n            }\n            {showDeleteModal && \n                <DeleteProjectModal projectSelectedID={projectSelectedID} setShowDeleteModal={setShowDeleteModal} />\n            }\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    currentProjectID: state.app.currentProjectID,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    padding: 0.5rem;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst Row = styled.div`\n    cursor: pointer;\n    display: table-row;\n    background-color: transparent;\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n`\n\nconst Icon = styled.input` \n    transform: scale(.8);\n    position: absolute;\n    top: 5px;\n    z-index: 5;\n`\n\nconst IconBackground = styled.div`\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    margin-right: 10px;\n    border-radius: 50%;\n    top: 7px;\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 10px;\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { projects } from '../../../redux/actions/dashboardActions'\nimport CreateProjectModal from './CreateProjectModal'\nimport ProjectsTable from './ProjectsTable'\nconst Dashboard = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjects = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n\n            props.dispatch(projects(projectArr.sort(sortProjects)))\n        })\n    }\n\n    return(\n        <div style={{width: '80vw'}}>\n            {isCreateProjectModal &&\n                <CreateProjectModal getProjects={getProjects} setIsCreateProjectModal={setIsCreateProjectModal} />\n            }\n            <Header>Projects</Header>\n            <NewFile onClick={()=>setIsCreateProjectModal(true)}>Create new project</NewFile>\n            <ProjectsTable />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n\nconst NewFile = styled.button`\n    background-color: hsl(20, 30%, 90%);\n    height: 40px;\n    border: none;\n    margin: 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 5px 0px rgba(0, 0, 0, .1);\n    padding: 10px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    font-weight: 500;\n`","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport Files from './Files'\nimport Projects from './Projects'\nimport { connect } from 'react-redux'\nimport { projects } from '../../../redux/actions/dashboardActions'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n            props.dispatch(projects(projectArr))\n        })\n    }\n\n    return(\n        <div>\n            {props.showProjects ? \n            <Projects />\n            :\n            <Files />\n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { projectFiles, dashboardCurrentSection } from '../../../redux/actions/appActions'\nimport { showProjects, projects } from '../../../redux/actions/dashboardActions'\n\nconst Sidebar = (props) => {\n\n    const getAllFiles = () => {\n        if(props.projectFiles.length === 0) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('file-previews')\n            .get()\n            .then(files=> {\n                let filesArr = []\n                files.forEach(file=> {\n                    filesArr.push(file.data())\n                })\n                props.dispatch(projectFiles(filesArr))\n                props.dispatch(showProjects(false))\n            })\n        }\n        props.dispatch(showProjects(false))\n    }\n\n    const getProjects = () => {\n        if(props.projects.length === 0) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('projects')\n            .get()\n            .then(data=> {\n                const projectArr = []\n                data.forEach(project=> {\n                    projectArr.push(project.data())\n                })\n                props.dispatch(projects(projectArr))\n            })\n            props.dispatch(showProjects(true))\n        }\n        props.dispatch(showProjects(true))\n    }\n\n    const navigateSidebar = (menuItem) => {\n        if(menuItem==='projects') getProjects()\n        if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <UL>\n                <LI><LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='projects' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'} >\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                    Projects\n                    </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('files')} background={props.dashboardCurrentSection==='files' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='files' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" />\n                    All files\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4=\" /> \n                    Analytics\n                </LiButton ></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='settings' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4=\" />\n                    Settings\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 60%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 60%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                    Deleted\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst Container = styled.div`\n    width: 20vw;\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    border: none;\n    padding: 5px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.img`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n`","// import Projects from './FilesList/Projects'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport { connect } from 'react-redux'\nconst Dashboard = (props) => {\n\n    return(\n        <div style={{display: 'flex'}}>\n            <Sidebar />\n            <FilesList />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowEditModal(false)}></Background>\n            <Modal>\n                <Header>Edit card</Header>\n                <div>\n                    <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                    <div style={{marginBottom: '20px'}}></div>\n                    <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n                </div>\n                <div>\n                    <Cancel onClick={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                    <Save onClick={saveCardEdits}>Save</Save>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled.div`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n    z-index: 100;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowDeleteModal(false)}></Background>\n            <Modal>\n                <Header>Delete card</Header>\n                <p>Are you sure you want to delete this card?</p>\n                <div>\n                    <Cancel onClick={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={deleteCard}>Delete</Delete>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props.outlineData.data.length + 1)\n        // eslint-disable-next-line \n    }, [])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    return(\n        <Container>\n            <Background onClick={()=>props.setShowCreateModal(false)} />\n            <Modal>\n                <Header>Create new card</Header>\n                <Label>Title</Label>\n                <Title onChange={(e)=>setTitle(e.target.value)} />\n                <Label>Description</Label>\n                <Description onChange={(e)=>setText(e.target.value)} />\n                <Label>Insert at location:</Label>\n                <div>\n\n                    <Location id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineData.data.length + 1}\n                </div>\n                <div style={{display: 'flex'}}>\n                    <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                    <Create onClick={createNewOutlineCard}>Create</Create>\n                </div>\n            </Modal>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled.div`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`\n\nconst Background = styled.div`\n    z-index: 100;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, .5);\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <Icon onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)} type='image' alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                        <Icon onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)} type='image' alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.input`\n    transform: scale(.8);\n    margin-left: 8px;\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.div`\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import React, { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    // const [dataStatic, setDataStatic] = useState(null)\n    // const [dataToChange, setDataToChange] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        // console.log(props.match)\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        const outlineCopy = {...outlineData}\n        outlineCopy.data = cardsNewIndexes\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.projectID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/'>\n                <div>Home</div>\n            </Link>\n            {/* <button onClick={()=>console.log(itemIndexes, props.outlineItemsForUpdate, props.outlineItemsDisplay)}>click for data</button> */}\n            {props?.outlineData?.fileName}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n            {showEditModal && \n                <EditCardModal itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            }\n            {showDeleteModal &&\n                <DeleteCardModal setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n            }\n            {showCreateModal && \n                <CreateCardModal itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n            }\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n        })\n    }\n\n    const saveWork = () => {\n\n        const currentTime = Date.now()\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('work saved')\n        })\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('file-previews')\n        .doc(props.match.params.fileID)\n        .update({\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .doc(String(props.notesData.projectID))\n        .update({\n            lastModified: currentTime,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n    }\n\n    return(\n        <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center'}}>\n            <Link to='/'>Home</Link>\n            <div></div>\n            {props?.notesData?.fileName}\n            <div></div>\n            {/* <TextAreaPage style={{border: 'none', height: '600px', width: '700px'}} onChange={(e)=> setNote(e.target.value)} defaultValue={props?.notesData?.text} /> */}\n            <TextAreaPage onChange={(e)=> setNote(e.target.value)} id='notes-textarea' />\n            <div></div>\n            <button onClick={saveWork}>Save work</button>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst TextAreaPage = styled.textarea`\n    padding: 40px 100px;\n    background-color: hsl(0, 10%, 95%);\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 60vw;\n    height: 90vh;\n    border: none;\n    resize: none;\n`","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyles = createGlobalStyle`\n    html, body, div, span, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nexport default GlobalStyles","import { useEffect } from 'react'\n// import Signup from './Components/Signup/Signup'\n// import Signin from './Components/Signup/Signin'\nimport Dashbaord from './Components/Dashboard/Dashboard'\n// import Outline from './Components/Edit/Outline/OutlineDNDTest'\nimport Outline from './Components/Edit/Outline/Outline'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\n// import Outline from './Components/Edit/Outline/OutlineDND'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData } from './redux/actions/appActions'\n\nconst App = (props) => {\n\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n      }\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    <div>\n      <Route path='/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n        // <OutlineDND {...props} />\n      )} />\n      <Route path='/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route exact path='/' render={(props)=> (\n        <Dashbaord {...props} />\n      )} />\n      {/* <Signup /> */}\n      {/* <Signin /> */}\n      <GlobalStyles />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    showProjects: true,\n    projects: [],\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.SHOW_PROJECTS:\n            return {\n                ...state,\n                showProjects: action.payload\n            }\n        case actions.PROJECTS:\n            return {\n                ...state,\n                projects: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}