{"version":3,"sources":["firebase.js","Components/Signup/Signup.js","Components/Signup/Signin.js","globalFunctions.js","redux/actions/appActions.js","Components/Dashboard/FilesList/CreateDocModal.js","Icons/IconComponent.js","Components/Dashboard/FilesList/RenameDocModal.js","Components/Dashboard/FilesList/DeleteDocModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/DocsTable.js","Components/Dashboard/FilesList/AllFiles.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Settings/ChangeColors/ColorSelection.js","Components/Settings/ChangeColors/ColorTemplates.js","Components/Settings/ChangeColors/ChangeColors.js","Components/Settings/Settings.js","Components/Dashboard/Breadcrumbs.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Screenplay/EditorAssets.js","Components/Edit/Screenplay/Autocomplete.js","Components/Edit/Screenplay/Editor.js","Components/Edit/Screenplay/Screenplay.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","SignUp","onClick","auth","createUserWithEmailAndPassword","then","userCredential","user","console","log","collection","doc","uid","set","userID","catch","error","signInWithEmailAndPassword","updateLastModified","projectID","fileID","timestamp","Date","now","ref","undefined","update","lastModified","err","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","ROOT_DOCS","LAYER_ONE_DOCS","LAYER_TWO_DOCS","LAYER_THREE_DOCS","CURRENT_LAYER","COLOR_THEMES","colorThemes","data","dispatch","type","payload","currentLayer","layerThreeDocs","layerTwoDocs","layerOneDocs","rootDocs","outlineItemsForUpdate","outlineItemsDisplay","connect","state","userData","breadcrumbs","dashboard","props","useState","name","setName","createFolder","parentID","length","docID","folderProperties","String","addDocToStore","setIsCreateProjectModal","createFile","generateIDAndCreateFile","idAttempt","result","characters","charactersLength","i","charAt","Math","floor","random","generateID","where","get","empty","fileProperties","dateCreated","fileProps","location","window","open","document","projectSelectedData","add","Modal","aria-label","isOpen","isCreateProjectModal","onDismiss","HeaderIconContainer","createType","CloseDialog","label","Icon","alt","src","ProjectTitle","autoComplete","onChange","e","target","value","Cancel","Create","styled","div","button","img","input","Dialog","IconComponent","Fill","fill","xmlns","width","height","viewBox","children","svg","renameFile","renameStoreDocs","setShowRenameModal","closeModal","folderMap","0","1","2","3","renamedItems","currentIndex","code","preventDefault","Container","NewModal","showRenameModal","onKeyDown","onMouseDown","id","Header","defaultValue","h1","outlineData","currentFileID","deleteDoc","docData","deleteFile","deleteFolder","delete","setShowDeleteModal","forEach","item","initialDelete","deletedItem","splice","removeDocFromStore","showDeleteModal","Delete","BREADCRUMBS","SORT_METHOD","sortMethod","currentProjectID","selectItem","activeElement","blur","sortMethodToUse","dataArr","push","sortProjectsDateAsc","sortProjectsDateDesc","sortProjectsTypeAsc","sortProjectsTypeDesc","sortProjectsNameAsc","sortProjectsNameDesc","sort","breadcrumb","breadcrumbsCopy","openFile","fileType","a","b","localeCompare","changeSortOrder","sortType","sortMethodName","Table","role","Head","RowHeader","TableHead","ColumnNameButton","ArrowIcon","rotate","d","TableBody","map","index","Row","tabIndex","buttonPress","onFocus","setProjectSelectedData","selectProject","Cell","DocIconNameContainer","DocIcon","moment","format","IconContainer","IconBackgroundContainer","stopPropagation","showRenameProject","IconTitle","IconBackground","showDeleteProject","RenameDocModal","projects","setCreateType","useEffect","getInitialFilesAndFolders","sortMethodType","projectArr","project","openModal","getProjects","CreateNew","Plus","List","Item","onSelect","MenuIconContainer","span","MenuItem","MenuButton","MenuList","showProjects","projectFiles","dashboardCurrentSection","navigateSidebar","menuItem","Logo","UL","LI","to","LiButton","background","hover","li","ul","changeColor","color","getElementById","htmlFor","primaryText","sidebar","colors","addTheme","themes","FieldValue","arrayUnion","theme","themeColors","style","backgroundColor","padding","setThemes","themesCopy","Settings","rootLayer","crumb","Crumb","indexToRoute","breadcrumbsReduced","slice","breadcrumbRoute","nav","FilesContainer","exact","path","render","newTitle","setNewTitle","newText","setNewText","setShowEditModal","showEditModal","Title","title","marginBottom","Text","text","cardIndex","focus","Save","newCard","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","showCreateModal","setShowCreateModal","Label","Description","Location","display","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","keyBoardEdit","keyBoardDelete","CardNumber","p","h2","article","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","getOutline","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","CenteredItemsContainer","DialogStyles","Character","CharacterStyles","SceneHeading","SceneHeadingStyles","Paragraph","ParagraphStyles","Transition","TransitionStyles","Parenthetical","ParentheticalStyles","AutocompleteContainer","AutocompleteBackground","position","top","left","AutocompleteItem","isSelected","TIME_OF_DAY","Autocomplete","editor","useMemo","withReact","createEditor","setValue","setTarget","setIndex","setPosition","searchType","setSearchType","searchQuery","setSearchQuery","searchResults","names","times","locations","filter","startsWith","toUpperCase","script","getCharacters","getLocations","updateSavingStatus","save","setTimeout","scriptObject","scriptID","clearTimeout","selection","currentText","rect","ReactEditor","toDOMRange","getBoundingClientRect","pageYOffset","pageXOffset","renderElement","useCallback","element","functions","checkTransition","shiftKey","this","setNode","checkDescription","previousText","previousPreviousType","currentTextUppercase","includes","checkDialog","previousType","Transforms","setNodes","at","n","Editor","isBlock","mode","checkParenthetical","character","checkCharacter","currentType","incrementIndex","timeSearch","newValue","splitValue","split","trim","insertNodes","obj","replaceLocation","intExt","Range","edges","endPosition","offset","startPosition","range","insertText","handleDelete","handleEnter","insertBreak","handleReplace","newType","replaceCharacter","addCharacter","replaceTime","before","unit","heading","addLocation","checkHeading","splitText","handleOnChange","currentOffset","anchor","startValue","shift","joinedValue","join","minOffset","maxOffset","Infinity","splitDash","locationsOnChange","pop","timesOnChange","namesOnChange","boxShadow","autoFocus","placeholder","savingStatus","setSavingStatus","setCharacters","charactersObj","setCharactersObj","setLocations","locationsObj","setLocationsObj","locationsCopy","splitHeading","locationsArray","Object","entries","locationsFinal","characterName","charactersCopy","characterUppercase","charactersArray","charactersFinal","status","notesData","note","setNote","lastSaved","setLastSaved","savedStatus","setSavedStatus","getNotes","timeout","saveWork","fitTextarea","watch","onbeforeunload","currentTime","TextAreaPage","rows","GlobalStyles","createGlobalStyle","isLoading","setIsLoading","onAuthStateChanged","userInfo","preferences","Signup","Signin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","docId","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.d8e2ed2f.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import firebase from 'firebase'\nimport { db } from '../../firebase'\nconst SignUp = () => {\n    const submit = () => {\n        firebase.auth().createUserWithEmailAndPassword('hel2lo@gai1l.com', 'hello123')\n        .then((userCredential) => {\n            // Signed in \n            var user = userCredential.user;\n            console.log(user)\n            db.collection('users').doc(user.uid).set({\n                userID: user.uid\n            })\n        })\n        .catch((error) => {\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n            // ..\n            console.log('error signing up', error)\n        });\n    }\n    return(\n        <div>\n            <input></input>\n            <input></input>\n            <button onClick={submit}>Signup</button>\n        </div>\n    )\n}\n\nexport default SignUp","import firebase from 'firebase'\nconst SignUp = () => {\n    const submit = () => {\n\n        firebase.auth().signInWithEmailAndPassword('hel2lo@gai1l.com', 'hello123')\n        .then((userCredential) => {\n            // Signed in\n            // var user = userCredential.user;\n            // ...\n            console.log('signed in')\n        })\n        .catch((error) => {\n            console.log(error)\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n        });\n    }\n    return(\n        <div>\n            <input></input>\n            <input></input>\n            <button onClick={submit}>Signup</button>\n        </div>\n    )\n}\n\nexport default SignUp","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    console.log(projectID)\n    if(projectID!==undefined) {\n        ref.collection('files-folders')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            \n        })\n    }\n    if(fileID) {\n        ref.collection('files-folders')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            console.log(2)\n        })\n    }\n\n}","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\nexport const ROOT_DOCS = 'ROOT_DOCS'\nexport const LAYER_ONE_DOCS = 'LAYER_ONE_DOCS'\nexport const LAYER_TWO_DOCS = 'LAYER_TWO_DOCS'\nexport const LAYER_THREE_DOCS = 'LAYER_THREE_DOCS'\nexport const CURRENT_LAYER = 'CURRENT_LAYER'\nexport const COLOR_THEMES = 'COLOR_THEMES'\n\nexport function colorThemes(data) {\n    return(dispatch) => {\n        dispatch({type: COLOR_THEMES, payload: data})\n    }\n}\n\n\nexport function currentLayer(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_LAYER, payload: data})\n    }\n}\n\nexport function layerThreeDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_THREE_DOCS, payload: data})\n    }\n}\n\nexport function layerTwoDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_TWO_DOCS, payload: data})\n    }\n}\n\nexport function layerOneDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_ONE_DOCS, payload: data})\n    }\n}\n\nexport function rootDocs(data) {\n    return(dispatch) => {\n        dispatch({type: ROOT_DOCS, payload: data})\n    }\n}\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { generateID } from '../../../globalFunctions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    // currentLayer,\n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs\n} from '../../../redux/actions/appActions'\n\nconst CreateDocModal = (props) => {\n    const [name, setName] = useState('')\n\n    const createProject = () => {\n        if (props.createType==='folder' && props.currentLayer < 3) return createFolder()\n        if (props.createType!=='folder') return createFile(props.createType)\n    }\n\n    const createFolder = () => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        const timestamp = Date.now()\n        const folderProperties = {\n            name,\n            parentID: String(parentID),\n            type: 'folder',\n            docID: String(timestamp),\n            lastModified: timestamp,\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(timestamp))\n        .set({\n            ...folderProperties\n        })\n        .then(()=> {\n            console.log('folder created')\n            addDocToStore(folderProperties)\n            props.setIsCreateProjectModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const createFile = (type) => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        let docID = ''\n        const generateIDAndCreateFile = () => {\n            const idAttempt = generateID()\n            db.collection('docID')\n            .where('docID', '==', idAttempt)\n            .get()\n            .then(data=> {\n                if(data.empty) {\n                    docID = idAttempt\n                    const timestamp = Date.now()\n                    const fileProperties = {\n                        name,\n                        type,\n                        parentID: String(parentID),\n                        docID: String(docID),\n                        dateCreated: timestamp,\n                        lastModified: timestamp,\n                    }\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files-folders')\n                    .doc(docID)\n                    .set({\n                        ...fileProperties\n                    })\n                    .then(()=> {\n                        console.log('new file preview created')\n                        addDocToStore(fileProperties)\n                    })\n                    if(type==='outline') {\n                        fileProperties['data'] = []\n                    }\n                    if(type==='notes' || type==='screenplay') {\n                        fileProperties['text'] = ''\n                    }\n                    const { lastModified, ...fileProps } = fileProperties\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files')\n                    .doc(docID)\n                    .set({\n                        ...fileProps\n                    })\n                    .then(()=> {\n                        console.log('new file created')\n                        const location = `/writing-app/edit/${type}/${docID}`\n                        window.open(location, \"_blank\") || (document.location = location)\n                        props.setIsCreateProjectModal(false)\n                        if(props.projectSelectedData.docID) {\n                            updateLastModified(props.userData.userID, String(props.projectSelectedData.docID))\n                        }\n                    })\n                    db.collection('docID')\n                    .add({\n                        docID,\n                    })\n                }else{\n                    generateIDAndCreateFile()\n                }\n            })\n        }\n        generateIDAndCreateFile()\n    }\n\n    const addDocToStore = (data) => {\n        if(props.currentLayer===0) props.dispatch(rootDocs([data, ...props.rootDocs]))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs([data, ...props.layerOneDocs]))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs([data, ...props.layerTwoDocs]))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs([data, ...props.layerThreeDocs]))\n    }\n \n    return (\n        <Modal aria-label='create document' isOpen={props.isCreateProjectModal} onDismiss={()=>props.setIsCreateProjectModal(false)}>\n            <HeaderIconContainer>\n                <h1>Create new {props.createType}</h1>\n                <CloseDialog label='close rename dialog' onClick={()=>props.setIsCreateProjectModal(false)}>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n            </HeaderIconContainer>\n            <ProjectTitle autoComplete='off' onChange={(e)=>setName(e.target.value)} />\n            <div>\n                <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                <Create onClick={createProject}>Create project</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(CreateDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 10px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled(Dialog)`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`","import styled from 'styled-components'\n\nconst IconComponent = (props) => {\n    return (\n        <Fill fill={props.fill} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">{props.children}</Fill>\n    )\n}\n\nexport default IconComponent\n\nconst Fill = styled.svg`\n    fill: var(--primary-text);\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst RenameFileModal = (props) => {\n    const [name, setName] = useState('')\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-file-input').value = props.projectSelectedData.name\n    //     // eslint-disable-next-line\n    // }, [props.fileSelectedName])\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-doc-close-button').focus()\n    // }, [])\n\n    const renameFile = (e) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(props.projectSelectedData.docID))\n        .update({\n            name,\n        })\n        .then(()=> {\n            renameStoreDocs()\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n        if(props.projectSelectedData.type!=='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files')\n            .doc(String(props.projectSelectedData.docID))\n            .update({\n                name,\n            })\n            .then(()=> {\n                console.log('file rename successful')\n                closeModal(e)\n                props.setShowRenameModal(false)\n            })\n        }\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const renameStoreDocs = () => {\n        let renamedItems = folderMap[props.currentLayer]\n        renamedItems[props.projectSelectedData.currentIndex].name = name\n        if(props.currentLayer===0) props.dispatch(rootDocs(renamedItems))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(renamedItems))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(renamedItems))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(renamedItems))\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowRenameModal(false)\n        }\n    }\n\n    const renameFileOnKeyDown = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            renameFile(e)\n        }\n    }\n\n    return (\n        <Container>\n            {/* <Background onClick={()=>props.setShowRenameModal(false)} /> */}\n            <NewModal aria-label={`change ${props.projectSelectedData.type} name of ${props.projectSelectedData.name}`} isOpen={props.showRenameModal} onDismiss={()=>props.setShowRenameModal(false)}>\n                <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle defaultValue={props.projectSelectedData.name} autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </NewModal>\n            {/* <Modal>\n                <CloseDialog onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </Modal> */}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 5px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst NewModal = styled(Dialog)`\n    background-color: white;\n    min-height: 400px;\n    width: 500px;\n    /* position: fixed; */\n    /* top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); */\n    border-radius: 15px;\n    flex-direction: column;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst DeleteDocModal = (props) => {\n\n    const deleteDoc = (docData) => {\n        console.log('deleting docs')\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID, docData.currentIndex)\n        }else{\n            deleteFolder(docData.docID, docData.currentIndex)\n        }\n    }\n\n    const deleteFile = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        \n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        props.setShowDeleteModal(false)\n    }\n\n    const deleteFolder = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', String(docID))\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n               deleteDoc(item.data())\n            })\n        })\n        .then(()=> {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(docID))\n            .delete()\n            .then(()=>null)\n            .catch(err=>console.log(err))\n            props.setShowDeleteModal(false)\n        })\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const removeDocFromStore = (currentIndex) => {\n        let deletedItem = [...folderMap[props.currentLayer]]\n        deletedItem.splice(currentIndex, 1)\n        if(props.currentLayer===0) props.dispatch(rootDocs(deletedItem))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(deletedItem))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(deletedItem))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(deletedItem))\n    }\n\n    const initialDelete = (docData) => {\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID)\n        }else{\n            deleteFolder(docData.docID)\n        }\n        removeDocFromStore(docData.currentIndex)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n        }\n    }\n\n    return(      \n        <div>\n            <Modal isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)} aria-label='cancel delete'>\n                <HeaderIconContainer>\n                    <Header>{`Delete ${props.projectSelectedData.type}`}</Header>\n                    <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowDeleteModal(false)}>\n                        <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                    </CloseDialog>\n                </HeaderIconContainer>\n                <p>{`Are you sure you want to delete ${props.projectSelectedData.name}?`}</p>\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)}  onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={()=>initialDelete(props.projectSelectedData)}>Delete</Delete>\n                </div>\n            </Modal>\n        </div>      \n\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(DeleteDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const BREADCRUMBS = 'BREADCRUMBS'\nexport const SORT_METHOD = 'SORT_METHOD'\n\nexport function sortMethod(data) {\n    return(dispatch) => {\n        dispatch({type: SORT_METHOD, payload: data})\n    }\n}\n\nexport function breadcrumbs(data) {\n    return(dispatch) => {\n        dispatch({type: BREADCRUMBS, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n    currentLayer,\n} from '../../../redux/actions/appActions'\nimport IconsComponent from '../../../Icons/IconComponent'\nimport moment from 'moment'\nimport RenameDocModal from './RenameDocModal'\nimport DeleteProjectModal from './DeleteDocModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { breadcrumbs, sortMethod } from '../../../redux/actions/dashboardActions'\nimport IconComponent from '../../../Icons/IconComponent'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const selectProject = (docData, index) => {\n        props.setProjectSelectedData({...docData, currentIndex: index})\n    }\n\n    const buttonPress = (e, type, docID, name) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='projects-table-row') {\n            selectItem(type, docID, name)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    const selectItem = (type, docID, name) => {\n        document.activeElement.blur()\n        if(type==='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .where('parentID', '==', docID)\n            .get()\n            .then(data=> {\n                const dataArr = []\n                data.forEach(item=> {\n                    dataArr.push(item.data())\n                })\n                let sortMethodToUse\n                if(props.sortMethod==='dateAsc') sortMethodToUse = sortProjectsDateAsc\n                if(props.sortMethod==='dateDesc') sortMethodToUse = sortProjectsDateDesc\n                if(props.sortMethod==='typeAsc') sortMethodToUse = sortProjectsTypeAsc\n                if(props.sortMethod==='typeDesc') sortMethodToUse = sortProjectsTypeDesc\n                if(props.sortMethod==='nameAsc') sortMethodToUse = sortProjectsNameAsc\n                if(props.sortMethod==='nameDesc') sortMethodToUse = sortProjectsNameDesc\n                if(props.currentLayer === 0) {\n                    props.dispatch(layerOneDocs(dataArr.sort(sortMethodToUse)))\n                }else if(props.currentLayer === 1) {\n                    props.dispatch(layerTwoDocs(dataArr.sort(sortMethodToUse)))\n                }else if(props.currentLayer === 2) {\n                    props.dispatch(layerThreeDocs(dataArr.sort(sortMethodToUse)))\n                    console.log(dataArr)\n                }\n                props.dispatch(currentLayer(props.currentLayer + 1))\n                const breadcrumb = {\n                    name,\n                    docID, \n                }\n                const breadcrumbsCopy = [...props.breadcrumbs]\n                breadcrumbsCopy.push(breadcrumb)\n                props.dispatch(breadcrumbs(breadcrumbsCopy))\n            })\n        }else{\n            openFile(type, docID)\n        }\n    }\n\n    const openFile = (fileType, docID) => {\n        const location = `/writing-app/edit/${fileType}/${docID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    const sortProjectsDateAsc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.type.localeCompare(a.type)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const changeSortOrder = (sortType) => {\n        let sortMethodToUse\n        let sortMethodName\n        if(sortType === 'name') {\n            if(props.sortMethod === 'nameDesc') {\n                sortMethodToUse = sortProjectsNameAsc\n                sortMethodName = 'nameAsc'\n            }else{\n                sortMethodToUse = sortProjectsNameDesc\n                sortMethodName = 'nameDesc'\n            }\n        }\n        if(sortType === 'type') {\n            if(props.sortMethod === 'typeDesc') {\n                sortMethodToUse = sortProjectsTypeAsc\n                sortMethodName = 'typeAsc'\n            }else{\n                sortMethodToUse = sortProjectsTypeDesc\n                sortMethodName = 'typeDesc'\n            }\n        }\n        if(sortType === 'date') {\n            if(props.sortMethod === 'dateDesc') {\n                sortMethodToUse = sortProjectsDateAsc\n                sortMethodName = 'dateAsc'\n            }else{\n                sortMethodToUse = sortProjectsDateDesc\n                sortMethodName = 'dateDesc'\n            }\n        }\n        props.dispatch(sortMethod(sortMethodName))\n        if(props.rootDocs.length > 0) {\n            props.dispatch(rootDocs(props.rootDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerOneDocs.length > 0) {\n            props.dispatch(layerOneDocs(props.layerOneDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerTwoDocs.length > 0) {\n            props.dispatch(layerTwoDocs(props.layerTwoDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerThreeDocs.length > 0) {\n            props.dispatch(layerThreeDocs(props.layerThreeDocs.sort(sortMethodToUse)))\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc('preferences')\n        .update({\n            sortMethod: sortMethodName\n        })\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('name')}>\n                                Name\n                                {props.sortMethod === 'nameDesc' &&\n                                    <ArrowIcon rotate='rotate(180deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                                }\n                                {props.sortMethod === 'nameAsc' &&\n                                    <ArrowIcon rotate='rotate(0deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                                }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('type')}>\n                            Type\n                            {props.sortMethod === 'typeDesc' &&\n                                <ArrowIcon rotate='rotate(180deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                            }\n                            {props.sortMethod === 'typeAsc' &&\n                                <ArrowIcon rotate='rotate(0deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                            }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('date')}>\n                                Last modified\n                                {props.sortMethod === 'dateDesc' &&\n                                    <ArrowIcon rotate='rotate(0deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                                }\n                                {props.sortMethod === 'dateAsc' &&\n                                    <ArrowIcon rotate='rotate(180deg)'><IconsComponent><path d=\"M24 22h-24l12-20z\"/></IconsComponent></ArrowIcon>\n                                }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {folderMap[props.currentLayer]?.map((doc, index)=> {\n                        return(\n                            <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>buttonPress(e.code, doc.type, doc.docID, doc.name)} role='button' onFocus={()=>selectProject(doc, index)} onClick={()=>selectItem(doc.type, doc.docID, doc.name)} key={index}>\n                                <Cell role='cell'>\n                                    <DocIconNameContainer>\n                                        {doc.type==='folder' &&\n                                            <DocIcon><IconComponent><path d=\"M6.083 4c1.38 1.612 2.578 3 4.917 3h11v13h-20v-16h4.083zm.917-2h-7v20h24v-17h-13c-1.629 0-2.305-1.058-4-3z\"/></IconComponent></DocIcon>\n                                            // <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='screenplay' &&\n                                            <DocIcon><IconComponent><path d=\"M21.155 8.64c-.909 1.519-2.327 3.067-4.097 3.004-.413.706-.852 1.677-1.339 2.803l-1.312.553c.936-2.343 2.231-4.961 3.698-6.994-.67.529-1.746 1.637-2.662 2.783-1.098-1.828-.3-3.691.973-5.179.021.641.359 1.196.601 1.475-.087-.53-.114-1.489.195-2.351.718-.732 1.364-1.271 2.113-1.76-.083.478.08 1.026.262 1.361.024-.49.224-1.43.521-1.84.924-.727 2.332-1.373 3.892-1.495-.081.973-.436 2.575-1.024 3.604-.515.404-1.221.68-1.791.833.493.089 1.031.077 1.494-.001-.269.743-.552 1.428-.998 2.276-.679.468-1.578.732-2.203.825.46.187 1.272.245 1.677.103zm-13.841 3.805l.645.781 4.773-2.791-.668-.768-4.75 2.778zm6.96-.238l-.668-.767-4.805 2.808.645.781 4.828-2.822zm4.679.007c-.421.203-.851.341-1.286.398-.12.231-.246.494-.377.773l.298.342c.623.692.459 1.704-.376 2.239-.773.497-5.341 3.376-6.386 4.035-.074-.721-.358-1.391-.826-1.948-.469-.557-6.115-7.376-7.523-9.178-.469-.6-.575-1.245-.295-1.816.268-.549.842-.918 1.43-.918.919 0 1.408.655 1.549 1.215.16.641-.035 1.231-.623 1.685l1.329 1.624 7.796-4.446c1.422-1.051 1.822-2.991.93-4.513-.618-1.053-1.759-1.706-2.978-1.706-1.188 0-.793-.016-9.565 4.475-1.234.591-2.05 1.787-2.05 3.202 0 .87.308 1.756.889 2.487 1.427 1.794 7.561 9.185 7.616 9.257.371.493.427 1.119.15 1.673-.277.555-.812.886-1.429.886-.919 0-1.408-.655-1.549-1.216-.156-.629.012-1.208.604-1.654l-1.277-1.545c-.822.665-1.277 1.496-1.377 2.442-.232 2.205 1.525 3.993 3.613 3.993.596 0 1.311-.177 1.841-.51l9.427-5.946c.957-.664 1.492-1.781 1.492-2.897 0-.745-.24-1.454-.688-2.003l-.359-.43zm-7.933-10.062c.188-.087.398-.134.609-.134.532 0 .997.281 1.243.752.312.596.226 1.469-.548 1.912l-5.097 2.888c-.051-1.089-.579-2.081-1.455-2.732l5.248-2.686zm2.097 13.383l.361-.905.249-.609-3.449 2.017.645.781 2.194-1.284z\"/></IconComponent></DocIcon>\n                                            // <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.type==='notes' &&\n                                            <DocIcon><IconComponent><path d=\"M4 22v-20h16v11.543c0 4.107-6 2.457-6 2.457s1.518 6-2.638 6h-7.362zm18-7.614v-14.386h-20v24h10.189c3.163 0 9.811-7.223 9.811-9.614zm-5-1.386h-10v-1h10v1zm0-4h-10v1h10v-1zm0-3h-10v1h10v-1z\"/></IconComponent></DocIcon>\n                                            // <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='outline' &&\n                                            <DocIcon><IconComponent><path d=\"M4 4v20h20v-20h-20zm18 18h-16v-13h16v13zm-3-3h-10v-1h10v1zm0-3h-10v-1h10v1zm0-3h-10v-1h10v1zm2-11h-19v19h-2v-21h21v2z\"/></IconComponent></DocIcon>\n                                            // <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.name}\n                                    </DocIconNameContainer>\n                                </Cell>\n                                <Cell role='cell'>{doc.type}</Cell>\n                                <Cell role='cell'>{moment(doc.lastModified).format('ll')}</Cell>\n                                <Cell role='cell'>\n                                    <IconContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showRenameProject(e)} label='rename file'>\n                                            <IconTitle>Rename</IconTitle>\n                                            <Icon><IconComponent><path d=\"M18.363 8.464l1.433 1.431-12.67 12.669-7.125 1.436 1.439-7.127 12.665-12.668 1.431 1.431-12.255 12.224-.726 3.584 3.584-.723 12.224-12.257zm-.056-8.464l-2.815 2.817 5.691 5.692 2.817-2.821-5.693-5.688zm-12.318 18.718l11.313-11.316-.705-.707-11.313 11.314.705.709z\"/></IconComponent></Icon>\n                                            {/* <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" /> */}\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showDeleteProject(e)} label='delete file' >\n                                            <IconTitle>Delete</IconTitle>\n                                            <Icon><IconComponent><path d=\"M9 19c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5-17v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712zm-3 4v16h-14v-16h-2v18h18v-18h-2z\"/></IconComponent></Icon>\n                                            {/* <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" /> */}\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                    </IconContainer>\n                                </Cell>\n                            </Row>\n                        )\n                    })}\n                </TableBody>\n            </Table> \n            <RenameDocModal showRenameModal={showRenameModal} projectSelectedData={props.projectSelectedData} setShowRenameModal={setShowRenameModal} />\n            <DeleteProjectModal showDeleteModal={showDeleteModal} projectSelectedData={props.projectSelectedData} setShowDeleteModal={setShowDeleteModal} />\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    rootDocs: state.app.rootDocs,\n    currentLayer: state.app.currentLayer,\n    currentProjectID: state.app.currentProjectID,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    sortMethod: state.dashboard.sortMethod,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst ColumnNameButton = styled.button`\n    display: flex;\n    align-items: center;\n`\n\nconst ArrowIcon = styled.div`\n    transform: scale(.6) ${props=>props.rotate};\n    margin-left: 5px;\n`\n\nconst DocIconNameContainer = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst DocIcon = styled.div`\n    /* height: 20px;\n    width: 20px; */\n    margin-right: 10px;\n`\n\nconst IconTitle = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    /* padding: 0.5rem; */\n    padding: 10px 15px;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n    white-space: nowrap;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst Row = styled.div`\n    border-collapse: separate;\n    cursor: pointer;\n    display: table-row;\n    background-color: var(--sidebar);\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.div` \n    /* width: 18px;\n    height: 18px; */\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%) scale(.7);\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 15px 20px;\n    vertical-align: middle;\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport CreateDocModal from './CreateDocModal'\nimport {\n    Menu,\n    MenuList,\n    MenuButton,\n    MenuItem,\n} from \"@reach/menu-button\";\nimport \"@reach/menu-button/styles.css\";\nimport ProjectsTable from './DocsTable'\nimport { rootDocs, currentLayer } from '../../../redux/actions/appActions'\nimport { sortMethod } from '../../../redux/actions/dashboardActions'\nconst AllFiles = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    const [projectSelectedData, setProjectSelectedData] = useState({})\n    const [createType, setCreateType] = useState('')\n    // const [currentDocID, setCurrentDocID] = useState('')\n    useEffect(()=> {\n        if(props.userData.userID) {\n            getInitialFilesAndFolders()\n        }\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjectsDateAsc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const getInitialFilesAndFolders = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', props.userData.userID)\n        .get()\n        .then(data=> {\n            const projectArr = []\n            let sortMethodType\n            data.forEach(project=> {\n                const docData = project.data()\n                if(docData.sortMethod) {\n                    sortMethodType = docData.sortMethod\n                    props.dispatch(sortMethod(docData.sortMethod))\n                }else{\n                    projectArr.push(docData)\n                }\n            })\n            props.dispatch(currentLayer(0))\n            if(sortMethodType==='dateAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateAsc)))\n            if(sortMethodType==='dateDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateDesc)))\n            if(sortMethodType==='nameAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameAsc)))\n            if(sortMethodType==='nameDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameDesc)))\n            if(sortMethodType==='typeAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeAsc)))\n            if(sortMethodType==='typeDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeDesc)))\n        })\n    }\n\n    const openModal = (type) => {\n        setIsCreateProjectModal(true)\n        setCreateType(type)\n    }\n\n    return(\n        <Container>\n\n            <CreateDocModal isCreateProjectModal={isCreateProjectModal} projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} createType={createType} getProjects={getInitialFilesAndFolders} setIsCreateProjectModal={setIsCreateProjectModal} />\n            <Menu>\n                <CreateNew><Plus>+</Plus> Create new</CreateNew>\n                <List>\n                    <Item onSelect={()=>openModal('folder')}>\n                        <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                            Folder\n                        </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('screenplay')}>\n                        <MenuIconContainer>\n                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                            Screenplay\n                        </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('outline')}>\n                    <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                        Outline\n                    </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('notes')}>\n                    <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                        Notes\n                    </MenuIconContainer>\n                    </Item>\n                </List>\n            </Menu>\n            <ProjectsTable projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(AllFiles)\n\nconst Container = styled.div`\n    width: 75vw;\n`\n\nconst Plus = styled.span`\n    font-size: 1.75rem;\n    margin-right: 5px;\n`\n\nconst Item = styled(MenuItem)`\n    font-size: 1rem;\n`\n\nconst MenuIconContainer = styled.div`\n    display: flex;\n`\n\nconst DocIcon = styled.img`\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n`\n\nconst CreateNew = styled(MenuButton)`\n    background-color: black;\n    color: white;\n    padding: 8px 15px;\n    border-radius: 10px;\n    margin: 0px 0 20px 0;\n    display: flex;\n    align-items: center;\n    font-size: .875rem;\n`\n\nconst List = styled(MenuList)`\n    min-width: 100px;\n`","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport AllFiles from './AllFiles'\nimport { connect } from 'react-redux'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n        })\n    }\n\n    return(\n        <div>\n            <AllFiles />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport IconComponent from '../../../Icons/IconComponent'\nimport { connect } from 'react-redux'\nimport { dashboardCurrentSection } from '../../../redux/actions/appActions'\n\nconst Sidebar = (props) => {\n\n    const navigateSidebar = (menuItem) => {\n        // if(menuItem==='projects') getProjects()\n        // if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <Logo>Redraft</Logo>\n            <UL>\n                <LI>\n                <Link to='/writing-app/dashboard'>\n                    <LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'} >\n                    {/* <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" /> */}\n                    <Icon><IconComponent><path d=\"M6 22v-16h16v7.543c0 4.107-6 2.457-6 2.457s1.518 6-2.638 6h-7.362zm18-7.614v-10.386h-20v20h10.189c3.163 0 9.811-7.223 9.811-9.614zm-10 1.614h-5v-1h5v1zm5-4h-10v1h10v-1zm0-3h-10v1h10v-1zm2-7h-19v19h-2v-21h21v2z\"/></IconComponent></Icon>\n                    All files\n                    </LiButton>\n                </Link>\n                </LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon><IconComponent><path d=\"M13 12.414v-12.364c6.158.51 11 5.66 11 11.95 0 6.627-5.373 12-12 12-2.953 0-5.654-1.072-7.744-2.842l8.744-8.744zm-2-12.364c-6.158.51-11 5.66-11 11.95 0 2.954 1.072 5.654 2.842 7.745l1.42-1.42c-1.412-1.725-2.262-3.928-2.262-6.325 0-5.177 3.953-9.446 9-9.949v-2.001z\"/></IconComponent></Icon>\n                    Analytics\n                </LiButton ></LI>\n                <LI>\n                <Link to='/writing-app/dashboard/settings'>\n                    <LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon><IconComponent><path d=\"M24 14.187v-4.374c-2.148-.766-2.726-.802-3.027-1.529-.303-.729.083-1.169 1.059-3.223l-3.093-3.093c-2.026.963-2.488 1.364-3.224 1.059-.727-.302-.768-.889-1.527-3.027h-4.375c-.764 2.144-.8 2.725-1.529 3.027-.752.313-1.203-.1-3.223-1.059l-3.093 3.093c.977 2.055 1.362 2.493 1.059 3.224-.302.727-.881.764-3.027 1.528v4.375c2.139.76 2.725.8 3.027 1.528.304.734-.081 1.167-1.059 3.223l3.093 3.093c1.999-.95 2.47-1.373 3.223-1.059.728.302.764.88 1.529 3.027h4.374c.758-2.131.799-2.723 1.537-3.031.745-.308 1.186.099 3.215 1.062l3.093-3.093c-.975-2.05-1.362-2.492-1.059-3.223.3-.726.88-.763 3.027-1.528zm-4.875.764c-.577 1.394-.068 2.458.488 3.578l-1.084 1.084c-1.093-.543-2.161-1.076-3.573-.49-1.396.581-1.79 1.693-2.188 2.877h-1.534c-.398-1.185-.791-2.297-2.183-2.875-1.419-.588-2.507-.045-3.579.488l-1.083-1.084c.557-1.118 1.066-2.18.487-3.58-.579-1.391-1.691-1.784-2.876-2.182v-1.533c1.185-.398 2.297-.791 2.875-2.184.578-1.394.068-2.459-.488-3.579l1.084-1.084c1.082.538 2.162 1.077 3.58.488 1.392-.577 1.785-1.69 2.183-2.875h1.534c.398 1.185.792 2.297 2.184 2.875 1.419.588 2.506.045 3.579-.488l1.084 1.084c-.556 1.121-1.065 2.187-.488 3.58.577 1.391 1.689 1.784 2.875 2.183v1.534c-1.188.398-2.302.791-2.877 2.183zm-7.125-5.951c1.654 0 3 1.346 3 3s-1.346 3-3 3-3-1.346-3-3 1.346-3 3-3zm0-2c-2.762 0-5 2.238-5 5s2.238 5 5 5 5-2.238 5-5-2.238-5-5-5z\"/></IconComponent></Icon>\n                    Settings\n                </LiButton></Link></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    {/* <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" /> */}\n                    <Icon><IconComponent><path d=\"M9 19c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5-17v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712zm-3 4v16h-14v-16h-2v18h18v-18h-2z\"/></IconComponent></Icon>\n                    Deleted\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst Container = styled.div`\n    width: 18vw;\n    /* margin: 0 0 0 20px; */\n    padding: 0 20px;\n    /* background-color: hsl(0, 0%, 97%); */\n    background-color: var(--sidebar);\n    height: 100vh;\n    /* margin-top: 115px; */\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    display: flex;\n    border: none;\n    padding: 10px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    border-radius: 5px;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.div`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: -3px;\n`\n\nconst Logo = styled.h1`\n    font-size: 1.5rem;\n    font-weight: 700;\n    display: grid;\n    justify-content: center;\n    padding: 20px;\n    margin: 30px 0 70px 0;\n`","import { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport firebase from 'firebase'\nimport { colorThemes } from '../../../redux/actions/appActions'\nimport { useState } from 'react'\n\nconst ColorSelection = (props) => {\n    const [name, setName] = useState('')\n\n    const changeColor = (type) => {\n        const color = document.getElementById(type).value\n        props.dispatch(colorThemes({\n            ...props.colorThemes,\n            [type]: color\n        }))\n        db.collection('users')\n        .doc(props.userData.userID)\n        .update({\n            ['preferences.colors.' + type]: color,\n        })\n        .catch(err=>console.log(err))\n    }\n\n    const saveTheme = () => {\n        const colors = {\n            background: document.getElementById('background').value,\n            primaryText: document.getElementById('primaryText').value,\n            sidebar: document.getElementById('sidebar').value\n        }\n        props.addTheme({\n            colors,\n            name,\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('page-preferences')\n        .doc('color-themes')\n        .update({\n            themes: firebase.firestore.FieldValue.arrayUnion({\n                colors,\n                name,\n            })\n        })\n    }\n\n    return(\n        <div>\n            <h1>Change colors</h1>\n            <label htmlFor='background'>Pick background color:</label>\n            <input defaultValue={props.colorThemes.background} onChange={()=>changeColor('background')} type='color' id='background' />\n            <br></br>\n            <br></br>\n            <label htmlFor='primaryText'>Pick primary text color:</label>\n            <input defaultValue={props.colorThemes.primaryText} onChange={()=>changeColor('primaryText')} type='color' id='primaryText' />\n            <br></br>\n            <br></br>\n            <label htmlFor='sidebar'>Pick sidebar color:</label>\n            <input defaultValue={props.colorThemes.sidebar} onChange={()=>changeColor('sidebar')}type='color' id='sidebar' />\n            <br></br>\n            <br></br>\n            <input onChange={(e)=>setName(e.target.value)}></input>\n            <button onClick={saveTheme}>Save theme</button>\n            <br></br>\n            <br></br>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    colorThemes: state.app.colorThemes,\n})\n\nexport default connect(mapStateToProps)(ColorSelection)","import { connect } from 'react-redux'\nimport { colorThemes } from '../../../redux/actions/appActions'\nimport { db } from '../../../firebase'\n\nconst ColorTemplates = (props) => {\n\n    const selectTheme = (themeColors) => {\n        props.dispatch(colorThemes(themeColors))\n        db.collection('users')\n        .doc(props.userData.userID)\n        .update({\n            'preferences.colors': themeColors,\n        })\n        .catch(err=>console.log(err))\n        // console.log(props.colorThemes)\n    }\n\n    return(\n        <div>\n            Color Themes:\n            {props.themes.map((theme, index)=> {\n                return(\n                <button onClick={()=>selectTheme(theme.colors)} style={{backgroundColor: 'green', padding: '5px'}} key={index}>\n                    {theme.name}\n                </button>\n                )\n            })}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    colorThemes: state.app.colorThemes,\n})\n\nexport default connect(mapStateToProps)(ColorTemplates)","import { db } from '../../../firebase'\nimport { useEffect, useState } from 'react'\nimport ColorSelection from './ColorSelection'\nimport ColorTemplates from './ColorTemplates'\nimport { connect } from 'react-redux'\n\nconst ChangeColors = (props) => {\n\n    const [themes, setThemes] = useState([])\n\n    useEffect(()=> {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('page-preferences')\n        .doc('color-themes')\n        .get()\n        .then(data=> {\n            setThemes(data.data().themes)\n        })\n        // eslint-disable-next-line\n    }, [])\n\n    const addTheme = (theme) => {\n        const themesCopy = [...themes]\n        themesCopy.push(theme)\n        setThemes(themesCopy)\n    }\n\n    return(\n        <div>\n            <ColorSelection addTheme={addTheme} />\n            <ColorTemplates themes={themes} />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n})\n\nexport default connect(mapStateToProps)(ChangeColors)","import ChangeColors from './ChangeColors/ChangeColors'\n\nconst Settings = () => {\n    return(\n        <div>\n            <ChangeColors />\n        </div>\n    )\n}\n\nexport default Settings","import styled from \"styled-components\";\nimport { connect } from 'react-redux'\nimport { \n    currentLayer,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n } from '../../redux/actions/appActions'\nimport { breadcrumbs } from '../../redux/actions/dashboardActions'\n\nconst Breadcrumbs = (props) => {\n\n    const breadcrumbRoute = (indexToRoute) => {\n        props.dispatch(currentLayer(indexToRoute))\n        const crumbsCopy = [...props.breadcrumbs]\n        const breadcrumbsReduced = crumbsCopy.slice(0, indexToRoute+1)\n        props.dispatch(breadcrumbs(breadcrumbsReduced))\n        if(indexToRoute <= 0) props.dispatch(layerOneDocs([]))\n        if(indexToRoute <= 1) props.dispatch(layerTwoDocs([]))\n        if(indexToRoute <= 2) props.dispatch(layerThreeDocs([]))\n    }\n\n    return(\n        <Container>\n            {props.breadcrumbs.map((crumb, index)=> {\n                return(\n                    <Crumb onClick={()=>breadcrumbRoute(index)} key={index}>{crumb.name}</Crumb>\n                )\n            })}\n        </Container>\n    )\n} \n\nconst mapStateToProps = state => ({\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootLayer: state.app.rootLayer,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(Breadcrumbs)\n\nconst Crumb = styled.button`\n    cursor: pointer;\n    font-size: 1.75rem;\n    font-weight: 500;\n    &:not(:first-of-type) {\n        margin-left: 5px;\n        &:before {\n            margin-right: 5px;\n            content: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAzbDMuMDU3LTMgMTEuOTQzIDEyLTExLjk0MyAxMi0zLjA1Ny0zIDktOXoiLz48L3N2Zz4=\");\n        }\n    }\n    &:not(:last-of-type) {\n        margin-left: 5px;\n        opacity: 0.6;\n        font-size: 1.7rem;\n        font-weight: 400;\n    }\n    &:hover{\n        opacity: 1;\n    }\n`\n\nconst Container = styled.nav`\n    display: flex;\n    margin: 20px 0;\n`","// import Projects from './FilesList/Projects'\nimport styled from 'styled-components'\nimport { Route } from 'react-router-dom'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport Settings from '../Settings/Settings'\nimport { connect } from 'react-redux'\nimport Breadcrumbs from './Breadcrumbs'\nconst Dashboard = () => {\n    return(\n        <Container>\n            <Sidebar />\n            <FilesContainer>\n                <Route exact path='/writing-app/dashboard' render={(props)=> (\n                    <div>\n                        <Breadcrumbs />\n                        <FilesList {...props} />\n                    </div>\n                )} />\n                <Route exact path='/writing-app/dashboard/settings' render={(props)=> (\n                    <Settings {...props} />\n                )} />\n            </FilesContainer>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n\nexport const FilesContainer = styled.div`\n    padding: 0 10px 0 50px;\n`\n\nexport const Container = styled.div`\n    /* width: 100vw;  */\n    display: flex;\n`","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n        props.dispatch(outlineItemsForUpdate(newOutline))\n\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowEditModal(false)\n            document.getElementById(`card-edit-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal onDismiss={()=>props.setShowEditModal(false)} aria-label='edit card' isOpen={props.showEditModal}>\n            <Header>Edit card</Header>\n            <div>\n                <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                <div style={{marginBottom: '20px'}}></div>\n                <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n            </div>\n            <div>\n                <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                <Save onClick={saveCardEdits}>Save</Save>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled(Dialog)`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n            document.getElementById(`card-delete-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal aria-label='delete card dialog' isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)}>\n            <Header>Delete card</Header>\n            <p>Are you sure you want to delete this card?</p>\n            <div>\n                <Cancel onKeyDown={closeModal} onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                <Delete onClick={deleteCard}>Delete</Delete>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        // document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props?.outlineItemsForUpdate?.length + 1)\n        // eslint-disable-next-line \n    }, [props.outlineItemsForUpdate])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Modal aria-label='create card' isOpen={props.showCreateModal} onDismiss={()=>props.setShowCreateModal(false)}>\n            <Header>Create new card</Header>\n            <Label>Title</Label>\n            <Title onChange={(e)=>setTitle(e.target.value)} />\n            <Label>Description</Label>\n            <Description onChange={(e)=>setText(e.target.value)} />\n            <Label>Insert at location:</Label>\n            <div>\n                <Location defaultValue={props.outlineItemsForUpdate.length + 1} id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineItemsDisplay.length + 1}\n            </div>\n            <div style={{display: 'flex'}}>\n                <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                <Create onClick={createNewOutlineCard}>Create</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <IconBackgroundContainer id={`card-edit-button-${props.index}`} role='button' onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)}>\n                            <IconTitle>Rename</IconTitle>\n                            <IconBackground />\n                            <Icon alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                        \n                        <IconBackgroundContainer id={`card-delete-button-${props.index}`} role='button' onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)}>\n                            <IconTitle>Delete</IconTitle>\n                            <IconBackground />\n                            <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n    font-size: 1rem;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.article`\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/writing-app'>\n                <div>Home</div>\n            </Link>\n            {props?.outlineData?.name}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n\n            <EditCardModal showEditModal={showEditModal} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            \n\n            <DeleteCardModal showDeleteModal={showDeleteModal} setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n\n\n            <CreateCardModal showCreateModal={showCreateModal} itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\n\n//components \n\nexport const Dialog = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <DialogStyles {...props.attributes}>{props.children}</DialogStyles>\n        </CenteredItemsContainer>\n    )\n}\n\nexport const Character = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <CharacterStyles {...props.attributes}>{props.children}</CharacterStyles>\n        </CenteredItemsContainer>\n    )\n}\n\nexport const SceneHeading = (props) => {\n    return <SceneHeadingStyles {...props.attributes}>{props.children}</SceneHeadingStyles>\n}\n\nexport const Paragraph = (props) => {\n    return <ParagraphStyles {...props.attributes}>{props.children}</ParagraphStyles>\n}\n\nexport const Transition = (props) => {\n    return <TransitionStyles {...props.attributes}>{props.children}</TransitionStyles>\n}\n\nexport const Parenthetical = (props) => {\n    return (\n        <CenteredItemsContainer>\n            <ParentheticalStyles {...props.attributes}>{props.children}</ParentheticalStyles>\n        </CenteredItemsContainer>\n    )\n}\n\n//styles \n\nexport const TransitionStyles = styled.p`\n    font-weight: 500;\n    display: flex;\n    justify-content: flex-end;\n    /* color: red; */\n    font-family: 'Courier New', Courier, monospace;\n    text-transform: uppercase;\n    margin-left: 1px;\n    transform: translate(-1px);\n`\n\nexport const SceneHeadingStyles = styled.p`\n    font-weight: 600;\n    text-transform: uppercase;\n    font-family: 'Courier New', Courier, monospace;\n`\n\nexport const ParagraphStyles = styled.p`\n    /* color: blue; */\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 1rem;\n    max-width: 60ch;\n`\n\nexport const CenteredItemsContainer = styled.div`\n    display: flex;\n    justify-content: center;\n    margin-left: 1px;\n    transform: translate(-1px);\n`\n\nexport const CharacterStyles = styled.p`\n    /* text-align: center; */\n    font-family: 'Courier New', Courier, monospace;\n    /* color: orange; */\n`\n\nexport const ParentheticalStyles = styled.p`\n    font-family: 'Courier New', Courier, monospace;\n    width: 26ch;\n    /* color: brown; */\n`\n\nexport const DialogStyles = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n    width: 34ch;\n`\n\nexport const Container = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n    width: 60vw;\n    max-width: 600px;\n    margin: 0 auto;\n`\n\nexport const AutocompleteContainer = styled.div`\n    font-family: 'Courier New', Courier, monospace;\n`\n\nexport const AutocompleteBackground = styled.div`\n    position: absolute;\n    top: ${props=>props.position.top};\n    left: ${props=>props.position.left};\n    display: ${props=>props.position.display};\n    flex-direction: column;\n    font-family: 'Courier New', Courier, monospace;\n    background-color: white;\n    border-radius: 5px;\n`\n\nexport const AutocompleteItem = styled.span`\n    padding: 8px;\n    font-family: 'Courier New', Courier, monospace;\n    font-weight: 600;\n    background-color: ${props=>props.isSelected ? 'hsl(217, 49%, 94%)' : 'transparent'};\n    &:first-of-type {\n        border-radius: 5px 5px 0 0;\n    }\n    &:last-of-type {\n        border-radius: 0 0 5px 5px;\n    }\n`\n\n// dropdown items\nexport const TIME_OF_DAY = [\n    'DAWN',\n    'MORNING',\n    'DAY',\n    'AFTERNOON',\n    'DUSK',\n    'NIGHT',\n    'EVENING',\n]","import {\n    AutocompleteBackground,\n    AutocompleteContainer,\n    AutocompleteItem,\n} from './EditorAssets'\n\nconst Autocomplete = (props) => {\n    return(\n        <AutocompleteContainer >\n            <AutocompleteBackground position={props.position}>\n                {props.items.map((item, index)=> {\n                    return <AutocompleteItem isSelected={index===props.index} key={item}>{item}</AutocompleteItem>\n                })}\n            </AutocompleteBackground>\n        </AutocompleteContainer>\n    )\n}\n\nexport default Autocomplete","// @refresh reset\nimport { createEditor, Editor, Transforms, Range } from 'slate'\nimport { Slate, Editable, withReact, ReactEditor } from 'slate-react'\nimport { useMemo, useState, useCallback, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport Autocomplete from './Autocomplete'\nimport {\n    TIME_OF_DAY,\n    Container,\n    Dialog,\n    SceneHeading,\n    Paragraph,\n    Transition,\n    Character,\n    Parenthetical\n} from './EditorAssets'\n\nconst EditorInterface = (props) => {\n    const editor = useMemo(()=> withReact(createEditor()), [])\n    const [value, setValue] = useState([{type: 'paragraph', children: [{text: ''}]}])\n    const [target, setTarget] = useState()\n    const [index, setIndex] = useState(0)\n    const [position, setPosition] = useState({top: '-9999px', left: '-9999px', display: 'none',})\n    const [searchType, setSearchType] = useState('')\n    const [searchQuery, setSearchQuery] = useState('')\n\n    const searchMap = {\n        names: props.characters,\n        times: TIME_OF_DAY,\n        locations: props.locations,\n    }\n\n    const searchResults = searchMap[searchType]?.filter(item=> {\n        return item.startsWith(searchQuery.toUpperCase()) && item!==searchQuery.toUpperCase()\n    })\n\n    useEffect(()=> {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(data=> {\n            const script = data.data().text\n            if(script.length > 0) {\n                setValue(script)\n                props.getCharacters(script)\n                props.getLocations(script)\n            }\n        })\n        // eslint-disable-next-line\n    }, [])\n\n    useEffect(()=> {\n        props.updateSavingStatus('Saving...')\n        const saveScript = (scriptObject, userID, scriptID) => {\n            db.collection('users')\n            .doc(userID)\n            .collection('files')\n            .doc(scriptID)\n            .update({\n                text: scriptObject\n            })\n            .then(()=> {\n                props.updateSavingStatus('All changes saved')\n            })\n        }\n        const save = setTimeout(()=> saveScript(value, props.userData.userID, props.match.params.fileID), 2000)\n        return ()=> clearTimeout(save)\n        // eslint-disable-next-line\n    }, [value])\n\n    useEffect(() => {\n        if(editor.selection) {\n            const { path } = editor.selection.focus\n            const currentText = value[path[0]]?.children[0]?.text\n            if (target && searchType.length > 0 && searchResults?.length > 0 && currentText?.length > 0) {\n                const domRange = ReactEditor.toDOMRange(editor, target)\n                const rect = domRange.getBoundingClientRect()\n                setPosition({\n                    top: `${rect.top + window.pageYOffset + 25}px`,\n                    left: `${rect.left + window.pageXOffset}px`,\n                    display: 'flex',\n                })\n            }else{\n                setPosition({\n                    top: '-9999px',\n                    left: '-9999px',\n                    display: 'none'\n                })\n            }\n        }\n        // eslint-disable-next-line \n    }, [searchResults?.length, searchType, editor.selection, searchQuery, target])\n    \n    const renderElement = useCallback((props)=> {\n        const { type } = props.element\n        if(type==='character') return <Character {...props} />\n        if(type==='dialog') return <Dialog {...props} />\n        if(type==='heading') return <SceneHeading {...props} />\n        if(type==='transition') return <Transition {...props} />\n        if(type==='parenthetical') return <Parenthetical {...props} />\n        return <Paragraph {...props} />\n    }, [])\n\n    const functions = {\n        checkTransition(e, currentText) {\n            if(e.code==='Semicolon' \n            && e.shiftKey\n            && currentText === currentText.toUpperCase()\n            ) {\n                this.setNode('transition')\n                return true\n            }\n            return false\n        },\n        checkDescription(path, e, currentText) {\n            const previousText = value[path[0]-1].children[path[1]].text \n            const previousPreviousType = value[path[0]-2].type\n            const currentTextUppercase = currentText.toUpperCase()\n            if(previousText === '' \n                && e.key !== 'Enter'\n                && !currentTextUppercase.includes('EXT.')\n                && !currentTextUppercase.includes('INT.')\n                && !currentTextUppercase.includes('INT./EXT.')\n                && previousPreviousType !== 'dialog'\n            ) {\n                this.setNode(null)\n                return true\n            }\n            return false\n        },\n        checkDialog(path) {\n            const previousText = value[path[0]-1].children[path[1]].text\n            const previousType = value[path[0]-1].type\n            if(\n                previousText === previousText.toUpperCase() \n                && previousText.length > 0\n                && previousText[previousText.length - 1] !== ':'\n            ) {\n                Transforms.setNodes(\n                    editor,\n                    { type: 'character' },\n                    { \n                        at: [path[0]-1],\n                        match: n => Editor.isBlock(editor, n),\n                        mode: 'lowest',\n                    },\n                )\n                this.setNode('dialog')\n                return true\n            }else if(previousText[0] === '(' || previousType==='character') {\n                this.setNode('dialog')\n                return true\n            }\n            return false\n        },\n        checkParenthetical(path, currentText, e) {\n            const character = value[path[0]-1].children[path[1]].text\n            if(character === character.toUpperCase() \n            && (currentText[0] === '(' || (e.key==='(' && e.shiftKey))\n            ) {\n                this.setNode('parenthetical')\n                Transforms.setNodes(\n                    editor,\n                    { type: 'character' },\n                    { \n                        at: [path[0]-1],\n                        match: n => Editor.isBlock(editor, n),\n                        mode: 'lowest',\n                    },\n                )\n                return true\n            }\n            return false\n        },\n        checkCharacter(path, currentText, currentType) {\n            if(path[0] > 1) {\n                const previousType = value[path[0]-2].type\n                if(\n                    previousType === 'dialog' \n                    && currentType\n                    && currentText === currentText.toUpperCase()\n                    && !currentText.includes('INT.')\n                    && !currentText.includes('EXT.')\n                    && !currentText.includes('INT./EXT.')\n                ) {\n                    this.setNode('character')\n                    return true\n                }\n            }\n            return false\n        },\n        incrementIndex(e) {\n            if(e.key==='ArrowUp') {\n                e.preventDefault()\n                setIndex(index === 0 ? searchResults.length - 1 : index - 1)\n                return true\n            }\n            if(e.key==='ArrowDown') {\n                e.preventDefault()\n                setIndex(index === searchResults.length - 1 ? 0 : index + 1)\n                return true\n            }\n        },\n        timeSearch(newValue) {\n            const { path } = editor.selection.focus\n            const currentText = newValue[path[0]].children[0].text\n            if(!currentText.includes('-')) return\n            const splitValue = currentText.split('-')\n            if(splitValue.length > 1) {\n                setSearchQuery((splitValue[splitValue.length - 1]).trim())\n            }\n        },\n        insertNodes(type) {\n            const obj = {children: [{ text: '' }]}\n            if(type) obj['type'] = type\n            Transforms.insertNodes(editor, [obj])  \n        },\n        replaceLocation(path) {\n            const currentText = value[path[0]].children[path[1]].text\n            const intExt = currentText.split(' ')[0].toUpperCase() \n            const [endPosition] = Range.edges(editor.selection)\n            let offset = 0\n            if(intExt=== 'INT.' || intExt === 'EXT.') offset = 5\n            if(intExt=== 'INT./EXT.') offset = 10\n            const startPosition = { offset, path }\n            const range = Editor.range(editor, startPosition, endPosition)\n            this.insertText(searchResults[index], range)\n            if(!currentText.includes('-')) {\n                this.insertText(' - ')\n            }\n            setIndex(0)\n            setSearchQuery('')\n        },\n        handleDelete(path, e, type) {\n            const currentText = value[path[0]].children[path[1]].text\n            const offset = editor.selection.focus.offset\n            if(currentText.length > 0 && offset > 0) return\n            if(currentText === '' && (type==='heading' || !type)) return\n            e.preventDefault()\n            return this.setNode(null)\n        },\n        handleEnter(path, e, type) {\n            if(type === 'transition') {\n                editor.insertBreak()\n                return this.setNode(null)\n            }\n            if(!type) {\n                editor.insertBreak()\n            }\n            if(type === 'dialog') {\n                e.preventDefault()\n                this.insertNodes(null)\n                this.insertNodes('character')\n            }\n            if(type === 'parenthetical') {\n                e.preventDefault()\n                return this.insertNodes('dialog')\n            }\n            return this.handleReplace(path, e, type)\n        }, \n        setNode(newType) {\n            return Transforms.setNodes(\n                editor,\n                { type: newType },\n                { match: n => Editor.isBlock(editor, n) },\n            )\n        },\n        insertText(text, position) {\n            Transforms.insertText(\n                editor,\n                text, \n                { at: position }\n            )\n        },\n        replaceCharacter(path) {\n            this.insertText(searchResults[index], [path[0]])\n            props.addCharacter(searchResults[index])\n            if(value[path[0]].type==='character') {\n                this.insertNodes('dialog')\n            }else{\n                editor.insertBreak()\n            }\n        },\n        replaceTime(path) {\n            const [endPosition] = Range.edges(editor.selection)\n            const startPosition = Editor.before(editor, endPosition, { unit: 'word' })\n            const range =  Editor.range(editor, startPosition, endPosition)\n            this.insertText(searchResults[index], range)\n            this.insertNodes(null)\n            const heading = value[path[0]].children[0].text\n            props.addLocation(heading)\n            return this.insertNodes(null)\n        },\n        handleReplace(path, e, type) {\n            if(searchResults?.length > 0 && searchType==='locations' && searchQuery.length>0) {\n                e.preventDefault()\n                return functions.replaceLocation(path)\n            }\n\n            if(searchResults?.length > 0 && searchType.length > 0 && searchQuery.length>0) {\n                e.preventDefault()\n                setSearchQuery('')\n                setIndex(0)\n                if(searchType==='names') return functions.replaceCharacter(path)\n                return functions.replaceTime(path)\n            } else if (e.key==='Enter' && type === 'character') {\n                e.preventDefault()\n                const character = value[path[0]].children[0].text\n                props.addCharacter(character)\n                return this.insertNodes('dialog')\n            } else if (e.key==='Enter' && type === 'heading') {\n                e.preventDefault()\n                this.insertNodes(null)\n                const heading = value[path[0]].children[0].text\n                props.addLocation(heading)\n                return this.insertNodes(null)\n            }\n        },\n\n        checkHeading(splitText) {\n            const intExt = splitText[0].toUpperCase()\n            if(intExt === 'INT.' || intExt === 'EXT.' || intExt === 'INT./EXT.') {\n                this.setNode('heading')\n                return true\n            }\n            return false\n        },\n    }\n\n    const modifiers = (e) => {\n        if(!editor.selection) return\n        if(searchQuery.length > 0 && searchType.length > 0 && searchResults.length > 0) {\n            if(functions.incrementIndex(e)) return\n        }\n        const { path } = editor.selection.focus\n        const { type } = value[path[0]]\n        const currentText = value[path[0]].children[0].text\n        const splitText = currentText.split(' ')\n        if (e.key==='Backspace') return functions.handleDelete(path, e, type)\n        if (e.key === 'Enter') return functions.handleEnter(path, e, type)\n        if (e.key === 'Tab') return functions.handleReplace(path, e, type)\n        if (functions.checkTransition(e, currentText)) return\n        if (functions.checkHeading(splitText)) return\n        if(path[0] > 1) {\n            if (functions.checkDescription(path, e, currentText)) return\n        }\n        if (functions.checkCharacter(path, currentText, type)) return\n        if(path[0] > 0) {\n            if (functions.checkParenthetical(path, currentText, e)) return\n            if (functions.checkDialog(path)) return\n        }\n    }\n\n    const namesOnChange = (newValue, path) => {\n        setSearchType('names')\n        setSearchQuery(newValue[path[0]].children[0].text)\n        const [endPosition] = Range.edges(editor.selection)\n        const startPosition = Editor.before(editor, endPosition, { unit: 'word' })\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const locationsOnChange = (startValue, joinedValue, path) => {\n        setSearchType('locations')\n        setSearchQuery(joinedValue.split('-')[0].trim())\n        const [endPosition] = Range.edges(editor.selection)\n        let offset = 0\n        const intExt = startValue.toUpperCase()\n        if(intExt=== 'INT.' || intExt === 'EXT.') offset = 4\n        if(intExt=== 'INT./EXT.') offset = 9\n        const startPosition = { offset, path }\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const timesOnChange = (newValue, currentText, path) => {\n        setSearchType('times')\n        functions.timeSearch(newValue)\n        const splitText = currentText.split('-')\n        splitText.pop()\n        const joinedText = splitText.join('')\n        let offset = joinedText.length + 1\n        const [endPosition] = Range.edges(editor.selection)\n        const startPosition = { path, offset }\n        const range = Editor.range(editor, startPosition, endPosition)\n        setTarget(range)\n    }\n\n    const handleOnChange = (newValue) => {\n        const { path } = editor.selection.focus\n        const currentText = newValue[path[0]]?.children[path[1]]?.text\n\n        if((currentText?.length > 0 || newValue[path[0]].type === 'character') && currentText===currentText.toUpperCase() && !currentText?.includes('INT.') && !currentText?.includes('EXT.') && !currentText?.includes('INT./EXT.')) {\n            namesOnChange(newValue, path)\n        }else if(newValue[path[0]].type === 'heading') {\n            const currentOffset = editor.selection.anchor.offset\n            const splitValue = currentText?.split(' ')\n            const startValue = splitValue.shift()\n            const joinedValue = splitValue.join(' ')\n            const minOffset = startValue.length\n            let maxOffset = Infinity\n            if(joinedValue.includes('-')){\n                const splitDash = joinedValue.split('-')\n                maxOffset = currentText.length - splitDash.length - 4\n            }\n            if(currentOffset > minOffset && currentOffset < maxOffset) {\n                locationsOnChange(startValue, joinedValue, path)\n            } else if (currentOffset > maxOffset) {\n                timesOnChange(newValue, currentText, path)\n            }\n        }else{\n            setTarget(null)\n            setSearchType('')\n        }\n    }\n\n    return(\n        <Container>\n            <Slate value={value} editor={editor} onChange={newValue => {\n                setValue(newValue)\n                if(editor.selection) {\n                    handleOnChange(newValue)\n                }\n            }}>\n                <Editable style={{boxShadow: 'none'}} autoFocus placeholder='Masterpiece goes here' onKeyDown={modifiers} renderElement={renderElement} />\n                {((searchQuery.length > 1 && searchType==='names') || (searchQuery.length > 0 && searchType==='names' && value[editor?.selection?.focus?.path[0]]?.type==='character')) &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n                {searchQuery.length > 0 && searchType==='locations' && searchResults?.length> 0 &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n                {searchQuery.length > 0 && searchType==='times' && searchResults.length> 0 &&\n                <Autocomplete position={position} items={searchResults} index={index} />\n                }\n            </Slate>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n\n})\n\nexport default connect(mapStateToProps)(EditorInterface)","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { useState } from 'react'\nimport EditorInterface from './Editor'\n\nconst Screenplay = (props) => {\n\n    const [savingStatus, setSavingStatus] = useState('All changes saved')\n    const [characters, setCharacters] = useState([])\n    const [charactersObj, setCharactersObj] = useState({})\n    const [locations, setLocations] = useState([])\n    const [locationsObj, setLocationsObj] = useState({})\n\n    const getCharacters = (scriptObject) => {\n        const characters = {}\n        scriptObject.forEach(item=> {\n            if(item?.type === 'character') {\n                const name = item.children[0].text.toUpperCase()\n                if(characters[name]) {\n                    characters[name] += 1\n                } else{\n                    characters[name] = 1\n                }\n            }\n        })\n        setCharactersObj(characters)\n        const charactersArray =  Object.entries(characters)\n        charactersArray.sort((a, b)=> b[1] - a[1])\n        const charactersFinal = charactersArray.map(item=> {\n            return item[0]\n        }) \n        setCharacters(charactersFinal)\n    }\n\n    const addCharacter = (characterName) => {\n        const charactersCopy = {...charactersObj}\n        const characterUppercase = characterName.toUpperCase()\n        if(characters[characterUppercase]) {\n            characters[characterUppercase] += 1\n        }else{\n            characters[characterUppercase] = 1\n        }\n        setCharactersObj(charactersCopy)\n        const charactersArray =  Object.entries(characters)\n        charactersArray.sort((a, b)=> b[1] - a[1])\n        const charactersFinal = charactersArray.map(item=> {\n            return item[0]\n        }) \n        setCharacters(charactersFinal)\n    }\n\n    const getLocations = (scriptObject) => {\n        const locations = {}\n        scriptObject.forEach(item=> {\n            if(item?.type === 'heading') {\n                const heading = item.children[0].text\n                const splitHeading = heading.split(' ')\n                if(splitHeading.length > 1) {\n                    splitHeading.shift()\n                    const joined = splitHeading.join(' ')\n                    const splitDash = joined.split('-')\n                    splitDash.pop()\n                    splitDash.join('')\n                    const location = splitDash[0].trim().toUpperCase()\n                    if(locations[location]) {\n                        locations[location] += 1\n                    } else{\n                        locations[location] = 1\n                    }\n                } \n            }\n        })\n        setLocationsObj(locations)\n        const locationsArray =  Object.entries(locations)\n        locationsArray.sort((a, b)=> b[1] - a[1])\n        const locationsFinal = locationsArray.map(item=> {\n            return item[0]\n        }) \n        setLocations(locationsFinal)\n    }\n\n    const addLocation = (heading) => {\n        const locationsCopy = {...locationsObj}\n        const splitHeading = heading.split(' ')\n        if(splitHeading.length > 1) {\n            splitHeading.shift()\n            const joined = splitHeading.join(' ')\n            const splitDash = joined.split('-')\n            splitDash.pop()\n            splitDash.join('')\n            const location = splitDash[0].trim().toUpperCase()\n            if(locationsCopy[location]) {\n                locationsCopy[location] += 1\n            } else{\n                locationsCopy[location] = 1\n            }\n            setLocationsObj(locationsCopy)\n            const locationsArray = Object.entries(locationsCopy)\n            locationsArray.sort((a, b)=> b[1] - a[1])\n            const locationsFinal = locationsArray.map(item=> {\n                return item[0]\n            }) \n            setLocations(locationsFinal)\n        } \n    }\n\n    const updateSavingStatus = (status) => {\n        setSavingStatus(status)\n    }\n\n    return(\n        <Container>\n            {savingStatus}\n            <EditorInterface locations={locations} addLocation={addLocation} getLocations={getLocations} characters={characters} addCharacter={addCharacter} match={props.match} getCharacters={getCharacters} updateSavingStatus={updateSavingStatus} />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n})\n\nexport default connect(mapStateToProps)(Screenplay)\n\nexport const Container = styled.div`\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport fitTextarea from 'fit-textarea';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    const [lastSaved, setLastSaved] = useState(0)\n    const [savedStatus, setSavedStatus] = useState('All changes saved')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    \n    useEffect(()=> {\n        if(props.userData.userID) {\n            setSavedStatus('Saving...')\n            const timeout = setTimeout(()=>saveWork(), 1000)\n            return  ()=>clearTimeout(timeout)\n        }\n        // eslint-disable-next-line \n    }, [note])\n\n\n    // useEffect(()=> {\n    //     const textarea = document.getElementById('notes-textarea');\n    //     fitTextarea.watch(textarea);\n    // }, [note])\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n            const textarea = document.getElementById('notes-textarea');\n        fitTextarea.watch(textarea);\n        })\n    }\n\n    // window.onbeforeunload = function() {\n    //     // return\n    // }\n\n    window.onbeforeunload = function() {\n        if(savedStatus==='Saving...') {\n            return 'saving'\n        }\n    }\n\n    const saveWork = () => {\n        const currentTime = Date.now()\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n        })\n        .then(()=> {\n            console.log('work saved')\n            setSavedStatus('All changes saved')\n        })\n\n        if(currentTime - lastSaved > 600000) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(props.match.params.fileID)\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(props.notesData.docID))\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n        }\n\n        setLastSaved(currentTime)\n    }\n\n    return(\n        <Container>\n            <div>\n                <Link to='/writing-app'>Home</Link>\n                <Title>{props?.notesData?.name}</Title>\n                <h4>{savedStatus}</h4>\n                <TextAreaPage rows='5' placeholder='Write notes here' onChange={(e)=> setNote(e.target.value)} autoFocus id='notes-textarea' />\n                <div></div>\n                {/* <button onClick={saveWork}>Save work</button> */}\n            </div>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst Container = styled.div`\n    display: flex; \n    flex-direction: column; \n    align-items: center; \n    justify-content: center;\n    padding: 20px 30vw;\n`\n\nconst Title = styled.h1`\n    font-size: 3rem;\n    font-weight: 600;\n    margin-bottom: 10px;\n`\n\nconst TextAreaPage = styled.textarea`\n    /* padding: 40px 0px; */\n    margin: 40px 0 0 0;\n    /* background-color: hsl(0, 10%, 5%); */\n    background-color: transparent;\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 50vw;\n    /* height: 80vh; */\n    border: none;\n    resize: none;\n    &:focus{\n        box-shadow: none;\n    }\n`","import { createGlobalStyle } from 'styled-components'\nimport { connect } from 'react-redux'\nconst GlobalStyles = createGlobalStyle`\n\n    html {\n        --background: ${props=>props.colorThemes.background};\n        --sidebar: ${props=>props.colorThemes.sidebar};\n        --primary-text: ${props=>props.colorThemes.primaryText};\n    }\n\n    html, body {\n        background-color: var(--background);\n    }\n\n    * {\n        &:focus {\n            box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n            outline: none;\n        }\n    }\n\n    html, body, div, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a, div, label {\n        line-height: 1;\n        color: var(--primary-text);\n    }\n\n    button {\n        color: var(--primary-text);\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nconst mapStateToProps = state => ({\n    colorThemes: state.app.colorThemes    \n})\n\nexport default connect(mapStateToProps)(GlobalStyles)","import { useEffect, useState } from 'react'\nimport Signup from './Components/Signup/Signup'\nimport Signin from './Components/Signup/Signin'\nimport Dashboard from './Components/Dashboard/Dashboard'\nimport Outline from './Components/Edit/Outline/Outline'\nimport Screenplay from './Components/Edit/Screenplay/Screenplay'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData, colorThemes } from './redux/actions/appActions'\nimport { db } from './firebase'\n\nconst App = (props) => {\n  const [isLoading, setIsLoading] = useState(true)\n  // const [colors, setColors] = useState({mainColor: 'red'})\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n        db.collection('users')\n        .doc(user.uid)\n        .get()\n        .then(data=> {\n          const preferences = data.data().preferences\n          const colors = preferences.colors\n          props.dispatch(colorThemes(colors))\n          setIsLoading(false)\n        })\n      }\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    isLoading ? \n    null\n    :\n    (props.userData.userID ? \n    <div>\n      <Route path='/writing-app/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n      )} />\n      <Route path='/writing-app/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route path='/writing-app/edit/screenplay/:fileID' render={(props)=> (\n        <Screenplay {...props} />\n      )} />\n      <Route path='/writing-app/dashboard/' render={(props)=> (\n        <Dashboard {...props} />\n      )} />\n      <GlobalStyles />\n    </div>\n    :\n    <div>\n      <Signup />\n      <Signin />\n    </div>)\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n    rootDocs: [],\n    layerOneDocs: [],\n    layerTwoDocs: [],\n    layerThreeDocs: [],\n    currentLayer: null,\n    colorThemes: {},\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.COLOR_THEMES:\n            return {\n                ...state,\n                colorThemes: action.payload\n            }\n        case actions.CURRENT_LAYER:\n            return {\n                ...state,\n                currentLayer: action.payload\n            }\n        case actions.LAYER_THREE_DOCS:\n            return {\n                ...state,\n                layerThreeDocs: action.payload\n            }\n        case actions.LAYER_TWO_DOCS:\n            return {\n                ...state,\n                layerTwoDocs: action.payload\n            }\n        case actions.LAYER_ONE_DOCS:\n            return {\n                ...state,\n                layerOneDocs: action.payload\n            }\n        case actions.ROOT_DOCS:\n            return {\n                ...state,\n                rootDocs: action.payload\n            }\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    breadcrumbs: [{name: 'all files', docId: null}],\n    sortMethod: null,\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.SORT_METHOD:\n            return {\n                ...state,\n                sortMethod: action.payload\n            }\n        case actions.BREADCRUMBS:\n            return {\n                ...state,\n                breadcrumbs: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}