{"version":3,"sources":["firebase.js","globalFunctions.js","redux/actions/appActions.js","Components/Dashboard/FilesList/CreateDocModal.js","Components/Dashboard/FilesList/RenameDocModal.js","Components/Dashboard/FilesList/DeleteDocModal.js","redux/actions/dashboardActions.js","Components/Dashboard/FilesList/DocsTable.js","Components/Dashboard/FilesList/AllFiles.js","Components/Dashboard/FilesList/FilesList.js","Components/Dashboard/Sidebar/Sidebar.js","Components/Dashboard/Breadcrumbs.js","Components/Dashboard/Dashboard.js","Components/Edit/Outline/EditCardModal.js","Components/Edit/Outline/DeleteCardModal.js","Components/Edit/Outline/CreateCardModal.js","Components/Edit/Outline/Card.js","Components/Edit/Outline/SortableItem.js","Components/Edit/Outline/Outline.js","Components/Edit/Notes.js","GlobalStyles.js","App.js","reportWebVitals.js","redux/reducers/appReducer.js","redux/reducers/dashboardReducer.js","redux/rootReducer.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","db","firestore","updateLastModified","userID","projectID","fileID","timestamp","Date","now","ref","collection","doc","console","log","undefined","update","lastModified","then","catch","err","CURRENT_PROJECT_ID","USER_DATA","PROJECT_FILES","CURRENT_FILE_ID","OUTLINE_DATA","OUTLINE_ITEMS_DISPLAY","OUTLINE_ITEMS_FOR_UPDATE","NOTES_DATA","DASHBOARD_CURRENT_SECTION","ROOT_DOCS","LAYER_ONE_DOCS","LAYER_TWO_DOCS","LAYER_THREE_DOCS","CURRENT_LAYER","currentLayer","data","dispatch","type","payload","layerThreeDocs","layerTwoDocs","layerOneDocs","rootDocs","outlineItemsForUpdate","outlineItemsDisplay","connect","state","userData","breadcrumbs","dashboard","props","useState","name","setName","createFolder","parentID","length","docID","folderProperties","String","set","addDocToStore","setIsCreateProjectModal","createFile","generateIDAndCreateFile","idAttempt","result","characters","charactersLength","i","charAt","Math","floor","random","generateID","where","get","empty","fileProperties","dateCreated","fileProps","location","window","open","document","projectSelectedData","add","Modal","aria-label","isOpen","isCreateProjectModal","onDismiss","HeaderIconContainer","createType","CloseDialog","label","onClick","Icon","alt","src","ProjectTitle","autoComplete","onChange","e","target","value","Cancel","Create","styled","div","button","img","input","Dialog","renameFile","renameStoreDocs","setShowRenameModal","closeModal","folderMap","0","1","2","3","renamedItems","currentIndex","code","preventDefault","Container","NewModal","showRenameModal","onKeyDown","onMouseDown","id","Header","defaultValue","h1","outlineData","currentFileID","deleteDoc","docData","deleteFile","deleteFolder","delete","setShowDeleteModal","forEach","item","initialDelete","deletedItem","splice","removeDocFromStore","showDeleteModal","Delete","BREADCRUMBS","SORT_METHOD","sortMethod","currentProjectID","sortFiles","a","b","selectItem","activeElement","blur","dataArr","push","sort","breadcrumb","breadcrumbsCopy","openFile","fileType","sortProjectsDateAsc","sortProjectsDateDesc","sortProjectsNameAsc","localeCompare","sortProjectsNameDesc","sortProjectsTypeAsc","sortProjectsTypeDesc","changeSortOrder","sortType","sortMethodToUse","sortMethodName","Table","role","Head","RowHeader","TableHead","ColumnNameButton","ArrowIcon","rotate","TableBody","map","index","Row","tabIndex","buttonPress","onFocus","setProjectSelectedData","selectProject","Cell","DocIconNameContainer","DocIcon","moment","format","IconContainer","IconBackgroundContainer","stopPropagation","showRenameProject","IconTitle","IconBackground","showDeleteProject","RenameDocModal","projects","setCreateType","useEffect","getInitialFilesAndFolders","sortMethodType","projectArr","project","openModal","getProjects","CreateNew","Plus","List","Item","onSelect","MenuIconContainer","span","MenuItem","MenuButton","MenuList","showProjects","projectFiles","dashboardCurrentSection","navigateSidebar","menuItem","Logo","UL","LI","LiButton","background","hover","li","ul","rootLayer","crumb","Crumb","indexToRoute","breadcrumbsReduced","slice","breadcrumbRoute","nav","FilesContainer","newTitle","setNewTitle","newText","setNewText","setShowEditModal","showEditModal","Title","title","style","marginBottom","Text","text","getElementById","cardIndex","focus","Save","newCard","newOutline","newOutlineForDisplay","itemIndexes","match","params","textarea","outlineNewIndexes","card","dataIndexArray","setItemIndexes","setTitle","setText","setLocation","showCreateModal","setShowCreateModal","Label","Description","Location","display","numberOfCards","dataObject","updateCopy","indexesCopy","Card","editCard","setCardIndex","deleteCard","innerRef","IconTitleContainer","Icons","key","nativeEvent","stopImmediatePropagation","keyBoardEdit","keyBoardDelete","CardNumber","p","h2","article","useSortable","attributes","listeners","setNodeRef","transform","transition","CSS","Transform","toString","Number","getOutline","outline","outlineItems","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","to","collisionDetection","closestCenter","onDragEnd","event","active","over","oldIndex","newIndex","indexOf","arrayMove","itemsCopy","removedItem","newIndexItems","cardsInput","cardsNewIndexes","updateToDatabase","items","strategy","rectSortingStrategy","Grid","itemIndex","notesData","note","setNote","lastSaved","setLastSaved","savedStatus","setSavedStatus","getNotes","timeout","setTimeout","saveWork","clearTimeout","currentTime","flexDirection","alignItems","justifyContent","TextAreaPage","placeholder","autoFocus","GlobalStyles","createGlobalStyle","auth","onAuthStateChanged","user","userInfo","uid","path","render","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","appReducer","action","actions","docId","dashboardReducer","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.5d461314.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"AIzaSyDZovNB2YZLGb8SVd3tGQd44MdFQyLhgTI\",\n  authDomain: \"writing-136ac.firebaseapp.com\",\n  databaseURL: \"https://writing-136ac.firebaseio.com\",\n  projectId: \"writing-136ac\",\n  storageBucket: \"writing-136ac.appspot.com\",\n  // messagingSenderId: \"65211879809\",\n  // appId: \"1:65211879909:web:3ae38ef1cdcb2e01fe5f0c\",\n  // measurementId: \"G-8GSGZQ44ST\"\n};\nlet app = firebase.initializeApp(config)\n// if(firebase.apps.length) {\n//   app = firebase.app()\n// }else{\n//   app = firebase.initializeApp(config)\n// }\nexport default app\nconst db = app.firestore();\nexport { db };","import { db } from './firebase'\n\nexport const generateID = () => {\n    let result = ''\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n    const charactersLength = characters.length\n    for ( let i = 0; i < 12; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength))\n    }\n    return result\n}\n\nexport const updateLastModified = (userID, projectID, fileID) => {\n    const timestamp = Date.now()\n    const ref = db.collection('users')\n    .doc(userID)\n\n    console.log(projectID)\n    if(projectID!==undefined) {\n        ref.collection('files-folders')\n        .doc(projectID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            \n        })\n    }\n    if(fileID) {\n        ref.collection('files-folders')\n        .doc(fileID)\n        .update({\n            lastModified: timestamp\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n        .catch((err)=> {\n            console.log(err)\n            console.log(2)\n        })\n    }\n\n}","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const USER_DATA = 'USER_DATA'\nexport const PROJECT_FILES = 'PROJECT_FILES'\nexport const CURRENT_FILE_ID = 'CURRENT_FILE_ID'\nexport const OUTLINE_DATA = 'OUTLINE_DATA'\nexport const OUTLINE_ITEMS_DISPLAY = 'OUTLINE_ITEMS_DISPLAY'\nexport const OUTLINE_ITEMS_FOR_UPDATE = 'OUTLINE_ITEMS_FOR_UPDATE'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const DASHBOARD_CURRENT_SECTION = 'DASHBOARD_CURRENT_SECTION'\nexport const ROOT_DOCS = 'ROOT_DOCS'\nexport const LAYER_ONE_DOCS = 'LAYER_ONE_DOCS'\nexport const LAYER_TWO_DOCS = 'LAYER_TWO_DOCS'\nexport const LAYER_THREE_DOCS = 'LAYER_THREE_DOCS'\nexport const CURRENT_LAYER = 'CURRENT_LAYER'\n\nexport function currentLayer(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_LAYER, payload: data})\n    }\n}\n\nexport function layerThreeDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_THREE_DOCS, payload: data})\n    }\n}\n\nexport function layerTwoDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_TWO_DOCS, payload: data})\n    }\n}\n\nexport function layerOneDocs(data) {\n    return(dispatch) => {\n        dispatch({type: LAYER_ONE_DOCS, payload: data})\n    }\n}\n\nexport function rootDocs(data) {\n    return(dispatch) => {\n        dispatch({type: ROOT_DOCS, payload: data})\n    }\n}\n\nexport function outlineItemsForUpdate(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_FOR_UPDATE, payload: data})\n    }\n}\n\nexport function outlineItemsDisplay(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_ITEMS_DISPLAY, payload: data})\n    }\n}\n\nexport function dashboardCurrentSection(data) {\n    return(dispatch) => {\n        dispatch({type: DASHBOARD_CURRENT_SECTION, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function outlineData(data) {\n    return(dispatch) => {\n        dispatch({type: OUTLINE_DATA, payload: data})\n    }\n}\n\nexport function currentFileID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_FILE_ID, payload: data})\n    }\n}\n\nexport function projectFiles(data) {\n    return(dispatch) => {\n        dispatch({type: PROJECT_FILES, payload: data})\n    }\n}\n\nexport function userData(data) {\n    return(dispatch) => {\n        dispatch({type: USER_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}\n\n","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { generateID } from '../../../globalFunctions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    // currentLayer,\n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs\n} from '../../../redux/actions/appActions'\n\nconst CreateDocModal = (props) => {\n    const [name, setName] = useState('')\n\n    const createProject = () => {\n        if (props.createType==='folder' && props.currentLayer < 3) return createFolder()\n        if (props.createType!=='folder') return createFile(props.createType)\n    }\n\n    const createFolder = () => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        const timestamp = Date.now()\n        const folderProperties = {\n            name,\n            parentID: String(parentID),\n            type: 'folder',\n            docID: String(timestamp),\n            lastModified: timestamp,\n        }\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(timestamp))\n        .set({\n            ...folderProperties\n        })\n        .then(()=> {\n            console.log('folder created')\n            addDocToStore(folderProperties)\n            props.setIsCreateProjectModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const createFile = (type) => {\n        let parentID\n        if(props.breadcrumbs.length === 1) {\n            parentID = props.userData.userID\n        }else{\n            parentID = props.breadcrumbs[props.breadcrumbs.length - 1].docID\n        }\n        let docID = ''\n        const generateIDAndCreateFile = () => {\n            const idAttempt = generateID()\n            db.collection('docID')\n            .where('docID', '==', idAttempt)\n            .get()\n            .then(data=> {\n                if(data.empty) {\n                    docID = idAttempt\n                    const timestamp = Date.now()\n                    const fileProperties = {\n                        name,\n                        type,\n                        parentID: String(parentID),\n                        docID: String(docID),\n                        dateCreated: timestamp,\n                        lastModified: timestamp,\n                    }\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files-folders')\n                    .doc(docID)\n                    .set({\n                        ...fileProperties\n                    })\n                    .then(()=> {\n                        console.log('new file preview created')\n                        addDocToStore(fileProperties)\n                    })\n                    if(type==='outline') {\n                        fileProperties['data'] = []\n                    }\n                    if(type==='notes' || type==='screenplay') {\n                        fileProperties['text'] = ''\n                    }\n                    const { lastModified, ...fileProps } = fileProperties\n                    db.collection('users')\n                    .doc(props.userData.userID)\n                    .collection('files')\n                    .doc(docID)\n                    .set({\n                        ...fileProps\n                    })\n                    .then(()=> {\n                        console.log('new file created')\n                        const location = `/writing-app/edit/${type}/${docID}`\n                        window.open(location, \"_blank\") || (document.location = location)\n                        props.setIsCreateProjectModal(false)\n                        if(props.projectSelectedData.docID) {\n                            updateLastModified(props.userData.userID, String(props.projectSelectedData.docID))\n                        }\n                    })\n                    db.collection('docID')\n                    .add({\n                        docID,\n                    })\n                }else{\n                    generateIDAndCreateFile()\n                }\n            })\n        }\n        generateIDAndCreateFile()\n    }\n\n    const addDocToStore = (data) => {\n        if(props.currentLayer===0) props.dispatch(rootDocs([data, ...props.rootDocs]))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs([data, ...props.layerOneDocs]))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs([data, ...props.layerTwoDocs]))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs([data, ...props.layerThreeDocs]))\n    }\n \n    return (\n        <Modal aria-label='create document' isOpen={props.isCreateProjectModal} onDismiss={()=>props.setIsCreateProjectModal(false)}>\n            <HeaderIconContainer>\n                <h1>Create new {props.createType}</h1>\n                <CloseDialog label='close rename dialog' onClick={()=>props.setIsCreateProjectModal(false)}>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n            </HeaderIconContainer>\n            <ProjectTitle autoComplete='off' onChange={(e)=>setName(e.target.value)} />\n            <div>\n                <Cancel onClick={()=>props.setIsCreateProjectModal(false)}>Cancel</Cancel>\n                <Create onClick={createProject}>Create project</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(CreateDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 10px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst Modal = styled(Dialog)`\n    background-color: white;\n    height: 300px;\n    width: 50vw;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 15px;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    align-items: center;\n    justify-content: space-evenly;\n`","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst RenameFileModal = (props) => {\n    const [name, setName] = useState('')\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-file-input').value = props.projectSelectedData.name\n    //     // eslint-disable-next-line\n    // }, [props.fileSelectedName])\n\n    // useEffect(()=> {\n    //     document.getElementById('rename-doc-close-button').focus()\n    // }, [])\n\n    const renameFile = (e) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(props.projectSelectedData.docID))\n        .update({\n            name,\n        })\n        .then(()=> {\n            renameStoreDocs()\n            console.log('file rename successful')\n            props.setShowRenameModal(false)\n        })\n        if(props.projectSelectedData.type!=='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files')\n            .doc(String(props.projectSelectedData.docID))\n            .update({\n                name,\n            })\n            .then(()=> {\n                console.log('file rename successful')\n                closeModal(e)\n                props.setShowRenameModal(false)\n            })\n        }\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const renameStoreDocs = () => {\n        let renamedItems = folderMap[props.currentLayer]\n        renamedItems[props.projectSelectedData.currentIndex].name = name\n        if(props.currentLayer===0) props.dispatch(rootDocs(renamedItems))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(renamedItems))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(renamedItems))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(renamedItems))\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowRenameModal(false)\n        }\n    }\n\n    const renameFileOnKeyDown = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            renameFile(e)\n        }\n    }\n\n    return (\n        <Container>\n            {/* <Background onClick={()=>props.setShowRenameModal(false)} /> */}\n            <NewModal aria-label={`change ${props.projectSelectedData.type} name of ${props.projectSelectedData.name}`} isOpen={props.showRenameModal} onDismiss={()=>props.setShowRenameModal(false)}>\n                <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle defaultValue={props.projectSelectedData.name} autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </NewModal>\n            {/* <Modal>\n                <CloseDialog onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)} id='rename-doc-close-button'>\n                    <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                </CloseDialog>\n                <Header>Rename {props.projectSelectedData.type}</Header>\n                <ProjectTitle autoComplete='off' id='rename-file-input' onChange={(e)=>setName(e.target.value)} />\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowRenameModal(false)}>Cancel</Cancel>\n                    <Create onKeyDown={renameFileOnKeyDown} onMouseDown={renameFile}>Rename</Create>\n                </div>\n            </Modal> */}\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(RenameFileModal)\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Create = styled.button`\n    background-color: hsl(0, 0%, 20%);\n    height: 40px;\n    width: 130px;\n    border: none;\n    color: white;\n`\n\nconst Cancel = styled.button`\n    /* background-color: hsl(0, 0%, 95%); */\n    background-color: transparent;\n    height: 40px;\n    width: 90px;\n    border: none;\n    margin-right: 5px;\n`\n\nconst ProjectTitle = styled.input`\n    width: 200px;\n    height: 40px;\n    font-size: 1.25rem;\n`\n\nconst NewModal = styled(Dialog)`\n    background-color: white;\n    min-height: 400px;\n    width: 500px;\n    /* position: fixed; */\n    /* top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); */\n    border-radius: 15px;\n    flex-direction: column;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n`\n\nconst Container = styled.div`\n`","import styled from 'styled-components'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n} from '../../../redux/actions/appActions'\n\nconst DeleteDocModal = (props) => {\n\n    const deleteDoc = (docData) => {\n        console.log('deleting docs')\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID, docData.currentIndex)\n        }else{\n            deleteFolder(docData.docID, docData.currentIndex)\n        }\n    }\n\n    const deleteFile = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        \n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .doc(String(docID))\n        .delete()\n        .catch(err=>console.log(err))\n        props.setShowDeleteModal(false)\n    }\n\n    const deleteFolder = (docID) => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', String(docID))\n        .get()\n        .then((data)=> {\n            data.forEach(item=> {\n               deleteDoc(item.data())\n            })\n        })\n        .then(()=> {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(docID))\n            .delete()\n            .then(()=>null)\n            .catch(err=>console.log(err))\n            props.setShowDeleteModal(false)\n        })\n    }\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const removeDocFromStore = (currentIndex) => {\n        let deletedItem = [...folderMap[props.currentLayer]]\n        deletedItem.splice(currentIndex, 1)\n        if(props.currentLayer===0) props.dispatch(rootDocs(deletedItem))\n        if(props.currentLayer===1) props.dispatch(layerOneDocs(deletedItem))\n        if(props.currentLayer===2) props.dispatch(layerTwoDocs(deletedItem))\n        if(props.currentLayer===3) props.dispatch(layerThreeDocs(deletedItem))\n    }\n\n    const initialDelete = (docData) => {\n        if(docData.type!=='folder') {\n            deleteFile(docData.docID)\n        }else{\n            deleteFolder(docData.docID)\n        }\n        removeDocFromStore(docData.currentIndex)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n        }\n    }\n\n    return(      \n        <div>\n            <Modal isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)} aria-label='cancel delete'>\n                <HeaderIconContainer>\n                    <Header>{`Delete ${props.projectSelectedData.type}`}</Header>\n                    <CloseDialog label='close rename dialog' onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowDeleteModal(false)}>\n                        <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                    </CloseDialog>\n                </HeaderIconContainer>\n                <p>{`Are you sure you want to delete ${props.projectSelectedData.name}?`}</p>\n                <div>\n                    <Cancel onKeyDown={(e)=> closeModal(e)}  onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                    <Delete onClick={()=>initialDelete(props.projectSelectedData)}>Delete</Delete>\n                </div>\n            </Modal>\n        </div>      \n\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    currentLayer: state.app.currentLayer,\n    rootDocs: state.app.rootDocs,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(DeleteDocModal)\n\nconst HeaderIconContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n`\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst CloseDialog = styled.button`\n    align-self: flex-end;\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n    /* outline-color: blue; */\n    &:focus {\n        box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n    }\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","export const CURRENT_PROJECT_ID = 'CURRENT_PROJECT_ID'\nexport const NOTES_DATA = 'NOTES_DATA'\nexport const BREADCRUMBS = 'BREADCRUMBS'\nexport const SORT_METHOD = 'SORT_METHOD'\n\nexport function sortMethod(data) {\n    return(dispatch) => {\n        dispatch({type: SORT_METHOD, payload: data})\n    }\n}\n\nexport function breadcrumbs(data) {\n    return(dispatch) => {\n        dispatch({type: BREADCRUMBS, payload: data})\n    }\n}\n\nexport function notesData(data) {\n    return(dispatch) => {\n        dispatch({type: NOTES_DATA, payload: data})\n    }\n}\n\nexport function currentProjectID(data) {\n    return(dispatch) => {\n        dispatch({type: CURRENT_PROJECT_ID, payload: data})\n    }\n}","import styled from 'styled-components'\nimport { db } from '../../../firebase'\nimport { \n    rootDocs,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n    currentLayer,\n} from '../../../redux/actions/appActions'\nimport moment from 'moment'\nimport RenameDocModal from './RenameDocModal'\nimport DeleteProjectModal from './DeleteDocModal'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { breadcrumbs, sortMethod } from '../../../redux/actions/dashboardActions'\n\nconst ProjectsTable = (props) => {\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showRenameModal, setShowRenameModal] = useState(false)\n\n    const folderMap = {\n        0: props.rootDocs,\n        1: props.layerOneDocs,\n        2: props.layerTwoDocs,\n        3: props.layerThreeDocs,\n    }\n\n    const sortFiles = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const selectProject = (docData, index) => {\n        props.setProjectSelectedData({...docData, currentIndex: index})\n    }\n\n    const buttonPress = (e, type, docID, name) => {\n        if((e === 'Enter' || e === 'Space') && document.activeElement.id==='projects-table-row') {\n            selectItem(type, docID, name)\n        }\n    }\n\n    const showRenameProject = (e) => {\n        e.stopPropagation()\n        setShowRenameModal(true)\n    }\n\n\n    const showDeleteProject = (e) => {\n        e.stopPropagation()\n        setShowDeleteModal(true)\n    }\n\n    const selectItem = (type, docID, name) => {\n        document.activeElement.blur()\n        if(type==='folder') {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .where('parentID', '==', docID)\n            .get()\n            .then(data=> {\n                const dataArr = []\n                data.forEach(item=> {\n                    dataArr.push(item.data())\n                })\n                if(props.currentLayer === 0) {\n                    props.dispatch(layerOneDocs(dataArr.sort(sortFiles)))\n                }else if(props.currentLayer === 1) {\n                    props.dispatch(layerTwoDocs(dataArr.sort(sortFiles)))\n                }else if(props.currentLayer === 2) {\n                    props.dispatch(layerThreeDocs(dataArr.sort(sortFiles)))\n                    console.log(dataArr)\n                }\n                props.dispatch(currentLayer(props.currentLayer + 1))\n                const breadcrumb = {\n                    name,\n                    docID, \n                }\n                const breadcrumbsCopy = [...props.breadcrumbs]\n                breadcrumbsCopy.push(breadcrumb)\n                props.dispatch(breadcrumbs(breadcrumbsCopy))\n            })\n        }else{\n            openFile(type, docID)\n        }\n    }\n\n    const openFile = (fileType, docID) => {\n        const location = `/writing-app/edit/${fileType}/${docID}`\n        window.open(location, \"_blank\") || (document.location = location)\n    }\n\n    const sortProjectsDateAsc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.type.localeCompare(a.type)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    const changeSortOrder = (sortType) => {\n        let sortMethodToUse\n        let sortMethodName\n        if(sortType === 'name') {\n            if(props.sortMethod === 'nameDesc') {\n                sortMethodToUse = sortProjectsNameAsc\n                sortMethodName = 'nameAsc'\n            }else{\n                sortMethodToUse = sortProjectsNameDesc\n                sortMethodName = 'nameDesc'\n            }\n        }\n        if(sortType === 'type') {\n            if(props.sortMethod === 'typeDesc') {\n                sortMethodToUse = sortProjectsTypeAsc\n                sortMethodName = 'typeAsc'\n            }else{\n                sortMethodToUse = sortProjectsTypeDesc\n                sortMethodName = 'typeDesc'\n            }\n        }\n        if(sortType === 'date') {\n            if(props.sortMethod === 'dateDesc') {\n                sortMethodToUse = sortProjectsDateAsc\n                sortMethodName = 'dateAsc'\n            }else{\n                sortMethodToUse = sortProjectsDateDesc\n                sortMethodName = 'dateDesc'\n            }\n        }\n        props.dispatch(sortMethod(sortMethodName))\n        if(props.rootDocs.length > 0) {\n            props.dispatch(rootDocs(props.rootDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerOneDocs.length > 0) {\n            props.dispatch(layerOneDocs(props.layerOneDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerTwoDocs.length > 0) {\n            props.dispatch(layerTwoDocs(props.layerTwoDocs.sort(sortMethodToUse)))\n        }\n        if(props.layerThreeDocs.length > 0) {\n            props.dispatch(layerThreeDocs(props.layerThreeDocs.sort(sortMethodToUse)))\n        }\n    }\n\n    return(\n        <div>\n            <Table role='table'>\n                <Head role='heading'> \n                    <RowHeader role='rowheader'>\n                        <TableHead role='heading'>\n                            <ColumnNameButton onClick={()=>changeSortOrder('name')}>\n                                Name\n                                {props.sortMethod === 'nameDesc' &&\n                                    <ArrowIcon rotate='rotate(180deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                                {props.sortMethod === 'nameAsc' &&\n                                    <ArrowIcon rotate='rotate(0deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                            </ColumnNameButton>\n                        </TableHead>\n                        <TableHead role='heading'>\n                            <button onClick={()=>changeSortOrder('type')}>\n                            Type\n                            {props.sortMethod === 'typeDesc' &&\n                                <ArrowIcon rotate='rotate(180deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                            }\n                            {props.sortMethod === 'typeAsc' &&\n                                <ArrowIcon rotate='rotate(0deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                            }\n                            </button>\n                        </TableHead>\n                        <TableHead role='heading'>\n                            <button onClick={()=>changeSortOrder('date')}>\n                                Last modified\n                                {props.sortMethod === 'dateDesc' &&\n                                    <ArrowIcon rotate='rotate(180deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                                {props.sortMethod === 'dateAsc' &&\n                                    <ArrowIcon rotate='rotate(0deg)' alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNjc3IDE4LjUyYy45MTQgMS41MjMtLjE4MyAzLjQ3Mi0xLjk2NyAzLjQ3MmgtMTkuNDE0Yy0xLjc4NCAwLTIuODgxLTEuOTQ5LTEuOTY3LTMuNDcybDkuNzA5LTE2LjE4Yy44OTEtMS40ODMgMy4wNDEtMS40OCAzLjkzIDBsOS43MDkgMTYuMTh6Ii8+PC9zdmc+\" />\n                                }\n                            </button>\n                        </TableHead>\n                        <TableHead aria-label='settings' role='heading'></TableHead>\n                    </RowHeader>\n                </Head>\n                <TableBody role='row'>\n                    {folderMap[props.currentLayer]?.map((doc, index)=> {\n                        return(\n                            <Row id='projects-table-row' tabIndex='0' onKeyDown={(e)=>buttonPress(e.code, doc.type, doc.docID, doc.name)} role='button' onFocus={()=>selectProject(doc, index)} onClick={()=>selectItem(doc.type, doc.docID, doc.name)} key={index}>\n                                <Cell role='cell'>\n                                    <DocIconNameContainer>\n                                        {doc.type==='folder' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='screenplay' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.type==='notes' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                                        }\n                                        {doc.type==='outline' &&\n                                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                                        }\n                                        {doc.name}\n                                    </DocIconNameContainer>\n                                </Cell>\n                                <Cell role='cell'>{doc.type}</Cell>\n                                <Cell role='cell'>{moment(doc.lastModified).format('ll')}</Cell>\n                                <Cell role='cell'>\n                                    <IconContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showRenameProject(e)} label='rename file'>\n                                            <IconTitle>Rename</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                        <IconBackgroundContainer onClick={(e)=>showDeleteProject(e)} label='delete file' >\n                                            <IconTitle>Delete</IconTitle>\n                                            <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                                            <IconBackground />\n                                        </IconBackgroundContainer>\n                                    </IconContainer>\n                                </Cell>\n                            </Row>\n                        )\n                    })}\n                </TableBody>\n            </Table> \n            {/* {showRenameModal && \n            } */}\n            <RenameDocModal showRenameModal={showRenameModal} projectSelectedData={props.projectSelectedData} setShowRenameModal={setShowRenameModal} />\n            {/* {showDeleteModal && \n            } */}\n            <DeleteProjectModal showDeleteModal={showDeleteModal} projectSelectedData={props.projectSelectedData} setShowDeleteModal={setShowDeleteModal} />\n        </div>\n    )   \n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    rootDocs: state.app.rootDocs,\n    currentLayer: state.app.currentLayer,\n    currentProjectID: state.app.currentProjectID,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n    breadcrumbs: state.dashboard.breadcrumbs,\n    sortMethod: state.dashboard.sortMethod,\n})\n\nexport default connect(mapStateToProps)(ProjectsTable)\n\nconst ColumnNameButton = styled.h1`\n    display: flex;\n    align-items: center;\n`\n\nconst ArrowIcon = styled.img`\n    height: 10px;\n    width: 10px;\n    margin-left: 5px;\n    transform: ${props=>props.rotate};\n`\n\nconst DocIconNameContainer = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nconst DocIcon = styled.img`\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n`\n\nconst IconTitle = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n`\n\nconst IconContainer = styled.div`\n    opacity: 0;\n    display: flex;\n`\n\nconst TableHead = styled.div`\n    display: table-cell;\n    text-align: left;\n    /* padding: 0.5rem; */\n    padding: 10px 15px;\n    border-bottom: 2px solid #dedede;\n    border-top: 2px solid #dedede;\n    color: hsl(0, 0%, 20%);\n    font-weight: 400;\n`\n\nconst TableBody = styled.div`\n    display: table-row-group;\n`\n\nconst Head = styled.div`\n    display: table-header-group;\n`\n\nconst Table = styled.div`\n    display: table;\n    width: 100%;\n    max-width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n`\n\nconst RowHeader = styled.div`\n    display: table-row;\n    background-color: transparent;\n`\n\nconst Row = styled.div`\n    border-collapse: separate;\n    cursor: pointer;\n    display: table-row;\n    background-color: hsl(20, 0%, 97%);\n    transition: background-color 70ms ease-in-out;\n    &:hover{ \n        background-color: hsl(0, 0%, 95%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:focus-within{ \n        background-color: hsl(0, 0%, 90%);\n        ${IconContainer} {\n            opacity: 1;\n            transition: opacity 500ms ease-in-out;\n        }\n    }\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Cell = styled.div`\n    display: table-cell;\n    padding: 15px 20px;\n    vertical-align: middle;\n    &:first-of-type {\n        border-top-left-radius: 10px;\n        border-bottom-left-radius: 10px;\n    }\n    &:last-of-type {\n        border-top-right-radius: 10px;\n        border-bottom-right-radius: 10px;\n    }\n`","import { db } from '../../../firebase'\nimport styled from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport CreateDocModal from './CreateDocModal'\nimport {\n    Menu,\n    MenuList,\n    MenuButton,\n    MenuItem,\n} from \"@reach/menu-button\";\nimport \"@reach/menu-button/styles.css\";\nimport ProjectsTable from './DocsTable'\nimport { rootDocs, currentLayer } from '../../../redux/actions/appActions'\nimport { sortMethod } from '../../../redux/actions/dashboardActions'\nconst AllFiles = (props) => {\n    const [isCreateProjectModal, setIsCreateProjectModal] = useState(false)\n    const [projectSelectedData, setProjectSelectedData] = useState({})\n    const [createType, setCreateType] = useState('')\n    // const [currentDocID, setCurrentDocID] = useState('')\n    useEffect(()=> {\n        if(props.userData.userID) {\n            getInitialFilesAndFolders()\n        }\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const sortProjectsDateAsc = (a, b) => {\n        return b.lastModified - a.lastModified  \n    }\n\n    const sortProjectsDateDesc = (a, b) => {\n        return a.lastModified - b.lastModified  \n    }\n\n    const sortProjectsNameAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsNameDesc = (a, b) => {\n        return a.name.localeCompare(b.name)\n    }\n\n    const sortProjectsTypeAsc = (a, b) => {\n        return b.name.localeCompare(a.name)\n    }\n\n    const sortProjectsTypeDesc = (a, b) => {\n        return a.type.localeCompare(b.type)\n    }\n\n    \n\n    const getInitialFilesAndFolders = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files-folders')\n        .where('parentID', '==', props.userData.userID)\n        .get()\n        .then(data=> {\n            const projectArr = []\n            let sortMethodType\n            data.forEach(project=> {\n                const docData = project.data()\n                if(docData.sortMethod) {\n                    sortMethodType = docData.sortMethod\n                    props.dispatch(sortMethod(docData.sortMethod))\n                }else{\n                    projectArr.push(docData)\n                }\n            })\n            props.dispatch(currentLayer(0))\n            if(sortMethodType==='dateAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateAsc)))\n            if(sortMethodType==='dateDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsDateDesc)))\n            if(sortMethodType==='nameAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameAsc)))\n            if(sortMethodType==='nameDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsNameDesc)))\n            if(sortMethodType==='typeAsc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeAsc)))\n            if(sortMethodType==='typeDesc') return props.dispatch(rootDocs(projectArr.sort(sortProjectsTypeDesc)))\n        })\n    }\n\n    const openModal = (type) => {\n        setIsCreateProjectModal(true)\n        setCreateType(type)\n    }\n\n    return(\n        <Container>\n\n            <CreateDocModal isCreateProjectModal={isCreateProjectModal} projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} createType={createType} getProjects={getInitialFilesAndFolders} setIsCreateProjectModal={setIsCreateProjectModal} />\n            <Menu>\n                <CreateNew><Plus>+</Plus> Create new</CreateNew>\n                <List>\n                    <Item onSelect={()=>openModal('folder')}>\n                        <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNi4wODMgNGMxLjM4IDEuNjEyIDIuNTc4IDMgNC45MTcgM2gxMXYxM2gtMjB2LTE2aDQuMDgzem0uOTE3LTJoLTd2MjBoMjR2LTE3aC0xM2MtMS42MjkgMC0yLjMwNS0xLjA1OC00LTN6Ii8+PC9zdmc+\" />\n                            Folder\n                        </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('screenplay')}>\n                        <MenuIconContainer>\n                            <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjEuMTU1IDguNjRjLS45MDkgMS41MTktMi4zMjcgMy4wNjctNC4wOTcgMy4wMDQtLjQxMy43MDYtLjg1MiAxLjY3Ny0xLjMzOSAyLjgwM2wtMS4zMTIuNTUzYy45MzYtMi4zNDMgMi4yMzEtNC45NjEgMy42OTgtNi45OTQtLjY3LjUyOS0xLjc0NiAxLjYzNy0yLjY2MiAyLjc4My0xLjA5OC0xLjgyOC0uMy0zLjY5MS45NzMtNS4xNzkuMDIxLjY0MS4zNTkgMS4xOTYuNjAxIDEuNDc1LS4wODctLjUzLS4xMTQtMS40ODkuMTk1LTIuMzUxLjcxOC0uNzMyIDEuMzY0LTEuMjcxIDIuMTEzLTEuNzYtLjA4My40NzguMDggMS4wMjYuMjYyIDEuMzYxLjAyNC0uNDkuMjI0LTEuNDMuNTIxLTEuODQuOTI0LS43MjcgMi4zMzItMS4zNzMgMy44OTItMS40OTUtLjA4MS45NzMtLjQzNiAyLjU3NS0xLjAyNCAzLjYwNC0uNTE1LjQwNC0xLjIyMS42OC0xLjc5MS44MzMuNDkzLjA4OSAxLjAzMS4wNzcgMS40OTQtLjAwMS0uMjY5Ljc0My0uNTUyIDEuNDI4LS45OTggMi4yNzYtLjY3OS40NjgtMS41NzguNzMyLTIuMjAzLjgyNS40Ni4xODcgMS4yNzIuMjQ1IDEuNjc3LjEwM3ptLTEzLjg0MSAzLjgwNWwuNjQ1Ljc4MSA0Ljc3My0yLjc5MS0uNjY4LS43NjgtNC43NSAyLjc3OHptNi45Ni0uMjM4bC0uNjY4LS43NjctNC44MDUgMi44MDguNjQ1Ljc4MSA0LjgyOC0yLjgyMnptNC42NzkuMDA3Yy0uNDIxLjIwMy0uODUxLjM0MS0xLjI4Ni4zOTgtLjEyLjIzMS0uMjQ2LjQ5NC0uMzc3Ljc3M2wuMjk4LjM0MmMuNjIzLjY5Mi40NTkgMS43MDQtLjM3NiAyLjIzOS0uNzczLjQ5Ny01LjM0MSAzLjM3Ni02LjM4NiA0LjAzNS0uMDc0LS43MjEtLjM1OC0xLjM5MS0uODI2LTEuOTQ4LS40NjktLjU1Ny02LjExNS03LjM3Ni03LjUyMy05LjE3OC0uNDY5LS42LS41NzUtMS4yNDUtLjI5NS0xLjgxNi4yNjgtLjU0OS44NDItLjkxOCAxLjQzLS45MTguOTE5IDAgMS40MDguNjU1IDEuNTQ5IDEuMjE1LjE2LjY0MS0uMDM1IDEuMjMxLS42MjMgMS42ODVsMS4zMjkgMS42MjQgNy43OTYtNC40NDZjMS40MjItMS4wNTEgMS44MjItMi45OTEuOTMtNC41MTMtLjYxOC0xLjA1My0xLjc1OS0xLjcwNi0yLjk3OC0xLjcwNi0xLjE4OCAwLS43OTMtLjAxNi05LjU2NSA0LjQ3NS0xLjIzNC41OTEtMi4wNSAxLjc4Ny0yLjA1IDMuMjAyIDAgLjg3LjMwOCAxLjc1Ni44ODkgMi40ODcgMS40MjcgMS43OTQgNy41NjEgOS4xODUgNy42MTYgOS4yNTcuMzcxLjQ5My40MjcgMS4xMTkuMTUgMS42NzMtLjI3Ny41NTUtLjgxMi44ODYtMS40MjkuODg2LS45MTkgMC0xLjQwOC0uNjU1LTEuNTQ5LTEuMjE2LS4xNTYtLjYyOS4wMTItMS4yMDguNjA0LTEuNjU0bC0xLjI3Ny0xLjU0NWMtLjgyMi42NjUtMS4yNzcgMS40OTYtMS4zNzcgMi40NDItLjIzMiAyLjIwNSAxLjUyNSAzLjk5MyAzLjYxMyAzLjk5My41OTYgMCAxLjMxMS0uMTc3IDEuODQxLS41MWw5LjQyNy01Ljk0NmMuOTU3LS42NjQgMS40OTItMS43ODEgMS40OTItMi44OTcgMC0uNzQ1LS4yNC0xLjQ1NC0uNjg4LTIuMDAzbC0uMzU5LS40M3ptLTcuOTMzLTEwLjA2MmMuMTg4LS4wODcuMzk4LS4xMzQuNjA5LS4xMzQuNTMyIDAgLjk5Ny4yODEgMS4yNDMuNzUyLjMxMi41OTYuMjI2IDEuNDY5LS41NDggMS45MTJsLTUuMDk3IDIuODg4Yy0uMDUxLTEuMDg5LS41NzktMi4wODEtMS40NTUtMi43MzJsNS4yNDgtMi42ODZ6bTIuMDk3IDEzLjM4M2wuMzYxLS45MDUuMjQ5LS42MDktMy40NDkgMi4wMTcuNjQ1Ljc4MSAyLjE5NC0xLjI4NHoiLz48L3N2Zz4=\" />\n                            Screenplay\n                        </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('outline')}>\n                    <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCAyMnYtMjBoMTZ2MTEuNTQzYzAgNC4xMDctNiAyLjQ1Ny02IDIuNDU3czEuNTE4IDYtMi42MzggNmgtNy4zNjJ6bTE4LTcuNjE0di0xNC4zODZoLTIwdjI0aDEwLjE4OWMzLjE2MyAwIDkuODExLTcuMjIzIDkuODExLTkuNjE0em0tNS0xLjM4NmgtMTB2LTFoMTB2MXptMC00aC0xMHYxaDEwdi0xem0wLTNoLTEwdjFoMTB2LTF6Ii8+PC9zdmc+\" />\n                        Outline\n                    </MenuIconContainer>\n                    </Item>\n                    <Item onSelect={()=>openModal('notes')}>\n                    <MenuIconContainer>\n                        <DocIcon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNCA0djIwaDIwdi0yMGgtMjB6bTE4IDE4aC0xNnYtMTNoMTZ2MTN6bS0zLTNoLTEwdi0xaDEwdjF6bTAtM2gtMTB2LTFoMTB2MXptMC0zaC0xMHYtMWgxMHYxem0yLTExaC0xOXYxOWgtMnYtMjFoMjF2MnoiLz48L3N2Zz4=\" />\n                        Notes\n                    </MenuIconContainer>\n                    </Item>\n                </List>\n            </Menu>\n            <ProjectsTable projectSelectedData={projectSelectedData} setProjectSelectedData={setProjectSelectedData} />\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects\n})\n\nexport default connect(mapStateToProps)(AllFiles)\n\nconst Container = styled.div`\n    width: 75vw;\n`\n\nconst Plus = styled.span`\n    font-size: 1.75rem;\n    margin-right: 5px;\n`\n\nconst Item = styled(MenuItem)`\n    font-size: 1rem;\n`\n\nconst MenuIconContainer = styled.div`\n    display: flex;\n`\n\nconst DocIcon = styled.img`\n    height: 20px;\n    width: 20px;\n    margin-right: 10px;\n`\n\nconst CreateNew = styled(MenuButton)`\n    background-color: black;\n    color: white;\n    padding: 8px 15px;\n    border-radius: 10px;\n    margin: 0px 0 20px 0;\n    display: flex;\n    align-items: center;\n    font-size: .875rem;\n`\n\nconst List = styled(MenuList)`\n    min-width: 100px;\n`","import { db } from '../../../firebase'\nimport { useEffect } from 'react'\nimport AllFiles from './AllFiles'\nimport { connect } from 'react-redux'\n\nconst FilesList = (props) => {\n\n    useEffect(()=> {\n        getProjects()\n        // eslint-disable-next-line\n    }, [props.userData])\n\n    const getProjects = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('projects')\n        .get()\n        .then(data=> {\n            const projectArr = []\n            data.forEach(project=> {\n                projectArr.push(project.data())\n            })\n        })\n    }\n\n    return(\n        <div>\n            <AllFiles />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(FilesList)","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { dashboardCurrentSection } from '../../../redux/actions/appActions'\n\nconst Sidebar = (props) => {\n\n    const navigateSidebar = (menuItem) => {\n        // if(menuItem==='projects') getProjects()\n        // if(menuItem==='files') getAllFiles()\n        return props.dispatch(dashboardCurrentSection(menuItem))\n    }\n\n    return(\n        <Container>\n            <Logo>Redraft</Logo>\n            <UL>\n                <LI><LiButton onClick={()=>navigateSidebar('projects')} background={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='projects' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'} >\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAyMnYtMTZoMTZ2Ny41NDNjMCA0LjEwNy02IDIuNDU3LTYgMi40NTdzMS41MTggNi0yLjYzOCA2aC03LjM2MnptMTgtNy42MTR2LTEwLjM4NmgtMjB2MjBoMTAuMTg5YzMuMTYzIDAgOS44MTEtNy4yMjMgOS44MTEtOS42MTR6bS0xMCAxLjYxNGgtNXYtMWg1djF6bTUtNGgtMTB2MWgxMHYtMXptMC0zaC0xMHYxaDEwdi0xem0yLTdoLTE5djE5aC0ydi0yMWgyMXYyeiIvPjwvc3ZnPg==\" />\n                    All files\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('analytics')} background={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='analytics' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTIuNDE0di0xMi4zNjRjNi4xNTguNTEgMTEgNS42NiAxMSAxMS45NSAwIDYuNjI3LTUuMzczIDEyLTEyIDEyLTIuOTUzIDAtNS42NTQtMS4wNzItNy43NDQtMi44NDJsOC43NDQtOC43NDR6bS0yLTEyLjM2NGMtNi4xNTguNTEtMTEgNS42Ni0xMSAxMS45NSAwIDIuOTU0IDEuMDcyIDUuNjU0IDIuODQyIDcuNzQ1bDEuNDItMS40MmMtMS40MTItMS43MjUtMi4yNjItMy45MjgtMi4yNjItNi4zMjUgMC01LjE3NyAzLjk1My05LjQ0NiA5LTkuOTQ5di0yLjAwMXoiLz48L3N2Zz4=\" /> \n                    Analytics\n                </LiButton ></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('settings')} background={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='settings' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTQuMTg3di00LjM3NGMtMi4xNDgtLjc2Ni0yLjcyNi0uODAyLTMuMDI3LTEuNTI5LS4zMDMtLjcyOS4wODMtMS4xNjkgMS4wNTktMy4yMjNsLTMuMDkzLTMuMDkzYy0yLjAyNi45NjMtMi40ODggMS4zNjQtMy4yMjQgMS4wNTktLjcyNy0uMzAyLS43NjgtLjg4OS0xLjUyNy0zLjAyN2gtNC4zNzVjLS43NjQgMi4xNDQtLjggMi43MjUtMS41MjkgMy4wMjctLjc1Mi4zMTMtMS4yMDMtLjEtMy4yMjMtMS4wNTlsLTMuMDkzIDMuMDkzYy45NzcgMi4wNTUgMS4zNjIgMi40OTMgMS4wNTkgMy4yMjQtLjMwMi43MjctLjg4MS43NjQtMy4wMjcgMS41Mjh2NC4zNzVjMi4xMzkuNzYgMi43MjUuOCAzLjAyNyAxLjUyOC4zMDQuNzM0LS4wODEgMS4xNjctMS4wNTkgMy4yMjNsMy4wOTMgMy4wOTNjMS45OTktLjk1IDIuNDctMS4zNzMgMy4yMjMtMS4wNTkuNzI4LjMwMi43NjQuODggMS41MjkgMy4wMjdoNC4zNzRjLjc1OC0yLjEzMS43OTktMi43MjMgMS41MzctMy4wMzEuNzQ1LS4zMDggMS4xODYuMDk5IDMuMjE1IDEuMDYybDMuMDkzLTMuMDkzYy0uOTc1LTIuMDUtMS4zNjItMi40OTItMS4wNTktMy4yMjMuMy0uNzI2Ljg4LS43NjMgMy4wMjctMS41Mjh6bS00Ljg3NS43NjRjLS41NzcgMS4zOTQtLjA2OCAyLjQ1OC40ODggMy41NzhsLTEuMDg0IDEuMDg0Yy0xLjA5My0uNTQzLTIuMTYxLTEuMDc2LTMuNTczLS40OS0xLjM5Ni41ODEtMS43OSAxLjY5My0yLjE4OCAyLjg3N2gtMS41MzRjLS4zOTgtMS4xODUtLjc5MS0yLjI5Ny0yLjE4My0yLjg3NS0xLjQxOS0uNTg4LTIuNTA3LS4wNDUtMy41NzkuNDg4bC0xLjA4My0xLjA4NGMuNTU3LTEuMTE4IDEuMDY2LTIuMTguNDg3LTMuNTgtLjU3OS0xLjM5MS0xLjY5MS0xLjc4NC0yLjg3Ni0yLjE4MnYtMS41MzNjMS4xODUtLjM5OCAyLjI5Ny0uNzkxIDIuODc1LTIuMTg0LjU3OC0xLjM5NC4wNjgtMi40NTktLjQ4OC0zLjU3OWwxLjA4NC0xLjA4NGMxLjA4Mi41MzggMi4xNjIgMS4wNzcgMy41OC40ODggMS4zOTItLjU3NyAxLjc4NS0xLjY5IDIuMTgzLTIuODc1aDEuNTM0Yy4zOTggMS4xODUuNzkyIDIuMjk3IDIuMTg0IDIuODc1IDEuNDE5LjU4OCAyLjUwNi4wNDUgMy41NzktLjQ4OGwxLjA4NCAxLjA4NGMtLjU1NiAxLjEyMS0xLjA2NSAyLjE4Ny0uNDg4IDMuNTguNTc3IDEuMzkxIDEuNjg5IDEuNzg0IDIuODc1IDIuMTgzdjEuNTM0Yy0xLjE4OC4zOTgtMi4zMDIuNzkxLTIuODc3IDIuMTgzem0tNy4xMjUtNS45NTFjMS42NTQgMCAzIDEuMzQ2IDMgM3MtMS4zNDYgMy0zIDMtMy0xLjM0Ni0zLTMgMS4zNDYtMyAzLTN6bTAtMmMtMi43NjIgMC01IDIuMjM4LTUgNXMyLjIzOCA1IDUgNSA1LTIuMjM4IDUtNS0yLjIzOC01LTUtNXoiLz48L3N2Zz4=\" />\n                    Settings\n                </LiButton></LI>\n                <LI><LiButton onClick={()=>navigateSidebar('deleted')} background={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'transparent'} hover={props.dashboardCurrentSection==='deleted' ? 'hsl(202, 40%, 85%)' : 'hsl(200, 10%, 95%)'}>\n                    <Icon alt='' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOSAxOWMwIC41NTItLjQ0OCAxLTEgMXMtMS0uNDQ4LTEtMXYtMTBjMC0uNTUyLjQ0OC0xIDEtMXMxIC40NDggMSAxdjEwem00IDBjMCAuNTUyLS40NDggMS0xIDFzLTEtLjQ0OC0xLTF2LTEwYzAtLjU1Mi40NDgtMSAxLTFzMSAuNDQ4IDEgMXYxMHptNCAwYzAgLjU1Mi0uNDQ4IDEtMSAxcy0xLS40NDgtMS0xdi0xMGMwLS41NTIuNDQ4LTEgMS0xczEgLjQ0OCAxIDF2MTB6bTUtMTd2MmgtMjB2LTJoNS43MTFjLjkgMCAxLjYzMS0xLjA5OSAxLjYzMS0yaDUuMzE1YzAgLjkwMS43MyAyIDEuNjMxIDJoNS43MTJ6bS0zIDR2MTZoLTE0di0xNmgtMnYxOGgxOHYtMThoLTJ6Ii8+PC9zdmc+\" />\n                    Deleted\n                </LiButton></LI>\n            </UL>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    projects: state.dashboard.projects,\n    projectFiles: state.app.projectFiles,\n    dashboardCurrentSection: state.app.dashboardCurrentSection,\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n\nconst Container = styled.div`\n    width: 18vw;\n    /* margin: 0 0 0 20px; */\n    padding: 0 20px;\n    background-color: hsl(0, 0%, 97%);\n    height: 100vh;\n    /* margin-top: 115px; */\n`\n\nconst LI = styled.li`\n`\n\nconst UL = styled.ul`\n`\n\nconst LiButton = styled.button`\n    background-color: ${props=> props.background};\n    border: none;\n    padding: 10px 0;\n    font-size: 1.25rem;\n    width: 100%;\n    border-radius: 5px;\n    transition: background-color 50ms ease-in-out;\n    &:hover {\n        background-color: ${props=> props.hover};\n    }\n`\n\nconst Icon = styled.img`\n    transform: scale(.8);\n    margin-right: 7px;\n    position: relative;\n    top: 5px;\n`\n\nconst Logo = styled.h1`\n    font-size: 1.5rem;\n    font-weight: 700;\n    display: grid;\n    justify-content: center;\n    padding: 20px;\n    margin: 30px 0 70px 0;\n`","import styled from \"styled-components\";\nimport { connect } from 'react-redux'\nimport { \n    currentLayer,\n    layerOneDocs,\n    layerTwoDocs,\n    layerThreeDocs,\n } from '../../redux/actions/appActions'\nimport { breadcrumbs } from '../../redux/actions/dashboardActions'\n\nconst Breadcrumbs = (props) => {\n\n    const breadcrumbRoute = (indexToRoute) => {\n        props.dispatch(currentLayer(indexToRoute))\n        const crumbsCopy = [...props.breadcrumbs]\n        const breadcrumbsReduced = crumbsCopy.slice(0, indexToRoute+1)\n        props.dispatch(breadcrumbs(breadcrumbsReduced))\n        if(indexToRoute <= 0) props.dispatch(layerOneDocs([]))\n        if(indexToRoute <= 1) props.dispatch(layerTwoDocs([]))\n        if(indexToRoute <= 2) props.dispatch(layerThreeDocs([]))\n    }\n\n    return(\n        <Container>\n            {props.breadcrumbs.map((crumb, index)=> {\n                return(\n                    <Crumb onClick={()=>breadcrumbRoute(index)} key={index}>{crumb.name}</Crumb>\n                )\n            })}\n        </Container>\n    )\n} \n\nconst mapStateToProps = state => ({\n    breadcrumbs: state.dashboard.breadcrumbs,\n    currentLayer: state.app.currentLayer,\n    rootLayer: state.app.rootLayer,\n    layerOneDocs: state.app.layerOneDocs,\n    layerTwoDocs: state.app.layerTwoDocs,\n    layerThreeDocs: state.app.layerThreeDocs,\n})\n\nexport default connect(mapStateToProps)(Breadcrumbs)\n\nconst Crumb = styled.button`\n    cursor: pointer;\n    font-size: 1.75rem;\n    font-weight: 500;\n    &:not(:first-of-type) {\n        margin-left: 5px;\n        &:before {\n            margin-right: 5px;\n            content: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSAzbDMuMDU3LTMgMTEuOTQzIDEyLTExLjk0MyAxMi0zLjA1Ny0zIDktOXoiLz48L3N2Zz4=\");\n        }\n    }\n    &:not(:last-of-type) {\n        margin-left: 5px;\n        opacity: 0.6;\n        font-size: 1.7rem;\n        font-weight: 400;\n    }\n    &:hover{\n        opacity: 1;\n    }\n`\n\nconst Container = styled.nav`\n    display: flex;\n    margin: 20px 0;\n`","// import Projects from './FilesList/Projects'\nimport styled from 'styled-components'\nimport FilesList from './FilesList/FilesList'\nimport Sidebar from './Sidebar/Sidebar'\nimport { connect } from 'react-redux'\nimport Breadcrumbs from './Breadcrumbs'\nconst Dashboard = () => {\n    return(\n        <Container>\n            <Sidebar />\n            <FilesContainer>\n                <Breadcrumbs />\n                <FilesList />\n            </FilesContainer>\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => ({\n    showProjects: state.dashboard.showProjects,\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n\nexport const FilesContainer = styled.div`\n    padding: 0 10px 0 50px;\n`\n\nexport const Container = styled.div`\n    /* width: 100vw;  */\n    display: flex;\n`","import styled from 'styled-components'\nimport { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst EditCardModal = (props) => {\n    const [newTitle, setNewTitle] = useState('')\n    const [newText, setNewText] = useState('')\n\n    const saveCardEdits = () => {\n        const newCard = {\n            index: props.cardIndex,\n            title: newTitle || props.title,\n            text: newText || props.text,\n        }\n        const newOutline = [...props.outlineItemsForUpdate]\n        const newOutlineForDisplay = [...props.outlineItemsDisplay]\n        \n        newOutline[props.cardIndex] = newCard\n        newOutlineForDisplay[props.itemIndexes[props.cardIndex]] = newCard\n        props.dispatch(outlineItemsDisplay([...newOutlineForDisplay]))\n        props.dispatch(outlineItemsForUpdate(newOutline))\n\n\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: newOutline,\n        })\n        .then(()=> {\n            props.setShowEditModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowEditModal(false)\n            document.getElementById(`card-edit-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal onDismiss={()=>props.setShowEditModal(false)} aria-label='edit card' isOpen={props.showEditModal}>\n            <Header>Edit card</Header>\n            <div>\n                <Title autoComplete='off' onChange={(e)=>setNewTitle(e.target.value)} id='edit-card-modal-title' defaultValue={props.title}></Title>\n                <div style={{marginBottom: '20px'}}></div>\n                <Text onChange={(e)=>setNewText(e.target.value)} id='edit-card-modal-text' defaultValue={props.text}></Text>\n            </div>\n            <div>\n                <Cancel onKeyDown={(e)=> closeModal(e)} onMouseDown={()=>props.setShowEditModal(false)}>Cancel</Cancel>\n                <Save onClick={saveCardEdits}>Save</Save>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n})\n\nexport default connect(mapStateToProps)(EditCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Save = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\nconst Title = styled.input`\n    width: 500px;\n    height: 40px;\n`\n\nconst Text = styled.textarea`\n    width: 500px;\n    height: 100px;\n`\n\nconst Modal = styled(Dialog)`\n    display: grid;\n    /* flex-direction: column; */\n    z-index: 100;\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 350px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { db } from '../../../firebase'\nimport { outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst DeleteCardModal = (props) => {\n\n    const deleteCard = () => {\n        let newOutline = [...props.outlineItemsForUpdate]\n        newOutline.splice(props.cardIndex, 1)\n        const outlineNewIndexes = newOutline.map((card, index)=> {\n            return {...card, index}\n        })\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length - 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n        props.setItemIndexes(dataIndexArray)\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowDeleteModal(false)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const closeModal = (e) => {\n        if(e.code==='Enter' || e.code==='Space' || e.code==='Escape') {\n            e.preventDefault()\n            props.setShowDeleteModal(false)\n            document.getElementById(`card-delete-button-${props.cardIndex}`).focus()\n        }\n    }\n\n    return(\n        <Modal aria-label='delete card dialog' isOpen={props.showDeleteModal} onDismiss={()=>props.setShowDeleteModal(false)}>\n            <Header>Delete card</Header>\n            <p>Are you sure you want to delete this card?</p>\n            <div>\n                <Cancel onKeyDown={closeModal} onMouseDown={()=>props.setShowDeleteModal(false)}>Cancel</Cancel>\n                <Delete onClick={deleteCard}>Delete</Delete>\n            </div>\n        </Modal>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(DeleteCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n    \n`\n\nconst Delete = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 60%, 50%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 600px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\nimport React, { useState, useEffect } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { outlineItemsForUpdate, outlineItemsDisplay } from '../../../redux/actions/appActions'\nimport { Dialog } from \"@reach/dialog\";\nimport \"@reach/dialog/styles.css\";\n\nconst CreateCardModal = (props) => {\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [location, setLocation] = useState()\n\n    useEffect(()=> {\n        // document.getElementById('create-card-location').value = props.outlineItemsForUpdate.length + 1\n        setLocation(props?.outlineItemsForUpdate?.length + 1)\n        // eslint-disable-next-line \n    }, [props.outlineItemsForUpdate])\n\n\n    const createNewOutlineCard = () => {\n        let numberOfCards = 0\n        if(props.outlineItemsForUpdate) {\n            numberOfCards = props.outlineItemsForUpdate.length \n        }\n        const dataObject = {\n            title, \n            text,\n            index: location,\n        }\n        const updateCopy = [...props.outlineItemsForUpdate]\n        const indexesCopy = [...props.itemIndexes]\n\n        updateCopy.splice(location - 1, 0, dataObject)\n        const outlineNewIndexes = updateCopy.map((card, index)=> {\n            return {...card, index}\n        })\n\n        indexesCopy.splice(location, 0, String(numberOfCards))\n        const dataIndexArray = []\n        for(let i = 0; i<props.itemIndexes.length + 1; i++) {\n            dataIndexArray.push(String(i))\n        }\n\n        props.setItemIndexes(dataIndexArray)\n        props.dispatch(outlineItemsDisplay(outlineNewIndexes))\n        props.dispatch(outlineItemsForUpdate(outlineNewIndexes))\n\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: outlineNewIndexes,\n        })\n        .then(()=> {\n            props.setShowCreateModal(false)\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    return(\n        <Modal aria-label='create card' isOpen={props.showCreateModal} onDismiss={()=>props.setShowCreateModal(false)}>\n            <Header>Create new card</Header>\n            <Label>Title</Label>\n            <Title onChange={(e)=>setTitle(e.target.value)} />\n            <Label>Description</Label>\n            <Description onChange={(e)=>setText(e.target.value)} />\n            <Label>Insert at location:</Label>\n            <div>\n                <Location defaultValue={props.outlineItemsForUpdate.length + 1} id='create-card-location' onChange={(e)=>setLocation(e.target.value)} /> / {props.outlineItemsDisplay.length + 1}\n            </div>\n            <div style={{display: 'flex'}}>\n                <Cancel onClick={()=>props.setShowCreateModal(false)}>Cancel</Cancel>\n                <Create onClick={createNewOutlineCard}>Create</Create>\n            </div>\n        </Modal>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(CreateCardModal)\n\nconst Header = styled.h1`\n    font-size: 1.75rem;\n    margin-bottom: 36px;\n`\n\nconst Description = styled.textarea`\n    width: 40vw;\n    height: 150px;\n    margin-bottom: 36px;\n`\n\nconst Title = styled.input`\n    width: 40vw;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Location = styled.input`\n    width: 50px;\n    height: 40px;\n    margin-bottom: 36px;\n`\n\nconst Label = styled.label`\n`\n\nconst Cancel = styled.button`\n    height: 50px;\n    width: 100px;\n    margin: 10px;\n`\n\nconst Create = styled.button`\n    margin: 10px;\n    background-color: hsl(0, 0%, 20%);\n    height: 50px;\n    width: 100px;\n    color: white;\n`\n\n\nconst Modal = styled(Dialog)`\n    z-index: 100;\n    display: grid;\n    /* flex-direction: column; */\n    align-items: center;\n    justify-content: center;\n    width: 700px;\n    min-height: 300px;\n    /* position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%); */\n    background-color: white;\n    isolation: isolate;\n    padding: 50px 15px;\n    border-radius: 10px;\n`","import styled from 'styled-components'\n\nconst Card = (props) => {\n\n    const editCard = (title, text) => {\n        props.setTitle(title)\n        props.setText(text)\n        props.setShowEditModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const deleteCard = () => {\n        props.setShowDeleteModal(true)\n        props.setCardIndex(props.index)\n    }\n\n    const keyBoardDelete = (e) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            deleteCard()\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    const keyBoardEdit = (e, title, text) => {\n        if(e.key==='Enter'||e.key==='Space')  {\n            editCard(title, text)\n            e.stopPropagation()\n            e.nativeEvent.stopImmediatePropagation()\n            e.preventDefault()\n        }\n    }\n\n    return(\n        <Container {...props} ref={props.innerRef}>\n            <IconTitleContainer>\n                <Title>{props.title}</Title>\n                <IconContainer>\n                    <Icons>\n                        <IconBackgroundContainer id={`card-edit-button-${props.index}`} role='button' onClick={()=>editCard(props.title, props.text)} onKeyDown={(e)=>keyBoardEdit(e, props.title, props.text)}>\n                            <IconTitle>Rename</IconTitle>\n                            <IconBackground />\n                            <Icon alt='edit' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguMzYzIDguNDY0bDEuNDMzIDEuNDMxLTEyLjY3IDEyLjY2OS03LjEyNSAxLjQzNiAxLjQzOS03LjEyNyAxMi42NjUtMTIuNjY4IDEuNDMxIDEuNDMxLTEyLjI1NSAxMi4yMjQtLjcyNiAzLjU4NCAzLjU4NC0uNzIzIDEyLjIyNC0xMi4yNTd6bS0uMDU2LTguNDY0bC0yLjgxNSAyLjgxNyA1LjY5MSA1LjY5MiAyLjgxNy0yLjgyMS01LjY5My01LjY4OHptLTEyLjMxOCAxOC43MThsMTEuMzEzLTExLjMxNi0uNzA1LS43MDctMTEuMzEzIDExLjMxNC43MDUuNzA5eiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                        \n                        <IconBackgroundContainer id={`card-delete-button-${props.index}`} role='button' onClick={deleteCard} onKeyDown={(e)=>keyBoardDelete(e)}>\n                            <IconTitle>Delete</IconTitle>\n                            <IconBackground />\n                            <Icon alt='delete' src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" />\n                        </IconBackgroundContainer>\n                    </Icons>\n                    <CardNumber>{props.index + 1}</CardNumber>\n                </IconContainer>\n            </IconTitleContainer>\n            <div></div>\n            <Text>{props.text}</Text>\n        </Container>\n    )\n}\n\nexport default Card\n\nconst IconTitle = styled.div`\n    transition: opacity 200ms ease-in-out;\n    opacity: 0;\n    background-color: hsl(0, 0%, 10%);\n    height: 30px;\n    min-width: 50px;\n    position: absolute;\n    z-index: 10;\n    top: 160%;\n    left: 50%;\n    transform: translate(-50%, -50%); \n    border-radius: 5px;\n    color: white;\n    vertical-align: middle;\n    padding: 5px 10px;\n    font-size: 1rem;\n`\n\nconst IconBackground = styled.div`\n    opacity: 0;\n    transition: opacity 200ms ease-in-out;\n    background-color: lightblue;\n    height: 35px;\n    width: 35px;\n    position: relative;\n    border-radius: 50%;\n    &:hover{\n        opacity: 1;\n    }\n    &:focus{\n        opacity: 1;\n    }\n`\n\nconst CardNumber = styled.p`\n    position: relative;\n    top: 3px;\n    margin-left: 8px;\n    color: hsl(0, 0%, 40%);\n    &::after {\n        content: '.'\n    }\n`\n\nconst Icons = styled.div`\n    opacity: 0;\n    transition: opacity 300ms ease-in-out;\n`\n\nconst IconTitleContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\n\nconst IconContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    position: relative;\n    top: -10px;\n    &:focus-within {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`\n\nconst IconBackgroundContainer = styled.button`\n    position: relative;\n    margin-right: 10px;\n    &:hover{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n    &:focus{\n        ${IconBackground} {\n            opacity: 1;\n        }\n        ${IconTitle} {\n            opacity: 1;\n        }\n    }\n`\n\nconst Icon = styled.img` \n    width: 18px;\n    height: 18px;\n    z-index: 100;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n`\n\nconst Title = styled.h1`\n    font-size: 1rem;\n    color: hsl(0, 0%, 40%);\n    margin-bottom: 20px;\n`\n\nconst Text = styled.h2`\n    font-size: 1.25rem;\n    line-height: 1.5;\n`\n\nconst Container = styled.article`\n    font-size: 1.3rem; \n    background-color: hsl(0, 0%, 95%); \n    padding: 30px;\n    display: flex;\n    border-radius: 15px;\n    flex-direction: column;\n    width: auto;\n    min-height: 200px;\n    height: 100%;\n    cursor: move;\n    &:hover {\n        ${Icons} {\n            opacity: 1;\n        }\n    }\n`","import React from 'react';\nimport Card from './Card'\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { connect } from 'react-redux'\n\nconst SortableItem = (props) => {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  \n  return (\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      {props?.text &&\n        <Card \n          index={props.index} \n          setCardIndex={props.setCardIndex} \n          setTitle={props.setTitle} setText={props.setText}  \n          setShowEditModal={props.setShowEditModal} \n          setShowDeleteModal={props.setShowDeleteModal} \n          text={props?.text[Number(props.id)]?.text || ''} \n          title={props?.text[Number(props.id)]?.title || ''} \n        />\n      }\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(SortableItem)","import React, { useEffect, useState } from 'react'\nimport { db } from '../../../firebase'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\nimport { updateLastModified } from '../../../globalFunctions'\nimport { Link } from 'react-router-dom'\nimport { outlineData, outlineItemsDisplay, outlineItemsForUpdate } from '../../../redux/actions/appActions'\nimport EditCardModal from './EditCardModal'\nimport DeleteCardModal from './DeleteCardModal'\nimport CreateCardModal from './CreateCardModal'\nimport {\n  DndContext, \n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n} from '@dnd-kit/sortable';\n\nimport SortableItem from './SortableItem';\n\nconst Outline = (props) => {\n    const [showEditModal, setShowEditModal] = useState(false)\n    const [showDeleteModal, setShowDeleteModal] = useState(false)\n    const [showCreateModal, setShowCreateModal] = useState(false)\n    const [title, setTitle] = useState('')\n    const [text, setText] = useState('')\n    const [cardIndex, setCardIndex] = useState(null)\n    const [itemIndexes, setItemIndexes] = useState([])\n\n    useEffect(()=> {\n        // console.log(props.match)\n        getOutline()\n        // eslint-disable-next-line\n    }, [props.match])\n\n\n    const getOutline = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then((result)=> {\n            if(result.data() !== undefined) {\n                const outline = result.data()\n                const outlineItems = outline.data\n                props.dispatch(outlineData(outline))\n                if(outlineItems.length > 0) {\n                    props.dispatch(outlineItemsDisplay([...outlineItems]))\n                    props.dispatch(outlineItemsForUpdate([...outlineItems]))\n                }\n                const dataIndexArray = []\n                for(let i = 0; i<outlineItems.length; i++) {\n                    dataIndexArray.push(String(i))\n                }\n                setItemIndexes(dataIndexArray)\n            }\n        })\n    }\n\n    const updateToDatabase = (cardsInput) => {\n        const cardsNewIndexes = cardsInput.map((card, index)=> {\n            return {...card, index}\n        })\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            data: cardsNewIndexes,\n        })\n        .then(()=> {\n            console.log('updated')\n        })\n\n        updateLastModified(props.userData.userID, String(props.outlineData.docID), props.match.params.fileID)\n    }\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    \n\n    function handleDragEnd(event) {\n        const {active, over} = event;\n        if (active.id !== over.id) {\n            let oldIndex \n            let newIndex \n            setItemIndexes((itemIndexes) => {\n                oldIndex = itemIndexes.indexOf(active.id);\n                newIndex = itemIndexes.indexOf(over.id);\n                const result = arrayMove(itemIndexes, oldIndex, newIndex)\n                return result;\n            });\n            let itemsCopy = [...props.outlineItemsForUpdate]\n            const removedItem = itemsCopy.splice(oldIndex, 1)\n            itemsCopy.splice(newIndex, 0, ...removedItem)\n            const newIndexItems = itemsCopy.map((item, index)=> {\n                return {...item, index}\n            })\n            props.dispatch(outlineItemsForUpdate([...newIndexItems]))\n            updateToDatabase(newIndexItems)\n        }\n    }\n\n    return (\n        <div>\n            <Link to='/writing-app'>\n                <div>Home</div>\n            </Link>\n            {props?.outlineData?.name}\n            <button onClick={()=>setShowCreateModal(true)}>Create new card</button>\n            <DndContext sensors={sensors} collisionDetection={closestCenter}onDragEnd={handleDragEnd}>\n            <SortableContext items={itemIndexes} strategy={rectSortingStrategy}>\n                <Grid>\n                    {itemIndexes.map((itemIndex, index)=> {\n                        return(\n                            <SortableItem index={index} setCardIndex={setCardIndex} setTitle={setTitle} setText={setText} setShowEditModal={setShowEditModal} setShowDeleteModal={setShowDeleteModal} key={itemIndex} id={itemIndex} text={props.outlineItemsDisplay} />\n                        )\n                    })}\n                </Grid>\n            </SortableContext>\n            </DndContext>\n\n            <EditCardModal showEditModal={showEditModal} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowEditModal={setShowEditModal} title={title} text={text} />\n            \n\n            <DeleteCardModal showDeleteModal={showDeleteModal} setItemIndexes={setItemIndexes} itemIndexes={itemIndexes} match={props.match} cardIndex={cardIndex} setShowDeleteModal={setShowDeleteModal} />\n\n\n            <CreateCardModal showCreateModal={showCreateModal} itemIndexes={itemIndexes}  setItemIndexes={setItemIndexes}  match={props.match} setShowCreateModal={setShowCreateModal} getOutline={getOutline} />\n        </div>\n    );\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    outlineData: state.app.outlineData,\n    currentFileID: state.app.currentFileID,\n    outlineItemsForUpdate: state.app.outlineItemsForUpdate,\n    outlineItemsDisplay: state.app.outlineItemsDisplay,\n})\n\nexport default connect(mapStateToProps)(Outline)\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 20px;\n    margin: 20px;\n    grid-template-rows: auto;\n`","import styled from 'styled-components'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { notesData } from '../../redux/actions/appActions'\n\nconst Notes = (props) => {\n    const [note, setNote] = useState('')\n    const [lastSaved, setLastSaved] = useState(0)\n    const [savedStatus, setSavedStatus] = useState('All changes saved')\n    useEffect(()=> {\n        getNotes()\n        // eslint-disable-next-line\n    }, [props.match])\n\n    \n    useEffect(()=> {\n        if(props.userData.userID) {\n            setSavedStatus('Saving...')\n            const timeout = setTimeout(()=>saveWork(), 1000)\n            return  ()=>clearTimeout(timeout)\n        }\n        // eslint-disable-next-line \n    }, [note])\n\n\n\n    const getNotes = () => {\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .get()\n        .then(result=> {\n            if(result.data() !== undefined) {\n                document.getElementById('notes-textarea').value = result.data().text\n            }\n            props.dispatch(notesData(result.data()))\n        })\n    }\n\n    const saveWork = () => {\n        const currentTime = Date.now()\n        db.collection('users')\n        .doc(props.userData.userID)\n        .collection('files')\n        .doc(props.match.params.fileID)\n        .update({\n            text: note,\n        })\n        .then(()=> {\n            console.log('work saved')\n            setSavedStatus('All changes saved')\n        })\n\n        if(currentTime - lastSaved > 600000) {\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(props.match.params.fileID)\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n            db.collection('users')\n            .doc(props.userData.userID)\n            .collection('files-folders')\n            .doc(String(props.notesData.docID))\n            .update({\n                lastModified: currentTime,\n            })\n            .then(()=> {\n                console.log('updated')\n            })\n        }\n\n        setLastSaved(currentTime)\n    }\n\n    return(\n        <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center'}}>\n            <h4>{savedStatus}</h4>\n            <Link to='/writing-app'>Home</Link>\n            <div></div>\n            {props?.notesData?.name}\n            <div></div>\n            <TextAreaPage placeholder='Write notes here' onChange={(e)=> setNote(e.target.value)} autoFocus id='notes-textarea' />\n            <div></div>\n            {/* <button onClick={saveWork}>Save work</button> */}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    userData: state.app.userData,\n    notesData: state.app.notesData,\n    outlineData: state.app.outlineData\n})\n\nexport default connect(mapStateToProps)(Notes)\n\nconst TextAreaPage = styled.textarea`\n    padding: 40px 100px;\n    /* background-color: hsl(0, 10%, 95%); */\n    background-color: transparent;\n    box-shadow: none;\n    outline: none;\n    border-radius: 15px;\n    font-size: 1rem;\n    line-height: 1.5;\n    width: 60vw;\n    height: 90vh;\n    border: none;\n    resize: none;\n`","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyles = createGlobalStyle`\n\n    html, body {\n        background-color: hsl(200, 30%, 90%);\n    }\n\n    * {\n        &:focus {\n            box-shadow: 0 0 0 5px rgba(21, 156, 228, 0.4);\n            outline: none;\n        }\n    }\n\n    html, body, div, span, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote,\n    a, img, ol, ul, li, form, label,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, section, summary,\n    time, mark, audio, video, button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }  \n\n    button {\n        cursor: pointer;\n        background-color: transparent;\n    }\n\n    textarea {\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 500;\n    }\n\n    h1, h2, h3, h4, h5, h6, p, a {\n        line-height: 1;\n    }\n\n    ol, ul {\n        list-style: none;\n    }\n\n    *, *::before, *::after {\n        box-sizing: border-box;\n    }\n`\n\nexport default GlobalStyles","import { useEffect } from 'react'\n// import Signup from './Components/Signup/Signup'\n// import Signin from './Components/Signup/Signin'\nimport Dashboard from './Components/Dashboard/Dashboard'\nimport Outline from './Components/Edit/Outline/Outline'\n// import ModalTest from './ModalTest'\nimport firebase from 'firebase'\nimport Notes from './Components/Edit/Notes'\nimport { connect } from 'react-redux'\nimport GlobalStyles from './GlobalStyles'\nimport { Route } from 'react-router-dom'\nimport { userData } from './redux/actions/appActions'\n\nconst App = (props) => {\n\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        const userInfo = {\n          userID: user.uid, \n        }\n        console.log('logged in')\n        props.dispatch(userData(userInfo))\n      }\n    });\n    // eslint-disable-next-line\n  }, [])\n  return (\n    <div>\n      {/* <ModalTest /> */}\n      <Route path='/writing-app/edit/outline/:fileID' render={(props)=> (\n        <Outline {...props} />\n        // <OutlineDND {...props} />\n      )} />\n      <Route path='/writing-app/edit/notes/:fileID' render={(props)=> (\n        <Notes {...props} />\n      )} />\n      <Route exact path='/writing-app' render={(props)=> (\n        <Dashboard {...props} />\n      )} />\n      {/* <Signup /> */}\n      {/* <Signin /> */}\n      <GlobalStyles />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  userData: state.app.userData\n})\n\nexport default connect(mapStateToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actions from '../actions/appActions'\n\nconst initialState = {\n    userData: {},\n    currentProjectID: '',\n    projectFiles: [],\n    currentFileID: '',\n    outlineData: {},\n    notesData: {},\n    dashboardCurrentSection: 'projects',\n    outlineItemsForUpdate: [],\n    outlineItemsDisplay: [],\n    rootDocs: [],\n    layerOneDocs: [],\n    layerTwoDocs: [],\n    layerThreeDocs: [],\n    currentLayer: null,\n}\n\nconst appReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.CURRENT_LAYER:\n            return {\n                ...state,\n                currentLayer: action.payload\n            }\n        case actions.LAYER_THREE_DOCS:\n            return {\n                ...state,\n                layerThreeDocs: action.payload\n            }\n        case actions.LAYER_TWO_DOCS:\n            return {\n                ...state,\n                layerTwoDocs: action.payload\n            }\n        case actions.LAYER_ONE_DOCS:\n            return {\n                ...state,\n                layerOneDocs: action.payload\n            }\n        case actions.ROOT_DOCS:\n            return {\n                ...state,\n                rootDocs: action.payload\n            }\n        case actions.OUTLINE_ITEMS_DISPLAY:\n            return {\n                ...state,\n                outlineItemsDisplay: action.payload\n            }\n        case actions.OUTLINE_ITEMS_FOR_UPDATE:\n            return {\n                ...state,\n                outlineItemsForUpdate: action.payload\n            }\n        case actions.DASHBOARD_CURRENT_SECTION:\n            return {\n                ...state,\n                dashboardCurrentSection: action.payload\n            }\n        case actions.NOTES_DATA:\n            return {\n                ...state,\n                notesData: action.payload\n            }\n        case actions.OUTLINE_DATA:\n            return {\n                ...state,\n                outlineData: action.payload\n            }\n        case actions.CURRENT_FILE_ID:\n            return {\n                ...state,\n                currentFileID: action.payload\n            }\n        case actions.PROJECT_FILES:\n            return {\n                ...state,\n                projectFiles: action.payload\n            }\n        case actions.USER_DATA:\n            return {\n                ...state,\n                userData: action.payload\n            }\n        case actions.CURRENT_PROJECT_ID:\n            return {\n                ...state,\n                currentProjectID: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default appReducer","import * as actions from '../actions/dashboardActions'\n\nconst initialState = {\n    breadcrumbs: [{name: 'all files', docId: null}],\n    sortMethod: null,\n}\n\nconst dashboardReducer = (state=initialState, action) => {\n    switch(action.type) {\n        case actions.SORT_METHOD:\n            return {\n                ...state,\n                sortMethod: action.payload\n            }\n        case actions.BREADCRUMBS:\n            return {\n                ...state,\n                breadcrumbs: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default dashboardReducer","import { combineReducers } from 'redux'\nimport appReducer from './reducers/appReducer'\nimport dashboardReducer from './reducers/dashboardReducer'\n\nexport default combineReducers({\n    app: appReducer,\n    dashboard: dashboardReducer,\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk'\nimport reportWebVitals from './reportWebVitals';\nimport rootReducer from './redux/rootReducer'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}